{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth-guard.service.ts","webpack:///./src/app/components/console/console.component.css","webpack:///./src/app/components/console/console.component.html","webpack:///./src/app/components/console/console.component.ts","webpack:///./src/app/components/errors/page-not-found/page-not-found.component.css","webpack:///./src/app/components/errors/page-not-found/page-not-found.component.html","webpack:///./src/app/components/errors/page-not-found/page-not-found.component.ts","webpack:///./src/app/components/errors/server-error/server-error.component.css","webpack:///./src/app/components/errors/server-error/server-error.component.html","webpack:///./src/app/components/errors/server-error/server-error.component.ts","webpack:///./src/app/components/loading/loading.component.css","webpack:///./src/app/components/loading/loading.component.html","webpack:///./src/app/components/loading/loading.component.ts","webpack:///./src/app/components/login/login.component.css","webpack:///./src/app/components/login/login.component.html","webpack:///./src/app/components/login/login.component.ts","webpack:///./src/app/components/shared/actions.ts","webpack:///./src/app/components/shared/content/content.component.css","webpack:///./src/app/components/shared/content/content.component.html","webpack:///./src/app/components/shared/content/content.component.ts","webpack:///./src/app/components/shared/download/download.component.css","webpack:///./src/app/components/shared/download/download.component.html","webpack:///./src/app/components/shared/download/download.component.ts","webpack:///./src/app/components/shared/nav-bar/nav-bar.component.css","webpack:///./src/app/components/shared/nav-bar/nav-bar.component.html","webpack:///./src/app/components/shared/nav-bar/nav-bar.component.ts","webpack:///./src/app/components/shared/store.ts","webpack:///./src/app/components/shared/upload/upload.component.css","webpack:///./src/app/components/shared/upload/upload.component.html","webpack:///./src/app/components/shared/upload/upload.component.ts","webpack:///./src/app/components/study/actions.ts","webpack:///./src/app/components/study/assays/assay/assay.component.css","webpack:///./src/app/components/study/assays/assay/assay.component.html","webpack:///./src/app/components/study/assays/assay/assay.component.ts","webpack:///./src/app/components/study/assays/assays.component.css","webpack:///./src/app/components/study/assays/assays.component.html","webpack:///./src/app/components/study/assays/assays.component.ts","webpack:///./src/app/components/study/description/description.component.css","webpack:///./src/app/components/study/description/description.component.html","webpack:///./src/app/components/study/description/description.component.ts","webpack:///./src/app/components/study/description/description.validator.ts","webpack:///./src/app/components/study/design-descriptors/design-descriptor/design-descriptor.component.css","webpack:///./src/app/components/study/design-descriptors/design-descriptor/design-descriptor.component.html","webpack:///./src/app/components/study/design-descriptors/design-descriptor/design-descriptor.component.ts","webpack:///./src/app/components/study/design-descriptors/design-descriptors.component.css","webpack:///./src/app/components/study/design-descriptors/design-descriptors.component.html","webpack:///./src/app/components/study/design-descriptors/design-descriptors.component.ts","webpack:///./src/app/components/study/factors/factor/factor.component.css","webpack:///./src/app/components/study/factors/factor/factor.component.html","webpack:///./src/app/components/study/factors/factor/factor.component.ts","webpack:///./src/app/components/study/factors/factors.component.css","webpack:///./src/app/components/study/factors/factors.component.html","webpack:///./src/app/components/study/factors/factors.component.ts","webpack:///./src/app/components/study/files/file/file.component.css","webpack:///./src/app/components/study/files/file/file.component.html","webpack:///./src/app/components/study/files/file/file.component.ts","webpack:///./src/app/components/study/files/files.component.css","webpack:///./src/app/components/study/files/files.component.html","webpack:///./src/app/components/study/files/files.component.ts","webpack:///./src/app/components/study/metabolites/maf/maf.component.css","webpack:///./src/app/components/study/metabolites/maf/maf.component.html","webpack:///./src/app/components/study/metabolites/maf/maf.component.ts","webpack:///./src/app/components/study/metabolites/metabolites.component.css","webpack:///./src/app/components/study/metabolites/metabolites.component.html","webpack:///./src/app/components/study/metabolites/metabolites.component.ts","webpack:///./src/app/components/study/ontology/ontology.component.css","webpack:///./src/app/components/study/ontology/ontology.component.html","webpack:///./src/app/components/study/ontology/ontology.component.ts","webpack:///./src/app/components/study/organisms/organism/organism.component.css","webpack:///./src/app/components/study/organisms/organism/organism.component.html","webpack:///./src/app/components/study/organisms/organism/organism.component.ts","webpack:///./src/app/components/study/organisms/organisms.component.css","webpack:///./src/app/components/study/organisms/organisms.component.html","webpack:///./src/app/components/study/organisms/organisms.component.ts","webpack:///./src/app/components/study/people/people.component.css","webpack:///./src/app/components/study/people/people.component.html","webpack:///./src/app/components/study/people/people.component.ts","webpack:///./src/app/components/study/people/person/person.component.css","webpack:///./src/app/components/study/people/person/person.component.html","webpack:///./src/app/components/study/people/person/person.component.ts","webpack:///./src/app/components/study/people/person/person.validator.ts","webpack:///./src/app/components/study/protocols/protocol/protocol.component.css","webpack:///./src/app/components/study/protocols/protocol/protocol.component.html","webpack:///./src/app/components/study/protocols/protocol/protocol.component.ts","webpack:///./src/app/components/study/protocols/protocol/protocol.validator.ts","webpack:///./src/app/components/study/protocols/protocols.component.css","webpack:///./src/app/components/study/protocols/protocols.component.html","webpack:///./src/app/components/study/protocols/protocols.component.ts","webpack:///./src/app/components/study/publications/publication/publication.component.css","webpack:///./src/app/components/study/publications/publication/publication.component.html","webpack:///./src/app/components/study/publications/publication/publication.component.ts","webpack:///./src/app/components/study/publications/publication/publication.validator.ts","webpack:///./src/app/components/study/publications/publications.component.css","webpack:///./src/app/components/study/publications/publications.component.html","webpack:///./src/app/components/study/publications/publications.component.ts","webpack:///./src/app/components/study/release-date/release-date.component.css","webpack:///./src/app/components/study/release-date/release-date.component.html","webpack:///./src/app/components/study/release-date/release-date.component.ts","webpack:///./src/app/components/study/samples/samples.component.css","webpack:///./src/app/components/study/samples/samples.component.html","webpack:///./src/app/components/study/samples/samples.component.ts","webpack:///./src/app/components/study/status/status.component.css","webpack:///./src/app/components/study/status/status.component.html","webpack:///./src/app/components/study/status/status.component.ts","webpack:///./src/app/components/study/store.ts","webpack:///./src/app/components/study/study.component.css","webpack:///./src/app/components/study/study.component.html","webpack:///./src/app/components/study/study.component.ts","webpack:///./src/app/components/study/title/title.component.css","webpack:///./src/app/components/study/title/title.component.html","webpack:///./src/app/components/study/title/title.component.ts","webpack:///./src/app/components/study/title/title.validator.ts","webpack:///./src/app/models/mtbl/mtbls/common/mtbls-column.ts","webpack:///./src/app/models/mtbl/mtbls/common/mtbls-comment.ts","webpack:///./src/app/models/mtbl/mtbls/common/mtbls-ontology-reference.ts","webpack:///./src/app/models/mtbl/mtbls/common/mtbls-ontology.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-characterstic.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-factor-value.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-factor.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-person.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-process-sequence.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-protocol.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-publication.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-sample.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-source.ts","webpack:///./src/app/models/mtbl/mtbls/mtbls-study.ts","webpack:///./src/app/pipes/reverse.pipe.ts","webpack:///./src/app/services/data.service.ts","webpack:///./src/app/services/error/app-error.ts","webpack:///./src/app/services/error/bad-input.ts","webpack:///./src/app/services/error/forbidden-error.ts","webpack:///./src/app/services/error/internal-server-error.ts","webpack:///./src/app/services/error/not-found-error.ts","webpack:///./src/app/services/globals.ts","webpack:///./src/app/services/headers.ts","webpack:///./src/app/services/metabolights/auth.service.ts","webpack:///./src/app/services/metabolights/metabolights.service.ts","webpack:///./src/app/services/publications/doi.service.ts","webpack:///./src/app/services/publications/europePMC.service.ts","webpack:///./src/app/store.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './components/login/login.component';\nimport { ConsoleComponent } from './components/console/console.component';\nimport { StudyComponent } from './components/study/study.component';\nimport { PageNotFoundComponent } from './components/errors/page-not-found/page-not-found.component';\nimport { ServerErrorComponent } from './components/errors/server-error/server-error.component';\nimport { AuthGuard }  from './auth-guard.service';\n\nconst routes: Routes = [\n\t{ path: 'login', component: LoginComponent },\n\t{ path: 'console', canActivate: [AuthGuard], component: ConsoleComponent },\n\t{ path: '', redirectTo: 'console', pathMatch: 'full'},\n\t{ path: 'study', redirectTo: 'console', pathMatch: 'full'},\n\t{ path: 'study/:id', canActivate: [AuthGuard], component: StudyComponent },\n\t{ path: 'study/:id/:tab', canActivate: [AuthGuard], component: StudyComponent },\n\t{ path: 'error',  component: ServerErrorComponent },\n\t{ path: '**', component: PageNotFoundComponent }\n];\n\n@NgModule({\n\timports: [ RouterModule.forRoot(routes) ],\n\texports: [ RouterModule ]\n})\nexport class AppRoutingModule {}","module.exports = \"@import \\\"https://cdn.materialdesignicons.com/2.1.19/css/materialdesignicons.min.css\\\";\\n\\n.card-heading{\\n\\tpadding: 10px 20px; \\n\\tmin-height: 3em;\\n\\tbox-shadow: 0 1px 2px rgba(10, 10, 10, 0.1);\\n}\\n\"","module.exports = \"<div>\\n\\t<mtbls-loading></mtbls-loading>\\n\\t<router-outlet></router-outlet>\\n</div>\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\tconstructor() {}\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, isDevMode } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { NgReduxModule, NgRedux, DevToolsExtension } from '@angular-redux/store';\nimport { NgReduxRouterModule, NgReduxRouter } from '@angular-redux/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IAppState, rootReducer, INITIAL_STATE } from './store';\n\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatNativeDateModule } from '@angular/material';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { PublicationComponent } from './components/study/publications/publication/publication.component';\nimport { PublicationsComponent } from './components/study/publications/publications.component';\nimport { ReleaseDateComponent } from './components/study/release-date/release-date.component';\nimport { DescriptionComponent } from './components/study/description/description.component';\nimport { PersonComponent } from './components/study/people/person/person.component';\nimport { StatusComponent } from './components/study/status/status.component';\nimport { PeopleComponent } from './components/study/people/people.component';\nimport { LoadingComponent } from './components/loading/loading.component';\nimport { TitleComponent } from './components/study/title/title.component';\nimport { StudyComponent } from './components/study/study.component';\nimport { AppComponent } from './app.component';\nimport { OntologyComponent } from './components/study/ontology/ontology.component';\nimport { DesignDescriptorsComponent } from './components/study/design-descriptors/design-descriptors.component';\nimport { DesignDescriptorComponent } from './components/study/design-descriptors/design-descriptor/design-descriptor.component';\nimport { FactorsComponent } from './components/study/factors/factors.component';\nimport { FactorComponent } from './components/study/factors/factor/factor.component';\nimport { ProtocolsComponent } from './components/study/protocols/protocols.component';\nimport { ProtocolComponent } from './components/study/protocols/protocol/protocol.component';\nimport { ContentComponent } from './components/shared/content/content.component';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { AssaysComponent } from './components/study/assays/assays.component';\nimport { AssayComponent } from './components/study/assays/assay/assay.component';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { FilesComponent } from './components/study/files/files.component';\nimport { FileComponent } from './components/study/files/file/file.component';\nimport { MetabolitesComponent } from './components/study/metabolites/metabolites.component';\nimport { MafComponent } from './components/study/metabolites/maf/maf.component';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { UploadComponent } from './components/shared/upload/upload.component';\nimport { DownloadComponent } from './components/shared/download/download.component';\n\nimport { ReversePipe } from './pipes/reverse.pipe';\nimport { SamplesComponent } from './components/study/samples/samples.component';\nimport { LoginComponent } from './components/login/login.component';\nimport { ServerErrorComponent } from './components/errors/server-error/server-error.component';\nimport { PageNotFoundComponent } from './components/errors/page-not-found/page-not-found.component';\n\n// Auth services\nimport { AuthGuard }      from './auth-guard.service';\nimport { AuthService }    from './services/metabolights/auth.service';\nimport { ConsoleComponent } from './components/console/console.component';\nimport { NavBarComponent } from './components/shared/nav-bar/nav-bar.component';\n\nimport { NgxWigModule } from 'ngx-wig';\nimport { OrganismsComponent } from './components/study/organisms/organisms.component';\nimport { OrganismComponent } from './components/study/organisms/organism/organism.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    StudyComponent,\n    LoadingComponent,\n    TitleComponent,\n    DescriptionComponent,\n    PeopleComponent,\n    PersonComponent,\n    PublicationsComponent,\n    PublicationComponent,\n    StatusComponent,\n    ReleaseDateComponent,\n    OntologyComponent,\n    DesignDescriptorsComponent,\n    DesignDescriptorComponent,\n    FactorsComponent,\n    FactorComponent,\n    ProtocolsComponent,\n    ProtocolComponent,\n    ContentComponent,\n    AssaysComponent,\n    AssayComponent,\n    FilesComponent,\n    FileComponent,\n    MetabolitesComponent,\n    MafComponent,\n    UploadComponent,\n    DownloadComponent,\n    ReversePipe,\n    SamplesComponent,\n    PageNotFoundComponent,\n    LoginComponent,\n    ServerErrorComponent,\n    ConsoleComponent,\n    NavBarComponent,\n    OrganismsComponent,\n    OrganismComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    NgReduxModule,\n    BrowserAnimationsModule,\n    MatIconModule,\n    MatInputModule,\n    MatChipsModule,\n    MatProgressSpinnerModule,\n    ReactiveFormsModule,\n    MatAutocompleteModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatTableModule,\n    MatSortModule,\n    MatSelectModule,\n    MatRadioModule,\n    MatButtonToggleModule,\n    MatPaginatorModule,\n    AppRoutingModule,\n    FormsModule,\n    NgxWigModule,\n    NgReduxRouterModule.forRoot()\n  ],\n  providers: [\n    AuthGuard\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { \n  constructor(ngRedux: NgRedux<IAppState>, devTools: DevToolsExtension, ngReduxRouter: NgReduxRouter) {\n    let enhancers = (isDevMode() && devTools.enhancer()!= null) ? [devTools.enhancer()] : []\n    ngRedux.configureStore(rootReducer, INITIAL_STATE, [], enhancers);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot, CanActivateChild } from '@angular/router';\nimport { AuthService } from './services/metabolights/auth.service';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from './store';\nimport { contentHeaders } from './services/headers';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate, CanActivateChild {\n  constructor(private authService: AuthService, private router: Router, private ngRedux: NgRedux<IAppState>) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    let url: string = state.url;\n    return this.checkLogin(url);\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    return this.canActivate(route, state);\n  }\n\n  checkLogin(url: string): boolean {\n    let user = JSON.parse(JSON.stringify(this.ngRedux.getState().status['user']));\n    if(user == null){\n      let localUser = localStorage.getItem('user');\n      if ( localUser != null) { \n          contentHeaders.set('user_token', JSON.parse(localUser).apiToken);\n          this.ngRedux.dispatch({ type: 'SET_USER', body: {\n            'user': localUser\n          }})\n          // localStorage.removeItem('user');\n          return true; \n      }\n    }else{\n      contentHeaders.set('user_token', user.apiToken);\n      return true;\n    }\n    \n    // Store the attempted URL for redirecting\n    this.authService.redirectUrl = url;\n    \n    // Navigate to the login page with extras\n    this.router.navigate(['/login']);\n    return false;\n  }\n}","module.exports = \".is-vertical-center {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.panel-block:hover{\\n\\tbackground-color: white;\\n}\\n\\n.logout-link{\\n\\tfont-size: 0.8em;\\n\\tfloat: right;\\n\\tpadding: 3px 10px;\\n\\tbackground-color: #3676D9;\\n\\tmargin: 1px;\\n\\tcolor: #fff;\\n\\tmargin-top: -2em;\\n}\\n\\n.logout-link:hover{\\n\\tbackground-color: #1f58ad;\\n}\"","module.exports = \"<div class=\\\"columns\\\" style=\\\"min-height: 100vh; margin: 40px 0;\\\">\\n\\t<div class=\\\"column is-half is-offset-one-quarter\\\">\\n\\t\\t<!-- <a class=\\\"logout-link\\\" (click)=\\\"logOut()\\\">Logout</a> -->\\n\\t\\t<nav class=\\\"panel\\\">\\n\\t\\t\\t<p class=\\\"panel-heading\\\">\\n\\t\\t\\t\\tMy Studies ( {{ studies.length }} )\\n\\t\\t\\t</p>\\n\\t\\t\\t<div class=\\\"panel-block\\\">\\n\\t\\t\\t\\t<p class=\\\"control\\\">\\n\\t\\t\\t\\t\\t<input [disabled]=\\\"loadingStudies\\\" (keyup)=\\\"applyFilter($event.target.value)\\\" class=\\\"input is-small\\\" type=\\\"text\\\" placeholder=\\\"search\\\">\\n\\t\\t\\t\\t\\t<!-- <span class=\\\"icon is-small is-left\\\">\\n\\t\\t\\t\\t\\t\\t<i class=\\\"fas fa-search\\\" aria-hidden=\\\"true\\\"></i>\\n\\t\\t\\t\\t\\t</span> -->\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</div>\\n\\t\\t\\t<!-- <p class=\\\"panel-tabs\\\">\\n\\t\\t\\t\\t<a class=\\\"is-active\\\">all</a>\\n\\t\\t\\t\\t<a>public</a>\\n\\t\\t\\t\\t<a>private</a>\\n\\t\\t\\t\\t<a>sources</a>\\n\\t\\t\\t\\t<a>forks</a>\\n\\t\\t\\t</p> -->\\n\\t\\t\\t<a [routerLink]=\\\"['/create']\\\" class=\\\"panel-block\\\">\\n\\t\\t\\t\\t<span class=\\\"has-text-link\\\">&nbsp;&nbsp;&nbsp;&nbsp;+ Create new study</span>\\n\\t\\t\\t</a>\\n\\t\\t\\t<div *ngFor=\\\"let study of filteredStudies\\\">\\n\\t\\t\\t\\t<a [routerLink]=\\\"['/study', study.id]\\\" class=\\\"panel-block\\\">\\n\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t<p class=\\\"has-text-link\\\"><b>{{ study.id }}: {{ study.title }}</b></p>\\t\\n\\t\\t\\t\\t\\t\\t<p><small>{{ study.description }}</small></p>\\n\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</div>\\n\\t\\t</nav>\\t\\n\\t\\t<p *ngIf=\\\"loadingStudies\\\" class=\\\"has-text-centered\\\">\\n\\t\\t\\t<img src=\\\"/assets/img/loading.svg\\\"><br>\\n\\t\\t\\tLoading studies\\n\\t\\t</p>\\n\\t</div>\\n</div>\"","import { Router } from '@angular/router';\nimport { IAppState } from './../../store';\nimport { NgRedux } from '@angular-redux/store';\nimport { Component, OnInit } from '@angular/core';\nimport { Http, Response, Headers } from '@angular/http';\nimport { contentHeaders } from './../../services/headers';\nimport { AuthenticationURL } from './../../services/globals';\nimport { AuthService } from '../../services/metabolights/auth.service';\n\n@Component({\n\tselector: 'mtbls-console',\n\ttemplateUrl: './console.component.html',\n\tstyleUrls: ['./console.component.css']\n})\nexport class ConsoleComponent implements OnInit {\n\n    private studies: string[] = []\n    private filteredStudies: string[] = []\n    loadingStudies: boolean = false;\n\n    constructor(public router: Router, private authService: AuthService, public http: Http, private ngRedux: NgRedux<IAppState>) { }\n\n    ngOnInit() {\n        this.getUserStudies();\n    }\n\n    ngAfterContentInit() {\n        //this.getUserStudies();\n    }\n\n    applyFilter(value){\n        if(value != ''){\n            this.filteredStudies = this.studies.filter( s => {\n                if(value != ''){\n                    return this.getString(s).indexOf(value) != -1;             \n                }else{\n                    return true;\n                }\n            })\n        }\n    }\n\n    getString(s){\n        return s.id + ' ' + s.title + ' ' + s.description \n    }\n\n    // Studies list\n    getUserStudies() {\n        this.loadingStudies = true;\n        this.authService.getUserStudies().subscribe(\n            response => {\n                this.studies = JSON.parse(response.content);\n                this.filteredStudies = this.studies;\n                this.loadingStudies = false;\n            },\n            error => {\n\n            }\n        )\n    }\n\n    logOut() {\n        this.authService.logout();\n    }\n\n}\n","module.exports = \".is-vertical-center {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.display-message-wrapper{\\n\\tpadding: 5em;\\n}\\n\\n.display-message-title{\\n\\tfont-size: 8em;\\n\\tdisplay: block;\\n\\tmargin-bottom: 0;\\n\\tline-height: 1em;\\n}\\n\\n.display-message-content{\\n\\tfont-size: 1em;\\n\\ttext-transform:\\tuppercase;\\n\\tletter-spacing: 0.5em;\\n}\"","module.exports = \"<div class=\\\"columns\\\">\\n\\t<div class=\\\"column is-half is-vertical-center\\\" style=\\\"height: 100vh; justify-content: right;\\\">\\n\\t\\t<svg height=\\\"50vh\\\" viewBox=\\\"-16 1 511 511.99898\\\" width=\\\"511pt\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"m267.921875 385.722656c0 19.859375-16.097656 35.957032-35.957031 35.957032h-108.773438c-48.976562 0-88.828125-39.84375-88.828125-88.816407v-113.285156c0-19.859375 16.105469-35.957031 35.96875-35.957031 5.394531 0 10.507813 1.1875 15.097657 3.320312 12.324218 5.699219 20.859374 18.171875 20.859374 32.636719v113.285156c0 9.308594 7.582032 16.890625 16.902344 16.890625h108.773438c19.859375 0 35.957031 16.105469 35.957031 35.96875zm0 0\\\" fill=\\\"#35e298\\\"/><path d=\\\"m267.921875 385.722656c0 19.859375-16.097656 35.957032-35.957031 35.957032h-78.574219c-48.972656 0-88.828125-39.84375-88.828125-88.816407v-113.285156c0-14.464844 8.546875-26.9375 20.867188-32.636719 12.324218 5.699219 20.859374 18.171875 20.859374 32.636719v113.285156c0 9.308594 7.582032 16.890625 16.902344 16.890625h108.773438c19.859375 0 35.957031 16.105469 35.957031 35.96875zm0 0\\\" fill=\\\"#7af4ab\\\"/><path d=\\\"m309.6875 104.394531v386.808594c0 7.316406-5.9375 13.246094-13.257812 13.246094h-104.382813c-7.328125 0-13.257813-5.929688-13.257813-13.246094v-386.808594c0-18 7.371094-34.355469 19.230469-46.226562 11.855469-11.859375 28.226563-19.214844 46.214844-19.214844 5.195313 0 10.257813.613281 15.109375 1.769531 28.78125 6.867188 50.34375 32.867188 50.34375 63.671875zm0 0\\\" fill=\\\"#35e298\\\"/><path d=\\\"m309.6875 104.394531v386.808594c0 7.316406-5.9375 13.246094-13.257812 13.246094h-74.179688c-7.328125 0-13.257812-5.929688-13.257812-13.246094v-386.808594c0-18 7.367187-34.355469 19.226562-46.226562 8.4375-8.433594 19.15625-14.597657 31.125-17.445313 28.78125 6.867188 50.34375 32.867188 50.34375 63.671875zm0 0\\\" fill=\\\"#7af4ab\\\"/><path d=\\\"m443.75 109.691406v92.867188c0 40.144531-32.667969 72.820312-72.816406 72.820312h-58.980469c-16.277344 0-29.476563-13.207031-29.476563-29.484375 0-16.289062 13.199219-29.484375 29.476563-29.484375h58.980469c7.640625 0 13.855468-6.210937 13.855468-13.851562v-92.867188c0-16.289062 13.195313-29.484375 29.484376-29.484375 5.515624 0 10.679687 1.519531 15.097656 4.15625 8.617187 5.152344 14.378906 14.566407 14.378906 25.328125zm0 0\\\" fill=\\\"#35e298\\\"/><path d=\\\"m443.75 109.691406v92.867188c0 40.144531-32.667969 72.820312-72.816406 72.820312h-58.980469c-16.277344 0-29.476563-13.207031-29.476563-29.484375 0-16.289062 13.199219-29.484375 29.476563-29.484375h89.183594c7.640625 0 13.851562-6.210937 13.851562-13.851562v-92.867188c0-10.773437 5.765625-20.183594 14.382813-25.328125 8.617187 5.152344 14.378906 14.566407 14.378906 25.328125zm0 0\\\" fill=\\\"#7af4ab\\\"/><path d=\\\"m471.339844 174.988281c4.171875 0 7.550781-3.378906 7.550781-7.550781 0-4.167969-3.378906-7.546875-7.550781-7.546875h-20.042969v-35.558594h20.042969c4.171875 0 7.550781-3.378906 7.550781-7.546875 0-4.171875-3.378906-7.550781-7.550781-7.550781h-20.054688c-.214844-17.636719-12.800781-32.339844-29.464844-35.804687v-19.542969c0-4.167969-3.382812-7.550781-7.550781-7.550781s-7.550781 3.382812-7.550781 7.550781v19.542969c-16.8125 3.496093-29.480469 18.421874-29.480469 36.261718v30.992188h-21.148437c-4.167969 0-7.550782 3.378906-7.550782 7.550781 0 4.167969 3.382813 7.546875 7.550782 7.546875h21.148437v7.738281c0 4.175781 3.382813 7.546875 7.550781 7.546875 4.164063 0 7.546876-3.371094 7.546876-7.546875v-53.828125c0-12.097656 9.832031-21.929687 21.925781-21.9375h.015625c12.089844.003906 21.921875 9.839844 21.921875 21.9375v92.867188c0 35.988281-29.273438 65.269531-65.265625 65.269531h-53.695313v-43.871094h53.695313c11.800781 0 21.402344-9.601562 21.402344-21.398437v-8.839844c0-4.167969-3.382813-7.550781-7.546876-7.550781-4.167968 0-7.550781 3.382812-7.550781 7.550781v8.839844c0 3.472656-2.828125 6.300781-6.304687 6.300781h-53.695313v-23.519531h20.964844c4.171875 0 7.550781-3.378906 7.550781-7.550782 0-4.167968-3.378906-7.546874-7.550781-7.546874h-20.964844v-40.574219c1.667969.398437.527344.132812 28.074219.210937 4.167969 0 7.550781-3.378906 7.550781-7.546875 0-4.171875-3.382812-7.550781-7.550781-7.550781-27.792969.078125-26.4375-.179688-28.074219.210938-.558593-6.246094 2.679688-24.097657-8.835937-45.289063l15.929687-15.925781c2.949219-2.949219 2.949219-7.730469 0-10.679688-2.949219-2.949218-7.730469-2.949218-10.679687 0l-13.953125 13.953125c-2.515625-2.941406-5.28125-5.710937-8.28125-8.265625-3.179688-2.695312-7.941407-2.3125-10.652344.867188-2.695313 3.171875-2.3125 7.941406.867187 10.640625 13.027344 11.074219 20.507813 27.148437 20.507813 44.101562v386.808594c0 3.140625-2.558594 5.695313-5.710937 5.695313h-104.382813c-3.148437 0-5.707031-2.554688-5.707031-5.695313 0-78.242187 0-301.605469 0-386.808594 0-37.511719 35.367187-65.226562 71.746094-56.210937 4.046874 1.003906 8.144531-1.460938 9.152343-5.507813.996094-4.046875-1.472656-8.144531-5.519531-9.148437-3.257812-.808594-6.578125-1.378906-9.929688-1.726563v-24.25c0-4.171875-3.378906-7.550781-7.550781-7.550781-4.167969 0-7.546875 3.378906-7.546875 7.550781v24.238281c-12.363281 1.277344-23.816406 5.65625-33.574218 12.335938l-15.59375-15.59375c-2.949219-2.949219-7.730469-2.949219-10.675782 0-2.949218 2.949219-2.949218 7.726562 0 10.675781l14.722656 14.726563c-11.234374 11.71875-18.601562 27.15625-20.046874 44.265625h-19.050782c-4.167968 0-7.550781 3.382812-7.550781 7.550781 0 4.171875 3.382813 7.550781 7.550781 7.550781h18.769532v69.808594h-18.769532c-4.167968 0-7.550781 3.382813-7.550781 7.550781 0 4.171875 3.382813 7.550782 7.550781 7.550782h18.769532v69.8125h-18.769532c-4.167968 0-7.550781 3.378906-7.550781 7.550781 0 4.167969 3.382813 7.546875 7.550781 7.546875h18.769532v59.082031h-48.046876c-5.15625 0-9.355468-4.1875-9.355468-9.339844v-15.355469h19.34375c4.167968 0 7.550781-3.378906 7.550781-7.550781 0-4.167969-3.382813-7.546875-7.550781-7.546875h-19.34375v-49.433594h19.34375c4.167968 0 7.550781-3.382812 7.550781-7.550781 0-4.171875-3.382813-7.550781-7.550781-7.550781h-19.34375v-18.304688c0-.59375-.007813-1.179687-.027344-1.773437-.171875-4.167969-3.695312-7.378906-7.851562-7.238281-4.167969.164062-7.410157 3.675781-7.238282 7.84375.03125 1.222656.007813 6.269531.019532 114.460937 0 13.476563 10.972656 24.441407 24.453124 24.441407h48.046876v56.824218h-48.046876c-44.820312 0-81.28125-36.460937-81.28125-81.265625 0-3.105469 0-2.527343 0-113.285156 0-24.125 28.210938-37.039063 46.5-21.914063 3.21875 2.65625 7.972657 2.203126 10.628907-1.007812s2.203125-7.972656-1.007813-10.628906c-5.816406-4.808594-12.792968-7.996094-20.167968-9.296875v-19.429688c0-4.167969-3.378907-7.550781-7.546876-7.550781-4.171874 0-7.550781 3.382812-7.550781 7.550781v19.441407c-20.402343 3.59375-35.957031 21.429687-35.957031 42.835937v18.296875h-18.761719c-4.171875 0-7.550781 3.378906-7.550781 7.550781 0 4.167969 3.378906 7.550781 7.550781 7.550781h18.761719v59.777344h-18.761719c-4.171875 0-7.550781 3.378906-7.550781 7.550782 0 4.167968 3.378906 7.546874 7.550781 7.546874h18.761719c.367188 2.578126-2.941406 30.636719 16.945312 59.519532l-22.890624 21.148437c-3.0625 2.832031-3.253907 7.605469-.421876 10.667969 2.816407 3.050781 7.59375 3.265625 10.667969.421875l22.167969-20.480469c13.902344 14.652344 32.34375 24.953125 53.050781 28.625v20.246094c0 4.171875 3.382813 7.550781 7.550781 7.550781 4.167969 0 7.550782-3.378906 7.550782-7.550781v-18.792969c.585937.011719 1.171875.023438 1.761718.023438h48.046876v61.96875c0 11.46875 9.332031 20.800781 20.808593 20.800781h104.382813c11.476562 0 20.808594-9.332031 20.808594-20.800781v-208.269531h25.570312v17.550781c0 4.167969 3.378906 7.550781 7.550781 7.550781 4.167969 0 7.546875-3.382812 7.546875-7.550781v-17.550781c7.15625-.804688 31.640625 4.039062 57.9375-13.753907 27.015625 25.945313 26.644532 29.042969 32.171875 29.042969 6.667969 0 10.109375-8.121094 5.339844-12.886719l-25.800781-25.800781c10-9.941406 17.402344-22.492188 21.097656-36.527344h22.203125c4.171875 0 7.550781-3.382812 7.550781-7.550781 0-4.171875-3.378906-7.550781-7.550781-7.550781h-19.757813c.355469-5.351563.128907-5.554688.199219-32.914063zm0 0\\\"/><path d=\\\"m222.035156 104.242188c6.050782 0 11.003906-4.953126 11.003906-11.003907s-4.953124-11-11.003906-11c-6.050781 0-11 4.949219-11 11s4.949219 11.003907 11 11.003907zm0 0\\\"/><path d=\\\"m254.195312 130.6875c0 6.050781 4.953126 11.003906 11.003907 11.003906s11-4.953125 11-11.003906-4.949219-11-11-11-11.003907 4.949219-11.003907 11zm0 0\\\"/><path d=\\\"m211.035156 336.988281c0 6.050781 4.949219 11 11 11 6.050782 0 11.003906-4.949219 11.003906-11s-4.953124-11.003906-11.003906-11.003906c-6.050781 0-11 4.953125-11 11.003906zm0 0\\\"/><path d=\\\"m265.199219 385.4375c6.050781 0 11-4.949219 11-11s-4.949219-11.003906-11-11.003906-11.003907 4.953125-11.003907 11.003906 4.953126 11 11.003907 11zm0 0\\\"/><path d=\\\"m225.84375 172.050781c-6.050781 0-11.003906 4.953125-11.003906 11.003907 0 6.050781 4.953125 11 11.003906 11s11-4.949219 11-11c0-6.050782-4.949219-11.003907-11-11.003907zm0 0\\\"/><path d=\\\"m261.179688 256c0-6.050781-4.953126-11-11.003907-11s-11 4.949219-11 11 4.949219 11.003906 11 11.003906 11.003907-4.953125 11.003907-11.003906zm0 0\\\"/><path d=\\\"m225.84375 462.390625c6.050781 0 11-4.949219 11-11 0-6.054687-4.949219-11.003906-11-11.003906s-11.003906 4.949219-11.003906 11.003906c0 6.050781 4.953125 11 11.003906 11zm0 0\\\"/><path d=\\\"m272.179688 468.410156c6.050781 0 11.003906-4.949218 11.003906-11 0-6.050781-4.953125-11.003906-11.003906-11.003906-6.050782 0-11 4.953125-11 11.003906 0 6.050782 4.949218 11 11 11zm0 0\\\"/><path d=\\\"m70.039062 235.914062c6.054688 0 11.003907-4.953124 11.003907-11.003906 0-6.050781-4.949219-11-11.003907-11-6.050781 0-11 4.949219-11 11 0 6.050782 4.949219 11.003906 11 11.003906zm0 0\\\"/><path d=\\\"m89.097656 283.800781c0-6.050781-4.953125-11-11.003906-11s-11 4.949219-11 11 4.949219 11.003907 11 11.003907 11.003906-4.953126 11.003906-11.003907zm0 0\\\"/><path d=\\\"m50.984375 336.988281c0 6.050781 4.949219 11 11.003906 11 6.050781 0 11-4.949219 11-11s-4.949219-11.003906-11-11.003906-11.003906 4.953125-11.003906 11.003906zm0 0\\\"/><path d=\\\"m104.769531 391.277344c6.054688 0 11.003907-4.949219 11.003907-11.003906 0-6.050782-4.949219-11-11.003907-11-6.050781 0-11 4.949218-11 11 0 6.054687 4.949219 11.003906 11 11.003906zm0 0\\\"/><path d=\\\"m414.269531 127.785156c6.050781 0 11.003907-4.949218 11.003907-11 0-6.050781-4.953126-11.003906-11.003907-11.003906s-11 4.953125-11 11.003906c0 6.050782 4.949219 11 11 11zm0 0\\\"/><path d=\\\"m350.359375 234.421875c-6.050781 0-11 4.953125-11 11.003906s4.949219 11 11 11 11.003906-4.949219 11.003906-11-4.953125-11.003906-11.003906-11.003906zm0 0\\\"/></svg>\\n</div>\\n\\t<div class=\\\"column is-half display-message-wrapper is-vertical-center\\\" style=\\\"height: 100vh;\\\">\\n\\t\\t<div>\\n\\t\\t\\t<h1 class=\\\"display-message-title\\\">404</h1>\\n\\t\\t\\t<p class=\\\"display-message-content\\\">Page not found</p>\\n\\t\\t\\t<br>\\n\\t\\t\\t<a class=\\\"button is-primary is-outlined\\\">< Go back</a>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"","import { IAppState } from './../../../store';\nimport { Component, OnInit } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.css']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor(private ngRedux: NgRedux<IAppState>) { }\n\n  ngOnInit() {\n  \tthis.ngRedux.dispatch({ type: 'DISABLE_LOADING' })\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<p>\\n  server-error works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-server-error',\n  templateUrl: './server-error.component.html',\n  styleUrls: ['./server-error.component.css']\n})\nexport class ServerErrorComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".modal-background {\\n    background-color: rgba(255, 255, 255, 0.95);\\n}\\n\"","module.exports = \"<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': (isLoading | async)}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body has-text-centered\\\">\\n      <img src=\\\"assets/img/loading.svg\\\"> <br>\\n      <br>\\n      <small>\\n      \\t<p class=\\\"has-text-info\\\">\\n      \\t\\t<mat-icon>comment</mat-icon>{{ loadingInformation | async }}\\n      \\t</p>\\n      </small>\\n    </section>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { IAppState } from '../.././store';\n\n@Component({\n  selector: 'mtbls-loading',\n  templateUrl: './loading.component.html',\n  styleUrls: ['./loading.component.css']\n})\nexport class LoadingComponent implements OnInit {\n\n  @select(state => state.status.loading) isLoading: boolean\n  @select(state => state.status.info) loadingInformation: string\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".vertical-center{\\n\\tdisplay: flex;\\n\\theight: 100vh;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n}\"","module.exports = \"<div class=\\\"columns\\\">\\n\\t<div class=\\\"column is-one-third is-offset-one-third\\\">\\n\\t\\t<div class=\\\"vertical-center\\\">\\n\\t\\t\\t<div class=\\\"card\\\" style=\\\"width: 100%\\\">\\n\\t\\t\\t\\t<header class=\\\"card-header\\\">\\n\\t\\t\\t\\t\\t<p class=\\\"card-header-title\\\">\\n\\t\\t\\t\\t\\t\\tMetaboLights Online Editor\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t</header>\\n\\t\\t\\t\\t<div class=\\\"card-content\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"content\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"label\\\">Email</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input #email class=\\\"input is-success\\\" type=\\\"text\\\" value=\\\"\\\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field\\\">\\n\\t\\t\\t\\t\\t\\t\\t<label class=\\\"label\\\">Password</label>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<input #secret class=\\\"input is-success\\\" type=\\\"password\\\" value=\\\"\\\">\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field is-grouped\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"button is-link\\\" (click)=\\\"login($event, email.value, secret.value)\\\">Login</button>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<!-- <div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<button class=\\\"button is-text\\\">Cancel</button>\\n\\t\\t\\t\\t\\t\\t\\t</div> -->\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"","import { IAppState } from './../../store';\nimport { Component, OnInit } from '@angular/core';\nimport { AuthService } from './../../services/metabolights/auth.service';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(private ngRedux: NgRedux<IAppState>, public router: Router, private authService: AuthService) { }\n\n  ngOnInit() {\n  \tthis.ngRedux.dispatch({ type: 'DISABLE_LOADING' })\n  }\n\n  login(event, email, secret) {\n    event.preventDefault();\n    let body = JSON.stringify({ email, secret });\n    this.authService.login(body);\n  }\n\n}\n","export const TOGGLE_LOADING = 'TOGGLE_LOADING';\nexport const SET_LOADING_INFO = 'SET_LOADING_INFO';\nexport const SET_CONFIGURATION = 'SET_CONFIGURATION';\nexport const SET_TAB_INDEX = 'SET_TAB_INDEX';\nexport const SET_USER = 'SET_USER';\nexport const ENABLE_LOADING = 'ENABLE_LOADING';\nexport const DISABLE_LOADING = 'DISABLE_LOADING';\n\n\n\n","module.exports = \"p{\\n\\tmargin-bottom: 10px;\\n}\"","module.exports = \"<p>\\n\\t<span *ngIf=\\\"displayContent.length > 0; else emptyMessage\\\" [innerHTML]='displayContent' class=\\\"fadeIn animated\\\"></span>\\n\\t<ng-template #emptyMessage>\\n\\t\\t<p class=\\\"has-text-centered\\\">\\n\\t    \\t<i>\\n\\t    \\t\\t<small>\\n\\t    \\t\\t\\t<span [innerHTML]='message' class=\\\"has-text-grey-light fadeIn animated\\\"></span>\\n\\t    \\t\\t</small>\\n\\t    \\t</i>\\n    \\t</p>\\n    </ng-template>\\n\\t<span *ngIf=\\\"displayMoreOption; else hideContent\\\">\\n\\t\\t&nbsp;<a (click)=\\\"toggleContent()\\\"><i><small><mat-icon>arrow_drop_down</mat-icon>more</small></i></a>\\n\\t</span>\\n\\t<ng-template #hideContent>\\n\\t\\t<span *ngIf=\\\"displayContent.length > count\\\">\\n\\t\\t\\t&nbsp;<a (click)=\\\"toggleContent()\\\"><i><small><mat-icon>arrow_drop_up</mat-icon>hide</small></i></a>\\n\\t\\t</span>\\n\\t</ng-template>\\n</p>\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n\tselector: 'mtbls-content',\n\ttemplateUrl: './content.component.html',\n\tstyleUrls: ['./content.component.css']\n})\nexport class ContentComponent implements OnInit {\n\n\t@Input('value') content: any;\n\t@Input('count') count: any;\n\t@Input('message') message: string;\n\n\tdisplayContent: string = '';\n\tdisplayMoreOption: boolean = false;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tif(this.message == '' || this.message == null){\n\t\t\tthis.message = 'This section is empty.'\n\t\t}\n\n\t\tif(this.count > 0){\n\t\t\tif(this.content.length > this.count){\n\t\t\t\tthis.displayContent = this.content.slice(0,this.count)\n\t\t\t\tthis.displayMoreOption = true;\n\t\t\t}else{\n\t\t\t\tthis.displayContent = this.content\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleContent(){\n\t\tthis.displayMoreOption = !this.displayMoreOption\n\t\tif(this.displayContent.length > this.count){\n\t\t\tthis.displayContent = this.content.slice(0, this.count)\n\t\t}else{\n\t\t\tthis.displayContent = this.content\n\t\t}\n\t}\n}\n","module.exports = \"\"","module.exports = \"<a (click)=\\\"download()\\\" class=\\\"button is-small is-light\\\">\\n\\t<mat-icon>cloud_download</mat-icon> Download\\n</a>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport * as toastr from 'toastr';\n\n@Component({\n\tselector: 'mtbls-download',\n\ttemplateUrl: './download.component.html',\n\tstyleUrls: ['./download.component.css']\n})\nexport class DownloadComponent implements OnInit {\n\n\t@Input('value') file: string;\n\t\n\tconstructor(private fb: FormBuilder, private metabolightsService: MetabolightsService) { }\n\n\tngOnInit() {\n\t}\n\n\tdownload(){\n\t\tthis.metabolightsService.downloadFile(this.file).subscribe( res => {\n\t\t\t\ttoastr.success( \"File downloaded successfully\", \"Success\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\t\t\t}, err => {\n\t\t\t\ttoastr.error( \"Error downloading the file\", \"Error\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\t\t});\n\t}\n\n}\n","module.exports = \".navbar {\\n    min-height: 1.25rem !important;\\n}\\n\"","module.exports = \"<nav class=\\\"navbar is-link is-fixed-top\\\" role=\\\"navigation\\\" aria-label=\\\"dropdown navigation\\\">\\n  <div class=\\\"navbar-menu\\\">\\n    <div class=\\\"navbar-start\\\">\\n      <a (click)=\\\"backToMetabolights()\\\" class=\\\"navbar-item\\\">\\n          \\t<i class=\\\"material-icons\\\">\\n\\t\\t\\tarrow_back_ios\\n\\t\\t\\t</i>&nbsp;Back to MetaboLights\\n      </a>\\n    </div>\\n\\n    <div class=\\\"navbar-end\\\">\\n    \\t<a [routerLink]=\\\"['/console']\\\" class=\\\"navbar-item\\\">\\n          \\t<i class=\\\"material-icons\\\">\\n\\t\\t\\tlist\\n\\t\\t\\t</i>&nbsp;My studies\\n      \\t</a>\\n      \\t<a target=\\\"_blank\\\" [href]=\\\"domain + (studyIdentifier | async)\\\" class=\\\"navbar-item\\\">\\n          \\t<i class=\\\"material-icons\\\">\\n\\t\\t\\t       visibility\\n\\t\\t\\t       </i>&nbsp;Preview\\n      \\t</a>\\n      \\t<a (click)=\\\"logOut()\\\" class=\\\"navbar-item\\\">\\n        \\t<i class=\\\"material-icons\\\">\\n\\t\\t\\texit_to_app\\n\\t\\t\\t</i>&nbsp;Logout\\n      \\t</a>\\n    </div>\\n  </div>\\n</nav>\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../../services/metabolights/auth.service';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { IAppState } from './../../../store';\nimport { MetaboLightsWSURL } from './../../../services/globals';\n\n@Component({\n\tselector: 'nav-bar',\n\ttemplateUrl: './nav-bar.component.html',\n\tstyleUrls: ['./nav-bar.component.css']\n})\nexport class NavBarComponent implements OnInit {\n\n\t@select(state => state.study.identifier) studyIdentifier: string\n\tdomain: string = \"\";\n\tconstructor(private authService: AuthService, private ngRedux: NgRedux<IAppState>) { }\n\n\tngOnInit() {\n\t\tthis.domain = MetaboLightsWSURL['domain']\n\t}\n\n\tlogOut() {\n\t\tthis.authService.logout();\n\t}\n\n\tbackToMetabolights() {\n\t\tthis.authService.logout();\n\t\twindow.location.href = this.domain;\n\t}\n}\n","import { tassign } from 'tassign'; \nimport { TOGGLE_LOADING, \n\t\t ENABLE_LOADING,\n\t\t DISABLE_LOADING,\n\t\t SET_LOADING_INFO,\n\t\t SET_CONFIGURATION,\n\t\t SET_TAB_INDEX,\n\t\t SET_USER } from './actions'; \nimport { contentHeaders } from './../../services/headers';\n\nexport const SHARED_INITIAL_STATE: Object =  {\n\t\"loading\" : false,\n\t\"info\": '',\n\t'configuration': '',\n\t'user': null,\n\t'currentTabIndex': '0'\n};\n\nfunction toggleLoading(state) {\n  return tassign(state, { loading: !state.loading});\n}\n\nfunction enableLoading(state) {\n\treturn tassign(state, { loading: true});\n}\n\nfunction disableLoading(state){\n\treturn tassign(state, { loading: false});\t\n}\n\nfunction setLoadingInfo(state, action) {\n  return tassign(state, { info: action.body.info });\n}\n\nfunction setCurrentTabIndex(state, action) {\n  return tassign(state, { currentTabIndex: action.body.currentTabIndex });\n}\n\nfunction setLoadingConfiguration(state, action) {\n\tlet configurationValue = {}\n\taction.body.configuration.forEach( config => {\n\t\tif(config.name == 'Created With Configuration'){\n\t\t\tconfigurationValue['created_with'] = config.value\n\t\t}else if(config.name == 'Last Opened With Configuration'){\n\t\t\tconfigurationValue['opened_with'] = config.value\n\t\t}\n\t})\n  return tassign(state, { configuration: configurationValue });\n}\n\nfunction setCurrentUser(state, action){\n\treturn tassign(state, { user: action.body.user });\n}\n\nexport function sharedReducer(state: Object = SHARED_INITIAL_STATE, action): Object {\n  switch (action.type) {\n    case TOGGLE_LOADING : return toggleLoading(state);\n    case ENABLE_LOADING : return enableLoading(state);\n    case DISABLE_LOADING : return disableLoading(state);\n    case SET_LOADING_INFO : return setLoadingInfo(state, action);\n    case SET_CONFIGURATION : return setLoadingConfiguration(state, action);\n    case SET_TAB_INDEX : return setCurrentTabIndex(state, action);\n    case SET_USER : return setCurrentUser(state, action);\n  }\n\n  return state; \n}","module.exports = \".upload-zone{\\n\\tmin-height: 40vh;\\n\\tbackground-color: #f1f1f4;\\n\\tborder: 2px dotted #cecece;\\n\\tborder-radius: 4px;\\n}\\n\\n.upload-zone:hover{\\n\\tborder: 2px dotted #333;\\n\\tcursor: pointer;\\n}\\n\\n.upload-zone p{\\n\\tpadding-top: 20vh;\\n\\ttext-align: center;\\n\\tcolor: #cecece;\\n}\"","module.exports = \"<a (click)=\\\"openUploadModal()\\\" class=\\\"button is-small is-light\\\">\\n\\t<mat-icon>cloud_upload</mat-icon> Upload\\n</a>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isUploadModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<div class=\\\"upload-zone has-text-center\\\">\\n\\t\\t\\t\\t<p>Drag and drop files here</p>\\n\\t\\t\\t</div>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-left\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeUploadModal()' class=\\\"button is-info\\\">Cancel</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='upload()' class=\\\"button is-success\\\">Upload now</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport * as toastr from 'toastr';\n\n\n@Component({\n\tselector: 'mtbls-upload',\n\ttemplateUrl: './upload.component.html',\n\tstyleUrls: ['./upload.component.css']\n})\nexport class UploadComponent implements OnInit {\n\n\tisUploadModalOpen: boolean = false;\n\n\tconstructor(private fb: FormBuilder, private metabolightsService: MetabolightsService) { }\n\n\tngOnInit() {\n\t}\n\n\topenUploadModal(){\n\t\tthis.isUploadModalOpen = true;\n\t}\n\n\tcloseUploadModal(){\n\t\tthis.isUploadModalOpen = false;\t\n\t}\n\n\tupload(){\n\t\tthis.metabolightsService.uploadFile([]).subscribe( res => {\n\t\t\ttoastr.success( \"File uploaded successfully\", \"Success\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t});\n\t\t}, err => {\n\t\t\ttoastr.error( \"Error uploading the file\", \"Error\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t});\n\t\t});\n\t}\n\n}\n","export const SET_STUDY_IDENTIFIER = 'SET_STUDY_IDENTIFIER';\nexport const SET_STUDY_TITLE = 'SET_STUDY_TITLE';\nexport const SET_STUDY_ABSTRACT = 'SET_STUDY_ABSTRACT';\n\nexport const SET_STUDY_SUBMISSION_DATE = 'SET_STUDY_SUBMISSION_DATE';\nexport const SET_STUDY_RELEASE_DATE = 'SET_STUDY_RELEASE_DATE';\n\nexport const SET_STUDY_PUBLICATIONS = 'SET_STUDY_PUBLICATIONS';\nexport const UPDATE_STUDY_PUBLICATIONS = 'UPDATE_STUDY_PUBLICATIONS'\n\nexport const SET_STUDY_PEOPLE = 'SET_STUDY_PEOPLE';\nexport const UPDATE_STUDY_PEOPLE = 'UPDATE_STUDY_PEOPLE';\n\nexport const LOAD_VALIDATION_RULES = 'LOAD_VALIDATION_RULES';\nexport const SET_STUDY_DESIGN_DESCRIPTORS = 'SET_STUDY_DESIGN_DESCRIPTORS';\nexport const UPDATE_STUDY_DESIGN_DESCRIPTORS = 'UPDATE_STUDY_DESIGN_DESCRIPTORS';\nexport const SET_STUDY_FACTORS = 'SET_STUDY_FACTORS';\nexport const SET_STUDY_ORGANISMS = 'SET_STUDY_ORGANISMS';\nexport const SET_STUDY_PROTOCOLS = 'SET_STUDY_PROTOCOLS';\nexport const UPDATE_STUDY_PROTOCOLS = 'UPDATE_STUDY_PROTOCOLS';\nexport const UPDATE_STUDY_FACTORS = 'UPDATE_STUDY_FACTORS';\nexport const SET_STUDY_SAMPLES_TABLE = 'SET_STUDY_SAMPLES_TABLE';\nexport const SET_STUDY_PROCESS_SEQUENCE = 'SET_STUDY_PROCESS_SEQUENCE';\nexport const ADD_STUDY_PROCESS_SEQUENCE = 'ADD_STUDY_PROCESS_SEQUENCE';\n\nexport const ADD_STUDY_ASSAY = 'ADD_STUDY_ASSAY';\n\nexport const ADD_MAF = 'ADD_MAF';\nexport const UPDATE_MAF_DATA = 'UPDATE_MAF_DATA';\nexport const ADD_STUDY_ASSAY_TABLE = 'ADD_STUDY_ASSAY_TABLE';\n\n","module.exports = \"table {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -o-user-select: none;\\n  -ms-user-select: none;\\n      user-select: none;\\n}\\n\\ntable {\\n  width: 100%;\\n}\\n\\ntable td, table th {\\n  vertical-align: middle;\\n}\\n\\nth.mat-sort-header-sorted {\\n  color: black;\\n}\\n\\nth div{\\n  display: flex;\\n}\\n\\n.column-editor-card{\\n  min-width: 80vw !important;\\n  min-height: 80vh;\\n}\\n\\n.columns.is-vcentered {\\n  align-items: center;\\n}\\n\\n.columns.is-hcentered {\\n  justify-content: center;\\n  text-align: center;\\n}\\n\\n.mt20{\\n  margin-top: 20px;\\n}\\n\\n.mb0{\\n  margin-bottom: 0px;\\n}\\n\\n.tab-wrapper{\\n  min-height: 80vh;\\n}\\n\\n.modal-card-title {\\n  color: #979797;\\n  font-size: 1.2rem;\\n}\\n\\n.modal-card-title .highlight {\\n  color: #000;\\n}\\n\\n.options-wrapper{\\n  border-left: 1px solid #f1f1f3;\\n  min-height: 70vh;\\n  padding-top: 10px !important;\\n}\\n\\n.options-title{\\n  border-bottom: 1px solid #f1f1f3;\\n  padding: 15px !important;\\n  font-weight: bold;\\n  font-size: 1.1em;\\n}\\n\\n.options{\\n  padding: 15px;\\n}\\n\\n.wrapper{\\n  width: 100%;\\n  overflow: auto;\\n}\\n\\n.mat-form-field-infix {\\n  border-top: none;\\n}\\n\\ntd.mat-cell, td.mat-footer-cell, th.mat-header-cell {\\n\\tpadding-left: 20px;\\n\\tpadding-right: 12px;\\n  box-shadow: 0 0 1px #dbdbdb;\\n}\\n\\n.mat-table-sticky {\\n  background-color: #fdfdfd;\\n}\\n\\n.dropdown-divider {\\n  background-color: #dbdbdb;\\n  border: none;\\n  display: block;\\n  height: 1px;\\n  margin: 0;\\n}\\n\\n.dropdown-content {\\n padding-bottom: 0rem; \\n padding-top: 0rem; \\n border-radius: 2px;\\n}\\n\\na.dropdown-item {\\n  padding-right: 1rem; \\n}\\n\\n.column{\\n  padding: 0;\\n}\\n\\n.addon-tag{\\n  padding-left: 0;\\n  padding-right: 0;\\n  border-left: 1px dotted #eaeaea;\\n}\\n\\n.columns{\\n  margin-right: 0px;\\n  margin-left: 0px;\\n}\\n\\n.row-selector{\\n\\twidth: 10px;\\n}\\n\\n.table-selector{\\n\\twidth: 10px;\\n}\\n\\n.selected{\\n\\tbackground-color: #333;\\n  color: #fff;\\n}\\n\\n.row-options-wrapper{\\n\\tposition: relative;\\n}\\n\\n.row-options{\\n\\tposition: absolute;\\n  left: -23px;\\n  top: 0px;\\n  height: 48px;\\n}\\n\\n.table-icon {\\n  padding-right: 10px;\\n  padding-top: 12px;\\n}\\n\\n.button{\\n  margin-left: 2px;\\n  margin-right: 2px;\\n}\\n\\n.menu-bar{\\n  margin-top: 10px;\\n  margin-bottom: 0 !important;\\n  align-items: baseline;\\n}\\n\\n.menu-bar:first-child { \\n  margin-left: -5px;\\n}\\n\\n.menu-bar:last-child { \\n  margin-right: -5px;\\n}\\n\\n.button.is-light {\\n  border-radius: 2px;\\n}\\n\"","module.exports = \"<div class=\\\"card\\\" *ngIf=\\\"assayTable\\\">\\n\\t<header class=\\\"card-header\\\">\\n\\t\\t<p class=\\\"card-header-title\\\">\\n\\t\\t\\tAssay\\n\\t\\t</p>\\n\\t</header>\\n\\t<div class=\\\"card-content\\\">\\n\\t\\t<div class=\\\"columns mb0 is-vcentered is-hcentered\\\">\\n\\t\\t\\t<div class=\\\"column is-12 is-paddingless\\\">\\n\\t\\t\\t\\t<mat-form-field class=\\\"full-width bback\\\">\\n\\t\\t\\t\\t\\t<input (keydown)=\\\"onKeydown($event, $event.target.value)\\\" autocomplete=\\\"off\\\" matInput (keyup)=\\\"applyFilter($event.target.value)\\\" placeholder=\\\"Filter\\\">\\n\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div *ngIf=\\\"filters.length > 0\\\" class=\\\"field is-grouped is-grouped-multiline\\\">\\n\\t\\t\\t<div *ngFor=\\\"let filter of filters\\\" class=\\\"control\\\">\\n\\t\\t\\t\\t<div class=\\\"tags has-addons\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"tag is-link\\\">{{ filter }}</span>\\n\\t\\t\\t\\t\\t<a (click)=\\\"highlightFilteredRows(filter)\\\" class=\\\"tag addon-tag\\\"><mat-icon>control_camera</mat-icon></a>\\n\\t\\t\\t\\t\\t<a (click)=\\\"removeFilter(filter)\\\" class=\\\"tag is-delete\\\"></a>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"menu-bar columns\\\">  \\n\\t\\t\\t<span class=\\\"column fadeIn\\\">\\n\\t\\t\\t\\t<a (click)=\\\"addRow()\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t<mat-icon>add</mat-icon> Row\\n\\t\\t\\t\\t</a>&nbsp;\\n\\t\\t\\t\\t<mtbls-upload></mtbls-upload>&nbsp;\\n      \\t\\t\\t<mtbls-download [value]=\\\"assayName\\\"></mtbls-download>\\n\\t\\t\\t\\t<span *ngIf=\\\"selectedRows.length > 0\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"dropdown is-hoverable\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-trigger\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"button is-light is-small\\\" aria-haspopup=\\\"true\\\" aria-controls=\\\"dropdown-menu\\\"><mat-icon>file_copy</mat-icon>Copy</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-menu\\\" id=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"dropdown-item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tPaste inplace\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<hr class=\\\"dropdown-divider\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"dropdown-item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tPaste at the end\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<a (click)=\\\"openDeleteModal()\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon> Delete\\n\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</span>\\n\\t\\t\\t<span class=\\\"column fadeIn has-text-right\\\">\\n\\t\\t\\t\\t<mat-paginator [pageSizeOptions]=\\\"[500, 1000, 2000]\\\" showFirstLastButtons></mat-paginator>\\n\\t\\t\\t</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"wrapper mat-elevation-z1\\\">\\n\\t\\t\\t<table class=\\\"mat-elevation-z1\\\" [dataSource]=\\\"tableDataSource\\\" matSort mat-table>\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"Select\\\" sticky>\\n\\t\\t\\t\\t\\t<th (click)=\\\"deSelect()\\\" class=\\\"clickable table-selector\\\" mat-header-cell *matHeaderCellDef></th>\\n\\t\\t\\t\\t\\t<td (click)=\\\"rowClick(row, $event)\\\" class=\\\"clickable row-selector hover-highlight\\\" mat-cell *matCellDef=\\\"let row\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"row-options-wrapper\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"row-options hover-button\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon class=\\\"table-icon\\\">aspect_ratio</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let column of assayTable.columns\\\" [sticky]=\\\"column.sticky\\\" [matColumnDef]=\\\"column.columnDef\\\">\\n\\t\\t\\t\\t\\t<th class=\\\"clickable hover-highlight\\\" mat-header-cell *matHeaderCellDef> \\n\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t<span (click)=\\\"headerClick(column, $event)\\\">{{ column.header }} </span>\\n\\t\\t\\t\\t\\t\\t\\t<span mat-sort-header>&nbsp;</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<td (dblclick)=\\\"editCell(row, column, $event)\\\" (click)=\\\"cellClick(row, column, $event)\\\" class=\\\"clickable\\\" [ngClass]=\\\"{'selected': isSelected(row, column)}\\\" mat-cell *matCellDef=\\\"let row\\\"> \\n\\t\\t\\t\\t\\t\\t{{ row[column.header] }} \\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<tr mat-header-row *matHeaderRowDef=\\\"assayTable.displayedColumns\\\"></tr>\\n\\t\\t\\t\\t<tr mat-row *matRowDef=\\\"let row; columns: assayTable.displayedColumns;\\\"></tr>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isEditModalOpen}\\\">\\n\\t<form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n\\t\\t<div class=\\\"modal-background\\\"></div>\\n\\t\\t<div class=\\\"modal-card\\\">\\n\\t\\t\\t<div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t\\t<div class=\\\"field is-horizontal\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"field-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isCellTypeFile; else cellInputField\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  <mat-select formControlName=\\\"cell\\\" placeholder=\\\"{{ formatCellTitle(selectedCell['column']['columnDef']) }}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    <mat-option *ngFor=\\\"let file of files\\\" [value]=\\\"file.file\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t      {{file.file}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t    </mat-option>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  </mat-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template #cellInputField>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{ formatCellTitle(selectedCell['column']['columnDef']) }}</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"cell\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-hint>{{ fieldValidation('doi').description }}</mat-hint> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-error\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</section>\\n\\t\\t\\t<footer class=\\\"modal-card-foot buttons is-right\\\">\\n\\t\\t\\t\\t<button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n\\t\\t\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n\\t\\t\\t\\t\\tSave\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button *ngIf=\\\"form.pristine\\\" (click)='closeEditModal()' class=\\\"button is-info\\\">OK</button>\\n\\t\\t\\t\\t<button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeEditModal()'>Cancel</button>\\n\\t\\t\\t</footer>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<p>Are you sure you want to delete the selected rows?</p>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='deleteSelectedRows()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input,ViewChild } from '@angular/core';\nimport { MatPaginator, MatTableDataSource, MatSort} from '@angular/material';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { IAppState } from '../../../../store';\nimport { MatAutocompleteSelectedEvent, MatChipInputEvent } from '@angular/material';\nimport * as toastr from 'toastr';\nimport { tassign } from 'tassign'; \n\n@Component({\n\tselector: 'mtbls-assay',\n\ttemplateUrl: './assay.component.html',\n\tstyleUrls: ['./assay.component.css']\n})\nexport class AssayComponent implements OnInit {\n\t@Input('validations') validations: any;\n\t@Input('assayName') assayName: any;\n\t@Input('assayTable') assayTable: any;\n\n\ttableDataSource : any;\n\n\tselectedRows: any[] = []\n\tselectedColumns: any[] = []\n\tselectedCells: any[] = []\n\n\n\tfilter: string = '';\n\tfilters: string[] = [];\n\tlastRowSelection = null;\n\tlastColSelection = null;\n\n\tselectedColumn = null;\n\tselectedColumnValues = null;\n\n\tselectedCell = {};\n\tfileColumns = [];\n\n\tfiles : any = []\n\n\tisDeleteModalOpen = false;\n\tisEditModalOpen = false;\n\tisCellTypeFile = false;\n\n\tform: FormGroup;\n\n\tprivate validationsId = 'assays.assay';\n\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\n\t@ViewChild(MatSort) sort: MatSort;\n\n\tconstructor(private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n\t}\n\n\tngOnInit() {\n\t\tthis.tableDataSource = new MatTableDataSource<any>(this.assayTable['assayData'].rows)\n\n\t\tthis.validations.assay.default_order.forEach( col => {\n\t\t\tif (col.dataType == 'file'){\n\t\t\t\tthis.fileColumns.push(col.header)\n\t\t\t}\n\t\t})\n\n\t\tthis.metabolightsService.getStudyFiles().subscribe( data => {\n\t  \t\tthis.files = data.studyFiles\n\t\t})\n\t}\n\n\tngAfterViewInit(){\n\t\tthis.tableDataSource.sort = this.sort;\n\t}\n\n\tonKeydown(event, filterValue:string) {\n\t\tif (event.key === \"Enter\") {\n\t\t\tlet data = []\n\t\t\tif (this.filters.indexOf(filterValue) < 0){\n\t\t\t\tthis.filters.push(filterValue)\n\t\t\t\tevent.target.value = ''\n\t\t\t}\n\t\t\tthis.tableDataSource.filter = '';\n\t\t\tthis.filters.forEach(f => {\n\t\t\t\tdata = data.concat(this.tableDataSource.data.filter( d => this.getDataString(d).indexOf(f.toLowerCase()) > -1))\n\t\t\t})\n\t\t\tthis.tableDataSource.data = data;\n\t\t}\n\t}\n\n\tisSelected(row, column){\n\t\tif((row && column) && this.selectedCells.length > 0){\n\t\t\treturn this.selectedCells.filter( cell => (cell[0] == column.columnDef && cell[1] == row.index) ).length > 0\n\t\t}else if(this.selectedColumns.length == 0){\n\t\t\tif(this.selectedRows.indexOf(row.index) > -1){\n\t\t\t\treturn true\n\t\t\t}\n\t\t}else if(this.selectedRows.length == 0){\n\t\t\tif(this.selectedColumns.indexOf(column.columnDef) > -1){\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\n\trowClick(row: any, event){\n\t\tthis.selectedCells = []\n\t\tthis.selectedColumns = []\n\t\tlet entryIndex = row.index\n\t\tlet rowIndex = this.selectedRows.indexOf(entryIndex)\n\t\tif(event && event.altKey){\n\t\t\tif( rowIndex > -1){\n\t\t\t\tthis.selectedRows.splice(rowIndex, 1)\n\t\t\t}else{\n\t\t\t\tthis.selectedRows.push(entryIndex)\n\t\t\t}\n\t\t}else if(event && event.shiftKey){\n\t\t\tlet lastSelectionIndex = null;\n\t\t\tlet lastRowIndex = -1;\n\t\t\tlet rowNamesArray: any[] = this.assayTable.assayData.rows.map( e => { return e.index })\n\t\t\tif(this.lastRowSelection){\n\t\t\t\tlastSelectionIndex = this.lastRowSelection.index\n\t\t\t\tlastRowIndex = rowNamesArray.indexOf(lastSelectionIndex)\n\t\t\t}else{\n\t\t\t\tlastRowIndex = 0\n\t\t\t}\n\t\t\tlet currentRowIndex = rowNamesArray.indexOf(entryIndex)\n\t\t\tlet currentSelection = []\n\n\t\t\tif(lastRowIndex > currentRowIndex){\n\t\t\t\tcurrentSelection = rowNamesArray.slice(currentRowIndex, lastRowIndex + 1)\n\t\t\t}else{\n\t\t\t\tcurrentSelection = rowNamesArray.slice(lastRowIndex, currentRowIndex + 1)\n\t\t\t}\n\t\t\tthis.selectedRows = this.selectedRows.concat(currentSelection)\n\t\t}else{\n\t\t\tif( rowIndex < 0){\n\t\t\t\tthis.selectedRows = [entryIndex]\n\t\t\t}else{\n\t\t\t\tthis.selectedRows = []\n\t\t\t}\n\t\t}\n\t\tthis.lastRowSelection = row\n\t}\n\n\tcellClick(row: any, column: any, event){\n\t\tif(event.altKey){\n\t\t\tthis.selectedCells.push( [column.columnDef,row.index] )\n\t\t}else{\n\t\t\tthis.selectedCells = [[column.columnDef,row.index]]\n\t\t}\n\t}\n\n\ttoTitleCase(str) {\n\t    return str.replace(/\\w\\S*/g, function(txt){\n\t        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n\t    });\n\t}\n\n\tformatCellTitle(term){\n\t\treturn term.replace(\"_\", \" \")\n\t}\n\n\teditCell(row: any, column: any, event){\n\t\tthis.isCellTypeFile = false;\n\t\tthis.isEditModalOpen = true;\n\t\tthis.selectedCell['row'] = row\n\t\tthis.selectedCell['column'] = column\n\n\t\tif(this.fileColumns.indexOf(column.header) > -1){\n\t\t\tthis.isCellTypeFile = true;\n\t\t}\n\n\t\tthis.form = this.fb.group({\n\t\t\tcell:  [ row[column.columnDef] ],\n\t\t});\n\t}\n\n\tcloseEditModal(){\n\t\tthis.isEditModalOpen = false;\n\t}\n\n\tdeSelect(){\n\t\tthis.selectedRows = []\n\t\tthis.selectedColumns = []\n\t\tthis.selectedCells = []\n\t}\n\n\theaderClick(column: any, event){\n\t\tthis.selectedCells = []\n\t\tthis.selectedRows = []\n\t\tlet entryIndex = column.columnDef\n\t\tlet colIndex = this.selectedColumns.indexOf(entryIndex)\n\n\t\tif(event.altKey){\n\t\t\tif( colIndex > -1){\n\t\t\t\tthis.selectedRows.splice(colIndex, 1)\n\t\t\t}else{\n\t\t\t\tthis.selectedRows.push(entryIndex)\n\t\t\t}\n\t\t}else if(event.shiftKey){\n\t\t\tlet lastSelectionIndex = null;\n\t\t\tlet lastRowIndex = -1;\n\t\t\tlet colNamesArray: any[] = this.assayTable.displayedColumns.map( e => { return e.columnDef })\n\t\t\tif(this.lastColSelection){\n\t\t\t\tlastSelectionIndex = this.lastColSelection.index\n\t\t\t\tlastRowIndex = colNamesArray.indexOf(lastSelectionIndex)\n\t\t\t}else{\n\t\t\t\tlastRowIndex = 0\n\t\t\t}\n\t\t\tlet currentRowIndex = colNamesArray.indexOf(entryIndex)\n\t\t\tlet currentSelection = []\n\n\t\t\tif(lastRowIndex > currentRowIndex){\n\t\t\t\tcurrentSelection = colNamesArray.slice(currentRowIndex, lastRowIndex + 1)\n\t\t\t}else{\n\t\t\t\tcurrentSelection = colNamesArray.slice(lastRowIndex, currentRowIndex + 1)\n\t\t\t}\n\t\t\tthis.selectedColumns = this.selectedColumns.concat(currentSelection)\n\t\t}else{\n\t\t\tif( colIndex < 0){\n\t\t\t\tthis.selectedColumns = [entryIndex]\n\t\t\t}else{\n\t\t\t\tthis.selectedColumns = []\n\t\t\t}\n\t\t}\n\t\tthis.lastColSelection = column\n\t}\n\n\tselected(event: MatAutocompleteSelectedEvent): void {\n\t\tthis.form.get('cell').setValue(event.option.value.file);\n\t}\n\n\n\tkeys(object){\n\t\treturn Object.keys(object);\n\t}\n\n\tremoveFilter(filter){\n\t\tthis.filters = this.filters.filter(e => e !== filter);\n\t\tthis.tableDataSource.filter = '';\n\t\tif(this.filters.length > 0){\n\t\t\tlet data = []\n\t\t\tthis.filters.forEach(f => {\n\t\t\t\tdata = data.concat(this.tableDataSource.data.filter( d => this.getDataString(d).indexOf(f.toLowerCase()) > -1))\n\t\t\t})\n\t\t\tthis.tableDataSource.data = data;\n\t\t}else{\n\t\t\tthis.tableDataSource.data = this.assayTable['assayData'].rows\n\t\t}\n\t}\n\n\thighlightFilteredRows(term){\n        this.selectedRows = this.selectedRows.concat(this.assayTable.assayData.rows.filter(f => this.getDataString(f).indexOf(term.toLowerCase()) != -1 ).map( p => p.index ));\n    }\n\n    getDataString(row){\n        let rowString = \"\"\n        Object.keys(row).forEach( prop => rowString = rowString + row[prop])\n        return rowString\n    }\n\n\tapplyFilter(filterValue: string) {\n\t\tif(filterValue != ''){\n\t    \tthis.tableDataSource.data = this.assayTable['assayData'].rows\n\t    \tthis.tableDataSource.filter = filterValue.trim().toLowerCase();\n\t    }\n\t}\n\n\tgetUnique(arr){\n\t\treturn arr.filter (function (value, index, array) { \n    \t\treturn array.indexOf (value) == index;\n\t\t});\n\t}\n\n\tgetEmptyRow(){\n\t\tlet obj = tassign({}, this.assayTable.assayData.rows[0]);\n\t\tObject.keys(obj).forEach(function (prop) {\n  \t\t\tobj[prop] = \"\";\n\t\t});\n\t\treturn obj;\n\t}\n\n\tsave(){\n\t\tthis.selectedCell['row'][this.selectedCell['column']['columnDef']] = this.form.get('cell').value\n\t\tthis.metabolightsService.updateAssayRow(this.assayName, { \"assayData\": [ this.selectedCell['row'] ]}).subscribe( res => {\n\t\t\t\ttoastr.success( \"MAF entry updated successfully\", \"Success\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\n\t\t\t\tthis.persistData(res, this.assayName)\n\t\t\t\tthis.rowClick(this.selectedCell['row'], null)\n\t\t\t\tthis.closeEditModal();\n\t\t\t}, err => {\n\t\t});\n\t}\n\n\taddRow(){\n\t\tthis.metabolightsService.addAssayRow(this.assayName, { \"assayData\": [this.getEmptyRow()]}).subscribe( res => {\n\t\t\t\ttoastr.success( \"Rows add successfully to the end of the maf sheet\", \"Success\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\n\t\t\t\tthis.persistData(res, this.assayName)\n\n\t\t\t}, err => {\n\t\t});\n\t}\n\n\tpersistData(data, filename){\n\t\tlet columns = []\n        Object.keys(data.assayHeader).forEach( key => {\n          let fn = \"element['\"+ key +\"']\"\n          columns.push({\n            \"columnDef\": key,\n            \"sticky\": \"false\",\n            \"header\": key,\n            \"cell\": (element) => eval(fn)\n          })\n        })\n        let displayedColumns = columns.map( a => { return a.columnDef } )\n        displayedColumns.unshift(\"Select\")\n        \n        displayedColumns.sort(function(a, b){  \n          return data.assayHeader[a] - data.assayHeader[b];\n        });\n        data['columns'] = columns;\n        data['displayedColumns'] = displayedColumns;\n        this.ngRedux.dispatch({ type: 'ADD_STUDY_ASSAY_TABLE', body: {\n          'assayTable': data,\n          'assay': filename\n        }})\n\t}\n\n\tdeleteSelectedRows(){\n\t\tthis.metabolightsService.deleteAssayRow(this.assayName, this.getUnique(this.selectedRows).join(\",\")).subscribe( res => {\n\t\t\tthis.isDeleteModalOpen = false\n\t\t\ttoastr.success( \"Rows delete successfully\", \"Success\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t});\n\n\t\t\tthis.persistData(res, this.assayName)\n\t\t}, err => {});\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false;\n\t}\n\n\topenDeleteModal(){\n\t\tthis.isDeleteModalOpen = true;\n\t}\n\n\tkeyExists(object, key){\n\t\treturn object[key] != undefined\n\t}\n\n\tvalueExists(array, value){\n\t\treturn array.indexOf(value) >= 0\n\t}\n\n\tisObject (item) {\n\t\treturn (typeof item === \"object\" && !Array.isArray(item) && item !== null);\n\t}\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.validations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.validations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<!-- {{  | json }} -->\\n<div *ngFor=\\\"let assay of assays\\\">\\n\\t<mtbls-assay [assayName]=\\\"assay.name\\\" [assayTable]=\\\"assay\\\" [validations]=\\\"validations\\\"></mtbls-assay>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\n\n@Component({\n\tselector: 'mtbls-assays',\n\ttemplateUrl: './assays.component.html',\n\tstyleUrls: ['./assays.component.css']\n})\nexport class AssaysComponent implements OnInit {\n\n\t@Input('validations') studyValidations: any;\n\t@select(state => state.study.assayTables) studyAssays;\n\tassays : any[] = []\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tthis.studyAssays.subscribe(value => { \n\t\t\tObject.keys(value).forEach(key => {\n\t\t\t\tvalue[key]['name'] = key\n\t\t\t\tthis.assays.push(value[key]);\n\t\t\t})\n\t\t})\n\t}\n\n\tprivate validationsId = 'assays';\n\n\tget validations() {\n        if(this.validationsId.includes(\".\")){\n            var arr = this.validationsId.split(\".\");\n            let tempValidations = JSON.parse(JSON.stringify(this.studyValidations));;\n            while (arr.length && (tempValidations = tempValidations[arr.shift()]));\n            return tempValidations;\n        }\n        return this.studyValidations[this.validationsId];\n    }\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"hover-highlight px-20 mtbls-section\\\">\\n  <div *ngIf=\\\"description != undefined\\\">\\n    <b><small class=\\\"has-text-grey\\\">ABSTRACT</small></b> <br>\\n    <p [innerHTML]=\\\"description\\\" class=\\\"clickable\\\" (click)='openModal()'></p>\\n  </div>\\n  <!-- <br>\\n  <mtbls-design-descriptors  [readOnly]=\\\"true\\\" [inline]=\\\"true\\\" [value]=\\\"studyDesignDescriptors | async\\\" [validations]=\\\"validations | async\\\"></mtbls-design-descriptors> -->\\n</div>\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card vw80\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n          <div class=\\\"field is-horizontal\\\">\\n            <div class=\\\"field-body\\\">\\n              <div class=\\\"field\\\">\\n                <div class=\\\"control\\\">\\n                    <mat-label>Study description</mat-label>\\n                    <ngx-wig\\n                      matInput\\n                      formControlName=\\\"description\\\"\\n                      [placeholder]=\\\"validation.placeholder\\\" \\n                    >\\n                    </ngx-wig>\\n                    <mat-hint><small>{{ validation.description }}</small></mat-hint><br>\\n                    <mat-error\\n                    *ngIf=\\\"form.get('description').errors &&\\n                          form.get('description').dirty &&\\n                          form.get('description').errors.description\\\">\\n                          <small>{{ form.get('description').errors.description.error }}</small>\\n                    </mat-error>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n      </section>\\n      <footer class=\\\"modal-card-foot buttons is-right\\\">\\n        <button *ngIf=\\\"form.get('description').dirty\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n          <mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n          Save\\n        </button>\\n        <button *ngIf=\\\"!form.get('description').dirty\\\" (click)='closeModal()' class=\\\"button is-info\\\">OK</button>\\n        <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>Cancel</button>\\n      </footer>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit, Input, Inject, OnChanges, SimpleChanges } from '@angular/core';\nimport { IAppState } from '../../../store';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { ValidateStudyDescription } from './description.validator';\nimport * as toastr from 'toastr';\n\n@Component({\n  selector: 'mtbls-description',\n  templateUrl: './description.component.html',\n  styleUrls: ['./description.component.css']\n})\nexport class DescriptionComponent implements OnChanges, OnInit {\n\n\t@Input('value') description: string;\n\t@Input('validations') studyValidations: any;\n\n  @select(state => state.study.studyDesignDescriptors) studyDesignDescriptors: any[]\n\n  form: FormGroup;\n  isFormBusy: boolean = false;\n\n  private validationsId = 'description';\n\n\tisModalOpen: boolean = false;\n\thasChanges: boolean = false;\n\n  \tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n    }\n\n  \tngOnInit() {\n  \t}\n\n  \topenModal() {\n      this.initialiseForm()\n  \t\tthis.isModalOpen = true\n  \t}\n\n    initialiseForm() {\n      // this.description = this.description.replace(new RegExp(\"<br />\", 'g'), '\\n')\n      this.isFormBusy = false;\n      this.form = this.fb.group({\n        description:  [ this.description, ValidateStudyDescription(this.validation) ]\n      });\n    }\n\n  \tcloseModal() {\n      this.form = null\n  \t\tthis.isModalOpen = false\n  \t}\n\n    save() {\n      this.isFormBusy = true;\n      this.metabolightsService.saveAbstract(this.compileBody(this.form.get('description').value.replace(new RegExp('\\n', 'g'), \"<br />\"))).subscribe( res => {\n        this.ngRedux.dispatch({ type: 'SET_STUDY_ABSTRACT', body: res})\n        this.form.get('description').setValue(res.description)\n        this.form.markAsPristine()\n        this.isFormBusy = false;\n\n        toastr.success('Abstract updated.', \"Success\", {\n            \"timeOut\": \"2500\",\n            \"positionClass\": \"toast-top-center\",\n            \"preventDuplicates\": true,\n            \"extendedTimeOut\": 0,\n            \"tapToDismiss\": false\n        })\n      }, err => {\n        this.isFormBusy = false\n      });\n    }\n\n    compileBody(description) {\n      return {\n        'description': description,\n      }\n    }\n\n    get validation() {\n      return this.studyValidations[this.validationsId];\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n      if (changes.value != undefined){\n        this.description = changes.value.currentValue\n      }\n      if (changes.studyValidations != undefined)\n        this.studyValidations = changes.studyValidations.currentValue\n    }\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport function ValidateStudyDescription(validation: any): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n\n    \tlet value = control.value;\n    \tlet invalid = false;\n    \tlet errorMessage = \"\";\n\n    \tvalidation.rules.forEach( rule => {\n\n    \t\tswitch(rule.condition) { \n\t\t\t   case \"min\": { \n\t\t\t      if (value.toString().length < rule.value){\n\t\t\t      \tinvalid = true\n\t\t\t      \terrorMessage = errorMessage + rule.error\n\t\t\t      }\n\t\t\t      break; \n\t\t\t   } \n\t\t\t} \n    \t\t\n    \t})\n\n        if (invalid) {\n            return { 'description': { 'error': errorMessage} };\n        }\n        return null;\n    };\n}","module.exports = \".tags .tag {\\n    margin-bottom: 1rem;\\n}\"","module.exports = \"<div *ngIf=\\\"addNewDescriptor || descriptor == null; else showDescriptorDetails\\\">\\n    <a class=\\\"button is-light is-pulled-right is-small hover-button\\\" (click)='openModal()'>+ Add descriptor</a>\\n</div>\\n<ng-template #showDescriptorDetails>\\n\\t<div class=\\\"control\\\">\\n\\t\\t<div class=\\\"tags has-addons\\\">\\n\\t\\t  <span class=\\\"tag is-info clickable is-small capitalize\\\" (click)='openModal()'>{{ descriptor.annotationValue }}</span>\\n\\t\\t</div>\\n\\t</div>\\t\\n</ng-template>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isTimeLineModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <div class=\\\"timeline\\\">\\n        <div class=\\\"timeline-item\\\">\\n          <div class=\\\"timeline-marker\\\"></div>\\n          <div class=\\\"timeline-content\\\">\\n            <p class=\\\"heading\\\">January 2016</p>\\n            <p>Timeline content - Can include any HTML element</p>\\n          </div>\\n        </div>\\n        <div class=\\\"timeline-item\\\">\\n          <div class=\\\"timeline-marker is-image is-32x32\\\">\\n            <img src=\\\"http://bulma.io/images/placeholders/32x32.png\\\">\\n          </div>\\n          <div class=\\\"timeline-content\\\">\\n            <p class=\\\"heading\\\">February 2016</p>\\n            <p>Timeline content - Can include any HTML element</p>\\n          </div>\\n        </div>\\n        <header class=\\\"timeline-header\\\">\\n          <span class=\\\"tag is-primary\\\">2017</span>\\n        </header>\\n        <div class=\\\"timeline-item\\\">\\n          <div class=\\\"timeline-marker is-icon\\\">\\n            <i class=\\\"fa fa-flag\\\"></i>\\n          </div>\\n          <div class=\\\"timeline-content\\\">\\n            <p class=\\\"heading\\\">March 2017</p>\\n            <p>Timeline content - Can include any HTML element</p>\\n          </div>\\n        </div>\\n      </div>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='closeHistory()' class=\\\"button is-info\\\">OK</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <p>Are you sure you want to delete?</p>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n          <button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='delete()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n        <mtbls-ontology #publicationDescriptor [validations]=\\\"validation\\\" (changed)=\\\"onChanges($event)\\\" [values]='[descriptor]' [inline]=\\\"true\\\"></mtbls-ontology>\\n      </section>\\n      <footer class=\\\"modal-card-foot\\\">\\n        <div class=\\\"columns is-gapless full-width\\\">\\n          <div class=\\\"column is-half\\\">\\n            <button *ngIf=\\\"!addNewDescriptor\\\" class=\\\"button is-danger is-pulled-left\\\" (click)=\\\"confirmDelete()\\\"><mat-icon>delete_outline</mat-icon></button>\\n            <!-- <button *ngIf=\\\"!addNewDescriptor\\\" class=\\\"button is-light is-pulled-left\\\" (click)='showHistory()' ><mat-icon>history</mat-icon></button> -->\\n          </div>\\n          <div class=\\\"column is-half has-text-right\\\">\\n            <button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n              <mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n              Save\\n            </button>\\n            <button *ngIf=\\\"form.pristine\\\" (click)='closeModal()' class=\\\"button is-info\\\">OK</button>\\n            <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>Cancel</button>\\n          </div>\\n        </div>\\n      </footer>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit, Input, Inject, ViewChild, SimpleChanges } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { Ontology } from './../../../../models/mtbl/mtbls/common/mtbls-ontology';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from '../../../../store';\nimport * as toastr from 'toastr';\nimport { JsonConvert, OperationMode, ValueCheckingMode } from \"json2typescript\";\nimport { OntologyComponent } from './../../ontology/ontology.component';\n\n@Component({\n\tselector: 'mtbls-design-descriptor',\n\ttemplateUrl: './design-descriptor.component.html',\n\tstyleUrls: ['./design-descriptor.component.css']\n})\nexport class DesignDescriptorComponent implements OnInit {\n\n\t@Input('value') descriptor: Ontology;\n\t@Input('validations') validations: any;\n\t@Input('readOnly') readOnly: boolean;\n\n\t@ViewChild(OntologyComponent) statusComponent: OntologyComponent;\n\n\tprivate validationsId = 'studyDesignDescriptors';\n\n\tisModalOpen: boolean = false;\n\tisTimeLineModalOpen: boolean = false;\n\tisDeleteModalOpen: boolean = false;\n\n\tform: FormGroup;\n\tisFormBusy: boolean = false;\n\taddNewDescriptor: boolean = false;\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n\t}\n\n\tngOnInit() {\n\t\tif (this.descriptor == null){\n\t\t\tthis.addNewDescriptor = true\n\t\t}\n\t}\n\n\tonChanges(){\n\t\tthis.form.markAsDirty();\n\t}\n\n\tshowHistory(){\n\t\tthis.isModalOpen = false\n\t\tthis.isTimeLineModalOpen = true\n\t}\n\n\tcloseHistory(){\n\t\tthis.isTimeLineModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\topenModal() {\n\t\tif(!this.readOnly){\t\t\t\n\t\t\tthis.initialiseForm()\n\t\t\tif(this.addNewDescriptor){\n\t\t\t\tthis.descriptor = null\n\t\t\t}\n\t\t\tthis.isModalOpen = true\n\t\t}\n\t}\n\n\tinitialiseForm() {\n\t\tthis.isFormBusy = false;\n\t\tthis.form = this.fb.group({\n\t\t});\n\t}\n\n\tconfirmDelete(){\n\t\tthis.isModalOpen = false\n\t\tthis.isDeleteModalOpen = true\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n\tsave() {\n\t\tthis.isFormBusy = true;\n\t\tif(!this.addNewDescriptor){\n\t\t\tthis.metabolightsService.updateDesignDescriptor(this.descriptor.annotationValue, this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateDesignDescriptors(res, 'Design descriptor updated.')\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}else{\n\t\t\tthis.metabolightsService.saveDesignDescriptor(this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateDesignDescriptors(res, 'Design descriptor saved.')\n\t\t\t\tthis.statusComponent.values = []\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}\n\t}\n\n\tdelete() {\n\t\tthis.metabolightsService.deleteDesignDescriptor(this.descriptor.annotationValue).subscribe( res => {\n\t\t\t\tthis.updateDesignDescriptors(res, 'Design descriptor deleted.')\n\t\t\t\tthis.isDeleteModalOpen = false\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t});\n\t}\n\n\tcompileBody() {\n\t\tlet jsonConvert: JsonConvert = new JsonConvert();\n\n\t\treturn { \"studyDesignDescriptor\" : jsonConvert.deserialize(this.statusComponent.values[0], Ontology)}\n\t}\n\n\tupdateDesignDescriptors(data, message){\n\t\tthis.metabolightsService.getDesignDescriptors().subscribe( res => {\n\t\t\tthis.ngRedux.dispatch({ type: 'UPDATE_STUDY_DESIGN_DESCRIPTORS', body: {\n\t\t\t\t'studyDesignDescriptors': res.studyDesignDescriptors\n\t\t\t}})\n\t\t})\n\n\t\tthis.form.markAsPristine()\n\t\tthis.initialiseForm();\n\t\tthis.isModalOpen = true;\n\n\t\ttoastr.success( message, \"Success\", {\n\t\t\t\"timeOut\": \"2500\",\n\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\"preventDuplicates\": true,\n\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\"tapToDismiss\": false\n\t\t});\n\t}\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.validations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.validations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n\tgetFieldValue(name){\n\t\treturn this.form.get(name).value;\n\t}\n\n\tsetFieldValue(name, value){\n\t\treturn this.form.get(name).setValue(value);\n\t}\n}\n","module.exports = \"\"","module.exports = \"<span *ngIf=\\\"inline; else showCard\\\">\\n  <div *ngIf=\\\"descriptors.length > 0;else emptyMessage\\\">\\n      <div id=\\\"meta\\\" class=\\\"field is-grouped is-grouped-multiline\\\">\\n        <div *ngFor=\\\"let descriptor of descriptors\\\">\\n          <mtbls-design-descriptor [readOnly]=\\\"readOnly\\\" [value]=\\\"descriptor\\\" [validations]=\\\"validations\\\"></mtbls-design-descriptor>\\n        </div>\\n      </div>\\n    </div>\\n</span>\\n<ng-template #showCard>\\n  <div class=\\\"card\\\">\\n    <header class=\\\"card-heading hover-highlight\\\">\\n      <span>\\n        <p class=\\\"is-pulled-left\\\">\\n          Design descriptors\\n        </p>\\n        <mtbls-design-descriptor [readOnly]=\\\"readOnly\\\" [value]=\\\"null\\\" [validations]=\\\"validations\\\"></mtbls-design-descriptor>\\n      </span>\\n    </header>\\n    <div class=\\\"card-content\\\">\\n      <div class=\\\"content\\\">\\n        <div *ngIf=\\\"descriptors.length > 0;else emptyMessage\\\">\\n          <div id=\\\"meta\\\" class=\\\"field is-grouped is-grouped-multiline\\\">\\n            <div *ngFor=\\\"let descriptor of descriptors\\\">\\n              <mtbls-design-descriptor [readOnly]=\\\"readOnly\\\" [value]=\\\"descriptor\\\" [validations]=\\\"validations\\\"></mtbls-design-descriptor>\\n            </div>\\n          </div>\\n        </div>\\n        <ng-template #emptyMessage>\\n          <p class=\\\"has-text-grey-light has-text-centered\\\"><small>No Study desgin descriptors defined yet.</small></p>\\n        </ng-template>\\n      </div>\\n    </div>\\n  </div>\\n</ng-template>\"","import { Component, OnInit, Input, Inject, SimpleChanges } from '@angular/core';\n\n@Component({\n\tselector: 'mtbls-design-descriptors',\n\ttemplateUrl: './design-descriptors.component.html',\n\tstyleUrls: ['./design-descriptors.component.css']\n})\nexport class DesignDescriptorsComponent implements OnInit {\n\t@Input('value') descriptors: string;\n\t@Input('validations') validations: any;\n\t@Input('inline') inline: boolean;\n\t@Input('readOnly') readOnly: boolean;\n\tprivate validationsId = 'studyDesignDescriptors';\n\n\tconstructor() { }\n\t\n\tngOnInit() {\n\t}\n\n\tget validation() {\n\t\treturn this.validations[this.validationsId];\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<div *ngIf=\\\"addNewFactor || factor == null; else showFactorDetails\\\">\\n    <span *ngIf=\\\"!isDropdown; else showDropdownOption\\\">\\n      <a class=\\\"button is-light is-pulled-right is-small hover-button\\\" (click)='openModal()'>+ Add factor</a>\\n    </span>\\n    <ng-template #showDropdownOption>\\n      <a (click)='openModal()' class=\\\"dropdown-item\\\">\\n        Add new factor\\n      </a>\\n    </ng-template>\\n</div>\\n<ng-template #showFactorDetails>\\n\\t<div class=\\\"control\\\">\\n\\t\\t<div class=\\\"tags has-addons clickable\\\" (click)='openModal()'>\\n\\t\\t  <span class=\\\"tag is-info is-small capitalize\\\">{{ factor.factorName }}</span>\\n\\t\\t  <span class=\\\"tag is-default is-small\\\">\\n\\t\\t  \\t<span *ngIf=\\\"factor.factorType && factor.factorType.annotationValue && factor.factorType.annotationValue != ''; else emptyFactorValue\\\">\\n          {{ factor.factorType.annotationValue }}   \\n        </span>\\n        <ng-template #emptyFactorValue>\\n          -\\n        </ng-template>\\n\\t\\t  </span>\\n\\t\\t</div>\\n\\t</div>\\t\\n</ng-template>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isTimeLineModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <div class=\\\"timeline\\\">\\n        <div class=\\\"timeline-item\\\">\\n          <div class=\\\"timeline-marker\\\"></div>\\n          <div class=\\\"timeline-content\\\">\\n            <p class=\\\"heading\\\">January 2016</p>\\n            <p>Timeline content - Can include any HTML element</p>\\n          </div>\\n        </div>\\n        <div class=\\\"timeline-item\\\">\\n          <div class=\\\"timeline-marker is-image is-32x32\\\">\\n            <img src=\\\"http://bulma.io/images/placeholders/32x32.png\\\">\\n          </div>\\n          <div class=\\\"timeline-content\\\">\\n            <p class=\\\"heading\\\">February 2016</p>\\n            <p>Timeline content - Can include any HTML element</p>\\n          </div>\\n        </div>\\n        <header class=\\\"timeline-header\\\">\\n          <span class=\\\"tag is-primary\\\">2017</span>\\n        </header>\\n        <div class=\\\"timeline-item\\\">\\n          <div class=\\\"timeline-marker is-icon\\\">\\n            <i class=\\\"fa fa-flag\\\"></i>\\n          </div>\\n          <div class=\\\"timeline-content\\\">\\n            <p class=\\\"heading\\\">March 2017</p>\\n            <p>Timeline content - Can include any HTML element</p>\\n          </div>\\n        </div>\\n      </div>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='closeHistory()' class=\\\"button is-info\\\">OK</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <p>Are you sure you want to delete?</p>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n          <button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='delete()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n      \\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\tformControlName=\\\"factorName\\\"\\n\\t\\t\\tmatInput>\\n\\t\\t\\t<mat-hint>{{ fieldValidation('factorName').description }}</mat-hint>\\n\\t\\t\\t<mat-error\\n\\t\\t\\t*ngIf=\\\"form.get('factorName').errors &&\\n\\t\\t\\tform.get('factorName').dirty &&\\n\\t\\t\\tform.get('factorName').errors.factorName\\\">\\n\\t\\t\\t{{ form.get('factorName').errors.factorName.error }}\\n\\t\\t</mat-error>\\n\\t\\t</mat-form-field>\\n        <mtbls-ontology #factorType [validations]=\\\"fieldValidation('factorType')\\\" (changed)=\\\"onChanges($event)\\\" [values]='[factor.factorType]' [inline]=\\\"true\\\"></mtbls-ontology>\\n      </section>\\n      <footer class=\\\"modal-card-foot\\\">\\n        <div class=\\\"columns is-gapless full-width\\\">\\n          <div class=\\\"column is-half\\\">\\n            <button *ngIf=\\\"!addNewFactor\\\" class=\\\"button is-danger is-pulled-left\\\" (click)=\\\"confirmDelete()\\\"><mat-icon>delete_outline</mat-icon></button>\\n            <!-- <button *ngIf=\\\"!addNewFactor\\\" class=\\\"button is-light is-pulled-left\\\" (click)='showHistory()' ><mat-icon>history</mat-icon></button> -->\\n          </div>\\n          <div class=\\\"column is-half has-text-right\\\">\\n            <button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n              <mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n              Save\\n            </button>\\n            <button *ngIf=\\\"form.pristine\\\" (click)='closeModal()' class=\\\"button is-info\\\">OK</button>\\n            <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>Cancel</button>\\n          </div>\\n        </div>\\n      </footer>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit, Input, Inject, ViewChild, SimpleChanges } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { Ontology } from './../../../../models/mtbl/mtbls/common/mtbls-ontology';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from '../../../../store';\nimport * as toastr from 'toastr';\nimport { JsonConvert, OperationMode, ValueCheckingMode } from \"json2typescript\";\nimport { OntologyComponent } from './../../ontology/ontology.component';\nimport { MTBLSFactor } from './../../../../models/mtbl/mtbls/mtbls-factor';\n\n@Component({\n\tselector: 'mtbls-factor',\n\ttemplateUrl: './factor.component.html',\n\tstyleUrls: ['./factor.component.css']\n})\nexport class FactorComponent implements OnInit {\n\n\t@Input('value') factor: MTBLSFactor;\n\t@Input('validations') validations: any;\n\t@Input('isDropdown') isDropdown: boolean = false;\n\n\t@ViewChild(OntologyComponent) factorTypeComponent: OntologyComponent;\n\n\tprivate validationsId = 'factors.factor';\n\n\tisModalOpen: boolean = false;\n\tisTimeLineModalOpen: boolean = false;\n\tisDeleteModalOpen: boolean = false;\n\n\tform: FormGroup;\n\tisFormBusy: boolean = false;\n\taddNewFactor: boolean = false;\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) {\n\t}\n\n\tngOnInit() {\n\t\tif (this.factor == null){\n\t\t\tthis.addNewFactor = true\n\t\t}\n\t}\n\n\tonChanges(){\n\t\tthis.form.markAsDirty();\n\t}\n\n\tshowHistory(){\n\t\tthis.isModalOpen = false\n\t\tthis.isTimeLineModalOpen = true\n\t}\n\n\tcloseHistory(){\n\t\tthis.isTimeLineModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\topenModal() {\n\t\tif(this.addNewFactor){\n\t\t\tthis.factor = new MTBLSFactor()\n\t\t}\n\t\tthis.initialiseForm()\n\t\tthis.isModalOpen = true\n\t}\n\n\tinitialiseForm() {\n\t\tthis.isFormBusy = false;\n\t\tthis.form = this.fb.group({\n\t\t\tfactorName:  [ this.factor.factorName],\n\t\t});\n\t}\n\n\tconfirmDelete(){\n\t\tthis.isModalOpen = false\n\t\tthis.isDeleteModalOpen = true\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n\tsave() {\n\t\tthis.isFormBusy = true;\n\t\tif(!this.addNewFactor){\n\t\t\tthis.metabolightsService.updateFactor(this.factor.factorName, this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateFactors(res, 'Factor updated.')\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}else{\n\t\t\tthis.metabolightsService.saveFactor(this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateFactors(res, 'Factor saved.')\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}\n\t}\n\n\tdelete() {\n\t\tthis.metabolightsService.deleteFactor(this.factor.factorName).subscribe( res => {\n\t\t\t\tthis.updateFactors(res, 'Factor deleted.')\n\t\t\t\tthis.isDeleteModalOpen = false\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t});\n\t}\n\n\tupdateFactors(data, message){\n\t\tthis.metabolightsService.getFactors().subscribe( res => {\n\t\t\tthis.ngRedux.dispatch({ type: 'UPDATE_STUDY_FACTORS', body: {\n\t\t\t\t'factors': res.factors\n\t\t\t}})\n\t\t})\n\n\t\tthis.form.markAsPristine()\n\t\tthis.initialiseForm();\n\t\tthis.isModalOpen = true;\n\n\t\ttoastr.success( message, \"Success\", {\n\t\t\t\"timeOut\": \"2500\",\n\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\"preventDuplicates\": true,\n\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\"tapToDismiss\": false\n\t\t});\n\t}\n\n\tcompileBody() {\n\t\tlet mtblsFactor = new MTBLSFactor();\n\t\tmtblsFactor.factorName = this.getFieldValue('factorName');\n\t\tmtblsFactor.comments = []\n\t\tlet jsonConvert: JsonConvert = new JsonConvert();\n\t\tmtblsFactor.factorType = jsonConvert.deserialize(this.factorTypeComponent.values[0], Ontology)\n\t\treturn { \"factor\" : mtblsFactor.toJSON()}\n\t}\n\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.validations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.validations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n\tgetFieldValue(name){\n\t\treturn this.form.get(name).value;\n\t}\n\n\tsetFieldValue(name, value){\n\t\treturn this.form.get(name).setValue(value);\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"card\\\">\\n  <header class=\\\"card-heading hover-highlight\\\">\\n    <span>\\n      <p class=\\\"is-pulled-left\\\">\\n        Factors\\n      </p>\\n      <mtbls-factor [value]=\\\"null\\\" [validations]=\\\"validations\\\"></mtbls-factor>\\n    </span>\\n  </header>\\n  <div class=\\\"card-content\\\">\\n    <div class=\\\"content\\\">\\n      <div *ngIf=\\\"factors && factors.length > 0;else emptyMessage\\\">\\n        <div id=\\\"meta\\\">\\n          <div *ngFor=\\\"let factor of factors\\\">\\n            <mtbls-factor [value]=\\\"factor\\\" [validations]=\\\"validations\\\"></mtbls-factor>\\n          </div>\\n        </div>\\n      </div>\\n      <ng-template #emptyMessage>\\n        <p class=\\\"has-text-grey-light has-text-centered\\\"><small>No Study factors defined yet.</small></p>\\n      </ng-template>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n\tselector: 'mtbls-factors',\n\ttemplateUrl: './factors.component.html',\n\tstyleUrls: ['./factors.component.css']\n})\nexport class FactorsComponent implements OnInit {\n\n\t@Input('value') factors: string;\n\t@Input('validations') validations: any;\n\t\n\tprivate validationsId = 'factors';\n\n\tconstructor() { }\n\t\n\tngOnInit() {\n\t}\n\n\tget validation() {\n\t\treturn this.validations[this.validationsId];\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<p>\\n  file works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-file',\n  templateUrl: './file.component.html',\n  styleUrls: ['./file.component.css']\n})\nexport class FileComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"img{\\n\\theight: auto;\\n}\\n\\n.panel-heading {\\n    font-size: 1em;\\n}\\n\\n.panel-block {\\n    font-size: 0.9em;\\n}\\n\\n.panel-block.is-active-file {\\n    border-left: 2px solid #3273dc;\\n}\\n\\n.upload-zone{\\n\\tmin-height: 100px;\\n\\tborder-radius: 4px;\\n\\tcolor: #dbdbdb;\\n\\tborder: 1px dashed #dbdbdb;\\n\\tmargin-bottom: 10px;\\n\\tpadding-top: 40px;\\n\\tcursor: pointer;\\n}\\n\\n.upload-zone:hover {\\n\\tborder: 1px dashed #bababa;\\n\\tcolor: #333;\\n}\\n\\n.is-divider, .is-divider-vertical {\\n    display: block;\\n    position: relative;\\n    border-top: .1rem solid #dbdbdb;\\n    height: .1rem;\\n    margin: 0 0 2rem 0;\\n    text-align: center;\\n}\"","module.exports = \"<div class=\\\"columns is-mobile has-text-centered\\\">\\n  <div class=\\\"column is-half\\\">\\n    <div class=\\\"upload-zone\\\">\\n      FTP Upload \\n    </div>\\n  </div>\\n  <div class=\\\"column is-half\\\">\\n    <div class=\\\"upload-zone\\\">\\n      Aspera Upload\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"is-divider\\\" data-content=\\\"OR\\\"></div>\\n<nav class=\\\"panel\\\">\\n  <p class=\\\"panel-heading\\\">\\n    <small>ISA METADATA</small>\\n  </p>\\n  <span *ngIf=\\\"metaFiles.length > 0; else noMetaData\\\">\\n    <span *ngFor=\\\"let file of metaFiles\\\">\\n      <a class=\\\"panel-block\\\" [ngClass]=\\\"file.status == 'active' ? 'is-active-file' : ''\\\">\\n        <span class=\\\"panel-icon\\\">\\n          <span *ngIf=\\\"isFolder(file); else fileIcon\\\">\\n            <img src=\\\"assets/img/folder.png\\\">\\n          </span>\\n          <ng-template #fileIcon>\\n            <img src=\\\"assets/img/file.png\\\">\\n          </ng-template>\\n        </span>\\n        {{ file.file }}\\n      </a>\\n    </span>\\n  </span>\\n  <ng-template #noMetaData>\\n    <a class=\\\"panel-block\\\">\\n      No metadata files\\n    </a>\\n  </ng-template>\\n</nav>\\n<nav class=\\\"panel\\\">\\n  <p class=\\\"panel-heading\\\">\\n    <small>RAW FILES</small>\\n  </p>\\n  <span *ngIf=\\\"rawFiles.length > 0; else noRawFiles\\\">\\n    <span *ngFor=\\\"let file of rawFiles\\\">\\n      <a class=\\\"panel-block\\\" [ngClass]=\\\"file.status == 'active' ? 'is-active-file' : ''\\\">\\n        <span class=\\\"panel-icon\\\">\\n          <span *ngIf=\\\"isFolder(file); else fileIcon\\\">\\n            <img src=\\\"assets/img/folder.png\\\">\\n          </span>\\n          <ng-template #fileIcon>\\n            <img src=\\\"assets/img/file.png\\\">\\n          </ng-template>\\n        </span>\\n        {{ file.file }}\\n      </a>\\n    </span>\\n  </span>\\n  <ng-template #noRawFiles>\\n    <a class=\\\"panel-block\\\">\\n      No raw files\\n    </a>\\n  </ng-template>\\n</nav>\\n<nav *ngIf=\\\"auditFiles.length > 0 || derivedFiles.length > 0\\\" class=\\\"panel\\\">\\n  <p class=\\\"panel-heading\\\">\\n    <small>INTERNAL AND DERIVED DATA</small>\\n  </p>\\n  <span *ngIf=\\\"auditFiles.length > 0\\\">\\n      <span *ngFor=\\\"let file of auditFiles\\\">\\n        <a class=\\\"panel-block\\\">\\n          <span class=\\\"panel-icon\\\">\\n            <span *ngIf=\\\"isFolder(file); else fileIcon\\\">\\n              <img src=\\\"assets/img/folder.png\\\">\\n            </span>\\n            <ng-template #fileIcon>\\n              <img src=\\\"assets/img/file.png\\\">\\n            </ng-template>\\n          </span>\\n          {{ file.file }}\\n        </a>\\n      </span>\\n  </span>\\n  <span *ngIf=\\\"derivedFiles.length > 0\\\">\\n    <span *ngFor=\\\"let file of derivedFiles\\\">\\n      <a class=\\\"panel-block\\\">\\n        <span class=\\\"panel-icon\\\">\\n          <span *ngIf=\\\"isFolder(file); else fileIcon\\\">\\n            <img src=\\\"assets/img/folder.png\\\">\\n          </span>\\n          <ng-template #fileIcon>\\n            <img src=\\\"assets/img/file.png\\\">\\n          </ng-template>\\n        </span>\\n        {{ file.file }}\\n      </a>\\n    </span>\\n  </span>\\n</nav>\"","import { Component, OnInit } from '@angular/core';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\n\n@Component({\n  selector: 'mtbls-files',\n  templateUrl: './files.component.html',\n  styleUrls: ['./files.component.css']\n})\nexport class FilesComponent implements OnInit {\n\n  constructor(private metabolightsService: MetabolightsService) {}\n\n  rawFiles: any[] = [];\n  metaFiles: any[] = [];\n  auditFiles: any[] = [];\n  derivedFiles: any[] = [];\n  ngOnInit() {\n  \tthis.metabolightsService.getStudyFiles().subscribe( data => {\n      data.studyFiles.forEach( file => {\n        if(file.type == 'unknown' || file.type == 'compressed' || file.type == 'derived' ){\n          this.rawFiles.push(file)\n        }else if(file.type.indexOf('metadata') > -1){\n          this.metaFiles.push(file)\n        }else if(file.type == 'audit'){\n          this.auditFiles.push(file)\n        }else if(file.type == 'internal_mapping' || file.type == 'spreadsheet'){\n          this.derivedFiles.push(file)\n        }\n      })\n\t  })\n  }\n\n  isFolder(file){\n  \treturn !(file.file.indexOf(\".\") > -1)\n  }\n\n}\n","module.exports = \"table {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -o-user-select: none;\\n  -ms-user-select: none;\\n      user-select: none;\\n}\\n\\ntable {\\n  width: 100%;\\n}\\n\\ntable td, table th {\\n  vertical-align: middle;\\n}\\n\\nth.mat-sort-header-sorted {\\n  color: black;\\n}\\n\\nth div{\\n  display: flex;\\n}\\n\\n.column-editor-card{\\n  min-width: 80vw !important;\\n  min-height: 80vh;\\n}\\n\\n.columns.is-vcentered {\\n  align-items: center;\\n}\\n\\n.columns.is-hcentered {\\n  justify-content: center;\\n  text-align: center;\\n}\\n\\n.mt20{\\n  margin-top: 20px;\\n}\\n\\n.mb0{\\n  margin-bottom: 0px;\\n}\\n\\n.tab-wrapper{\\n  min-height: 80vh;\\n}\\n\\n.modal-card-title {\\n  color: #979797;\\n  font-size: 1.2rem;\\n}\\n\\n.modal-card-title .highlight {\\n  color: #000;\\n}\\n\\n.options-wrapper{\\n  border-left: 1px solid #f1f1f3;\\n  min-height: 70vh;\\n  padding-top: 10px !important;\\n}\\n\\n.options-title{\\n  border-bottom: 1px solid #f1f1f3;\\n  padding: 15px !important;\\n  font-weight: bold;\\n  font-size: 1.1em;\\n}\\n\\n.options{\\n  padding: 15px;\\n}\\n\\n.wrapper{\\n  width: 100%;\\n  overflow: auto;\\n}\\n\\n.mat-form-field-infix {\\n  border-top: none;\\n}\\n\\ntd.mat-cell, td.mat-footer-cell, th.mat-header-cell {\\n\\tpadding-left: 20px;\\n\\tpadding-right: 12px;\\n  box-shadow: 0 0 1px #dbdbdb;\\n}\\n\\n.mat-table-sticky {\\n  background-color: #fdfdfd;\\n}\\n\\n.dropdown-divider {\\n  background-color: #dbdbdb;\\n  border: none;\\n  display: block;\\n  height: 1px;\\n  margin: 0;\\n}\\n\\n.dropdown-content {\\n padding-bottom: 0rem; \\n padding-top: 0rem; \\n border-radius: 2px;\\n}\\n\\na.dropdown-item {\\n  padding-right: 1rem; \\n}\\n\\n.column{\\n  padding: 0;\\n}\\n\\n.addon-tag{\\n  padding-left: 0;\\n  padding-right: 0;\\n  border-left: 1px dotted #eaeaea;\\n}\\n\\n.columns{\\n  margin-right: 0px;\\n  margin-left: 0px;\\n}\\n\\n.row-selector{\\n\\twidth: 10px;\\n}\\n\\n.table-selector{\\n\\twidth: 10px;\\n}\\n\\n.selected{\\n\\tbackground-color: #333;\\n  color: #fff;\\n}\\n\\n.row-options-wrapper{\\n\\tposition: relative;\\n}\\n\\n.row-options{\\n\\tposition: absolute;\\n  left: -23px;\\n  top: 0px;\\n  height: 48px;\\n}\\n\\n.table-icon {\\n  padding-right: 10px;\\n  padding-top: 12px;\\n}\\n\\n.button{\\n  margin-left: 2px;\\n  margin-right: 2px;\\n}\\n\\n.menu-bar{\\n  margin-top: 10px;\\n  margin-bottom: 0 !important;\\n  align-items: baseline;\\n}\\n\\n.menu-bar:first-child { \\n  margin-left: -5px;\\n}\\n\\n.menu-bar:last-child { \\n  margin-right: -5px;\\n}\\n\\n.button.is-light {\\n  border-radius: 2px;\\n}\\n\"","module.exports = \"<div class=\\\"card\\\" *ngIf=\\\"maf\\\">\\n\\t<header class=\\\"card-header\\\">\\n\\t\\t<p class=\\\"card-header-title\\\">\\n\\t\\t\\tMetabolite Identification File\\n\\t\\t</p>\\n\\t</header>\\n\\t<div class=\\\"card-content\\\">\\n\\t\\t<div class=\\\"columns mb0 is-vcentered is-hcentered\\\">\\n\\t\\t\\t<div class=\\\"column is-12 is-paddingless\\\">\\n\\t\\t\\t\\t<mat-form-field class=\\\"full-width bback\\\">\\n\\t\\t\\t\\t\\t<input (keydown)=\\\"onKeydown($event, $event.target.value)\\\" autocomplete=\\\"off\\\" matInput (keyup)=\\\"applyFilter($event.target.value)\\\" placeholder=\\\"Filter\\\">\\n\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div *ngIf=\\\"filters.length > 0\\\" class=\\\"field is-grouped is-grouped-multiline\\\">\\n\\t\\t\\t<div *ngFor=\\\"let filter of filters\\\" class=\\\"control\\\">\\n\\t\\t\\t\\t<div class=\\\"tags has-addons\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"tag is-link\\\">{{ filter }}</span>\\n\\t\\t\\t\\t\\t<a (click)=\\\"highlightFilteredRows(filter)\\\" class=\\\"tag addon-tag\\\"><mat-icon>control_camera</mat-icon></a>\\n\\t\\t\\t\\t\\t<a (click)=\\\"removeFilter(filter)\\\" class=\\\"tag is-delete\\\"></a>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"menu-bar columns\\\">  \\n\\t\\t\\t<span class=\\\"column fadeIn\\\">\\n\\t\\t\\t\\t<a (click)=\\\"addRow()\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t<mat-icon>add</mat-icon> Row\\n\\t\\t\\t\\t</a>&nbsp;\\n\\t\\t\\t\\t<mtbls-upload></mtbls-upload>&nbsp;\\n      \\t\\t\\t<mtbls-download [value]=\\\"maf.file\\\"></mtbls-download>\\n\\t\\t\\t\\t<span *ngIf=\\\"selectedRows.length > 0\\\">\\n\\t\\t\\t\\t\\t<a (click)=\\\"openDeleteModal()\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon> Delete\\n\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</span>\\n\\t\\t\\t<span class=\\\"column fadeIn has-text-right\\\">\\n\\t\\t\\t\\t<mat-paginator [pageSizeOptions]=\\\"[10, 100, 500]\\\" showFirstLastButtons></mat-paginator>\\n\\t\\t\\t</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"wrapper mat-elevation-z1\\\">\\n\\t\\t\\t<table class=\\\"mat-elevation-z1\\\" matSort [dataSource]=\\\"tableDataSource\\\" mat-table>\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"Select\\\" sticky>\\n\\t\\t\\t\\t\\t<th (click)=\\\"deSelect()\\\" class=\\\"clickable table-selector\\\" mat-header-cell *matHeaderCellDef></th>\\n\\t\\t\\t\\t\\t<td (dblclick)=\\\"openRowEditModal(row)\\\" (click)=\\\"rowClick(row, $event)\\\" class=\\\"clickable row-selector hover-highlight\\\" mat-cell *matCellDef=\\\"let row\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"row-options-wrapper\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"row-options hover-button\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon class=\\\"table-icon\\\">aspect_ratio</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let column of maf.columns\\\" [sticky]=\\\"column.sticky\\\" [matColumnDef]=\\\"column.columnDef\\\">\\n\\t\\t\\t\\t\\t<th class=\\\"clickable hover-highlight\\\" mat-header-cell *matHeaderCellDef>\\n\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t<span (click)=\\\"headerClick(column, $event)\\\">{{ column.header }} </span>\\n\\t\\t\\t\\t\\t\\t\\t<span mat-sort-header>&nbsp;</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<td (dblclick)=\\\"editCell(row, column, $event)\\\" (click)=\\\"cellClick(row, column, $event)\\\" class=\\\"clickable\\\" [ngClass]=\\\"{'selected': isSelected(row, column)}\\\" mat-cell *matCellDef=\\\"let row\\\"> \\n\\t\\t\\t\\t\\t\\t{{ row[column.header] }} \\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<tr mat-header-row *matHeaderRowDef=\\\"maf.displayedColumns\\\"></tr>\\n\\t\\t\\t\\t<tr mat-row *matRowDef=\\\"let row; columns: maf.displayedColumns;\\\"></tr>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n\\n<div class=\\\"modal\\\" *ngIf=\\\"isRowEditModalOpen\\\" [ngClass]=\\\"{'is-active': isRowEditModalOpen}\\\">\\n\\t<form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n\\t\\t<div class=\\\"modal-background\\\"></div>\\n\\t\\t<div class=\\\"modal-card\\\">\\n\\t\\t\\t<div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t\\t<div class=\\\"field is-horizontal\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"field-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label><small>Name</small></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"name\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t(blur)=\\\"search('name')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-hint>{{ fieldValidation('doi').description }}</mat-hint> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-error\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label><small>SMILES</small></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"smiles\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t(blur)=\\\"search('smiles')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-hint>{{ fieldValidation('doi').description }}</mat-hint> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-error\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label><small>InChI</small></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"inchi\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t(blur)=\\\"search('inchi')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-hint>{{ fieldValidation('doi').description }}</mat-hint> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-error\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label><small>Database Identifier</small></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"databaseId\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t(blur)=\\\"search('databaseId')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-hint>{{ fieldValidation('doi').description }}</mat-hint> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-error\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</section>\\n\\t\\t\\t<footer class=\\\"modal-card-foot buttons is-right\\\">\\n\\t\\t\\t\\t<button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='saveMultipleCells()' class=\\\"button is-info\\\">\\n\\t\\t\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n\\t\\t\\t\\t\\tSave\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button *ngIf=\\\"form.pristine\\\" (click)='closeRowEditModal()' class=\\\"button is-info\\\">OK</button>\\n\\t\\t\\t\\t<button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeRowEditModal()'>Cancel</button>\\n\\t\\t\\t</footer>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\\n<div class=\\\"modal\\\" *ngIf=\\\"isEditModalOpen\\\" [ngClass]=\\\"{'is-active': isEditModalOpen}\\\">\\n\\t<form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n\\t\\t<div class=\\\"modal-background\\\"></div>\\n\\t\\t<div class=\\\"modal-card\\\">\\n\\t\\t\\t<div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t\\t<div class=\\\"field is-horizontal\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"field-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"field\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<label>{{ formatCellTitle(selectedCell['column']['columnDef']) }}</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\t\\t\\t\\t\\tformControlName=\\\"cell\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmatInput>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-hint>{{ fieldValidation('doi').description }}</mat-hint> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<!-- <mat-error\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</mat-error> -->\\n\\t\\t\\t\\t\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</section>\\n\\t\\t\\t<footer class=\\\"modal-card-foot buttons is-right\\\">\\n\\t\\t\\t\\t<button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='saveCell()' class=\\\"button is-info\\\">\\n\\t\\t\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n\\t\\t\\t\\t\\tSave\\n\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t<button *ngIf=\\\"form.pristine\\\" (click)='closeEditModal()' class=\\\"button is-info\\\">OK</button>\\n\\t\\t\\t\\t<button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeEditModal()'>Cancel</button>\\n\\t\\t\\t</footer>\\n\\t\\t</div>\\n\\t</form>\\n</div>\\n\\n<div class=\\\"modal\\\" *ngIf=\\\"isDeleteModalOpen\\\"  [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<p>Are you sure you want to delete the selected rows?</p>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='deleteSelectedRows()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { MatPaginator, MatTableDataSource, MatSort} from '@angular/material';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { IAppState } from '../../../../store';\nimport * as toastr from 'toastr';\nimport { tassign } from 'tassign'; \n\n@Component({\n\tselector: 'mtbls-maf',\n\ttemplateUrl: './maf.component.html',\n\tstyleUrls: ['./maf.component.css']\n})\nexport class MafComponent implements OnInit {\n\n\t@Input('value') maf: any;\n\t@Input('assay') assay: any;\n\t@Input('validations') studyValidations: any;\n\n\ttableDataSource : any;\n\n\tselectedRows: any[] = []\n\tselectedColumns: any[] = []\n\tselectedCells: any[] = []\n\n\tfilter: string = '';\n\tfilters: string[] = [];\n\tlastRowSelection = null;\n\tlastColSelection = null;\n\n\tselectedColumn = null;\n\tselectedColumnValues = null;\n\n\tselectedCell = {};\n\tselectedRow = {};\n\n\tisDeleteModalOpen = false;\n\tisEditModalOpen = false;\n\tisRowEditModalOpen = false;\n\n\tisFormBusy = false;\n\n\tform: FormGroup;\n\n\t@ViewChild(MatPaginator) paginator: MatPaginator;\n\t@ViewChild(MatSort) sort: MatSort;\n\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n\t}\n\n\tngOnInit() {\n\t\tthis.tableDataSource = new MatTableDataSource<any>(this.maf.data)\n\t}\n\n\tngAfterViewInit() {\n\t\tthis.tableDataSource.sort = this.sort;\n\t\tthis.tableDataSource.paginator = this.paginator;\n\t}\n\n\topenRowEditModal(row){\n\t\tthis.isRowEditModalOpen = true;\n\t\tthis.selectedRow = row;\n\t\tthis.form = this.fb.group({\n\t\t\tname:  [ row['metabolite_identification'] ],\n\t\t\tsmiles:  [ row['smiles'] ],\n\t\t\tinchi:  [ row['smiles'] ],\n\t\t\tdatabaseId:  [ row['database_identifier'] ]\n\t\t});\n\t}\n\n\tcloseRowEditModal(){\n\t\tthis.isRowEditModalOpen = false;\n\t}\n\n\tsearch(type){\n\t\tlet term = this.form.get(type).value;\n\t\tthis.isFormBusy = true;\n\t\tthis.metabolightsService.search(term, type).subscribe( res => {\n\t\t\tlet resultObj = res.content[0]\n\t\t\tthis.isFormBusy = false;\n\t\t\tlet fields = ['name', 'smiles', 'inchi', 'databaseId']\n\t\t\tfields.forEach(field =>{\n\t\t\t\tif(field != term){\n\t\t\t\t\tthis.form.get(field).setValue(resultObj[field], {emitEvent: false})\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.form.markAsDirty();\n\t\t})\n\t}\n\n\tonKeydown(event, filterValue:string) {\n\t\tif (event.key === \"Enter\") {\n\t\t\tlet data = []\n\t\t\tif (this.filters.indexOf(filterValue) < 0){\n\t\t\t\tthis.filters.push(filterValue)\n\t\t\t\tevent.target.value = ''\n\t\t\t}\n\t\t\tthis.tableDataSource.filter = '';\n\t\t\tthis.filters.forEach(f => {\n\t\t\t\tdata = data.concat(this.tableDataSource.data.filter(d => this.getDataString(d).indexOf(f.toLowerCase()) > -1))\n\t\t\t})\n\t\t\tthis.tableDataSource.data = data;\n\t\t}\n\t}\n\n\tisSelected(row, column){\n\t\tif((row && column) && this.selectedCells.length > 0){\n\t\t\treturn this.selectedCells.filter( cell => (cell[0] == column.columnDef && cell[1] == row.index) ).length > 0\n\t\t}else if(this.selectedColumns.length == 0){\n\t\t\tif(this.selectedRows.indexOf(row.index) > -1){\n\t\t\t\treturn true\n\t\t\t}\n\t\t}else if(this.selectedRows.length == 0){\n\t\t\tif(this.selectedColumns.indexOf(column.columnDef) > -1){\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\n\trowClick(row: any, event){\n\t\tthis.selectedCells = []\n\t\tthis.selectedColumns = []\n\t\tlet entryIndex = row.index\n\t\tlet rowIndex = this.selectedRows.indexOf(entryIndex)\n\t\tif(event && event.altKey){\n\t\t\tif( rowIndex > -1){\n\t\t\t\tthis.selectedRows.splice(rowIndex, 1)\n\t\t\t}else{\n\t\t\t\tthis.selectedRows.push(entryIndex)\n\t\t\t}\n\t\t}else if(event && event.shiftKey){\n\t\t\tlet lastSelectionIndex = null;\n\t\t\tlet lastRowIndex = -1;\n\t\t\tlet rowNamesArray: any[] = this.maf.data.map( e => { return e.index })\n\t\t\tif(this.lastRowSelection){\n\t\t\t\tlastSelectionIndex = this.lastRowSelection.index\n\t\t\t\tlastRowIndex = rowNamesArray.indexOf(lastSelectionIndex)\n\t\t\t}else{\n\t\t\t\tlastRowIndex = 0\n\t\t\t}\n\t\t\tlet currentRowIndex = rowNamesArray.indexOf(entryIndex)\n\t\t\tlet currentSelection = []\n\n\t\t\tif(lastRowIndex > currentRowIndex){\n\t\t\t\tcurrentSelection = rowNamesArray.slice(currentRowIndex, lastRowIndex + 1)\n\t\t\t}else{\n\t\t\t\tcurrentSelection = rowNamesArray.slice(lastRowIndex, currentRowIndex + 1)\n\t\t\t}\n\t\t\tthis.selectedRows = this.selectedRows.concat(currentSelection)\n\t\t}else{\n\t\t\tif( rowIndex < 0){\n\t\t\t\tthis.selectedRows = [entryIndex]\n\t\t\t}else{\n\t\t\t\tthis.selectedRows = []\n\t\t\t}\n\t\t}\n\t\tthis.lastRowSelection = row\n\t}\n\n\tcellClick(row: any, column: any, event){\n\t\tif(event.altKey){\n\t\t\tthis.selectedCells.push( [column.columnDef,row.index] )\n\t\t}else{\n\t\t\tthis.selectedCells = [[column.columnDef,row.index]]\n\t\t}\n\t}\n\n\ttoTitleCase(str) {\n\t    return str.replace(/\\w\\S*/g, function(txt){\n\t        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n\t    });\n\t}\n\n\tformatCellTitle(term){\n\t\treturn term.replace(\"_\", \" \")\n\t}\n\n\teditCell(row: any, column: any, event){\n\t\tthis.isEditModalOpen = true;\n\t\tthis.selectedCell['row'] = row\n\t\tthis.selectedCell['column'] = column\n\t\tthis.form = this.fb.group({\n\t\t\tcell:  [ row[column.columnDef] ],\n\t\t});\n\t}\n\n\tcloseEditModal(){\n\t\tthis.isEditModalOpen = false;\n\t}\n\n\tdeSelect(){\n\t\tthis.selectedRows = []\n\t\tthis.selectedColumns = []\n\t\tthis.selectedCells = []\n\t}\n\n\theaderClick(column: any, event){\n\t\tthis.selectedCells = []\n\t\tthis.selectedRows = []\n\t\tlet entryIndex = column.columnDef\n\t\tlet colIndex = this.selectedColumns.indexOf(entryIndex)\n\n\t\tif(event.altKey){\n\t\t\tif( colIndex > -1){\n\t\t\t\tthis.selectedRows.splice(colIndex, 1)\n\t\t\t}else{\n\t\t\t\tthis.selectedRows.push(entryIndex)\n\t\t\t}\n\t\t}else if(event.shiftKey){\n\t\t\tlet lastSelectionIndex = null;\n\t\t\tlet lastRowIndex = -1;\n\t\t\tlet colNamesArray: any[] = this.maf.displayedColumns.map( e => { return e.columnDef })\n\t\t\tif(this.lastColSelection){\n\t\t\t\tlastSelectionIndex = this.lastColSelection.index\n\t\t\t\tlastRowIndex = colNamesArray.indexOf(lastSelectionIndex)\n\t\t\t}else{\n\t\t\t\tlastRowIndex = 0\n\t\t\t}\n\t\t\tlet currentRowIndex = colNamesArray.indexOf(entryIndex)\n\t\t\tlet currentSelection = []\n\n\t\t\tif(lastRowIndex > currentRowIndex){\n\t\t\t\tcurrentSelection = colNamesArray.slice(currentRowIndex, lastRowIndex + 1)\n\t\t\t}else{\n\t\t\t\tcurrentSelection = colNamesArray.slice(lastRowIndex, currentRowIndex + 1)\n\t\t\t}\n\t\t\tthis.selectedColumns = this.selectedColumns.concat(currentSelection)\n\t\t}else{\n\t\t\tif( colIndex < 0){\n\t\t\t\tthis.selectedColumns = [entryIndex]\n\t\t\t}else{\n\t\t\t\tthis.selectedColumns = []\n\t\t\t}\n\t\t}\n\t\tthis.lastColSelection = column\n\t}\n\n\tkeys(object){\n\t\treturn Object.keys(object);\n\t}\n\n\tremoveFilter(filter){\n\t\tthis.filters = this.filters.filter(e => e !== filter);\n\t\tthis.tableDataSource.filter = '';\n\t\tif(this.filters.length > 0){\n\t\t\tlet data = []\n\t\t\tthis.filters.forEach(f => {\n\t\t\t\tdata = data.concat(this.tableDataSource.filter(f.toLowerCase()))\n\t\t\t})\n\t\t\tconsole.log(data);\n\t\t\tthis.tableDataSource.data = data;\n\t\t}else{\n\t\t\tthis.tableDataSource.data = this.maf.data\n\t\t}\n\t}\n\n\thighlightFilteredRows(term){\n        this.selectedRows = this.selectedRows.concat(this.maf.data.filter(f => this.getDataString(f).indexOf(term.toLowerCase()) != -1 ).map( p => p.index ));\n    }\n\n    getDataString(row){\n        let rowString = \"\"\n        Object.keys(row).forEach( prop => { if(row[prop]) {rowString = rowString + \" \" + row[prop] }})\n        return rowString.toLowerCase();\n    }\n\n\tapplyFilter(filterValue: string) {\n\t    if(filterValue != ''){\n\t    \tthis.tableDataSource.data = this.maf.data\n\t    \tthis.tableDataSource.filter = filterValue.trim().toLowerCase();\n\t    }\n\t}\n\n\tgetUnique(arr){\n\t\treturn arr.filter (function (value, index, array) { \n    \t\treturn array.indexOf (value) == index;\n\t\t});\n\t}\n\n\tgetEmptyRow(){\n\t\tlet obj = tassign({}, this.maf.data[0]);\n\t\tObject.keys(obj).forEach(function (prop) {\n  \t\t\tobj[prop] = \"\";\n\t\t});\n\t\treturn obj;\n\t}\n\n\tsaveCell(){\n\t\tthis.selectedCell['row'][this.selectedCell['column']['columnDef']] = this.form.get('cell').value\n\t\tthis.save(this.selectedCell['row']);\n\t}\n\n\tsaveMultipleCells(){\n\t\tthis.selectedRow['metabolite_identification'] = this.form.get('name').value\n\t\tthis.selectedRow['inchi'] = this.form.get('inchi').value\n\t\tthis.selectedRow['database_identifier'] = this.form.get('databaseId').value\n\t\tthis.selectedRow['smiles'] = this.form.get('smiles').value\n\t\tthis.save(this.selectedRow);\n\t}\n\n\tsave(data){\n\t\tthis.metabolightsService.updateMAFEntry(this.maf.file, { \"mafdata\": [ data ]}).subscribe( res => {\n\t\t\t\ttoastr.success( \"MAF entry updated successfully\", \"Success\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\n\t\t\t\tlet columns = []\n\t\t        Object.keys(res.mafHeader).forEach( key => {\n\t\t          let fn = \"element['\"+ key +\"']\"\n\t\t          columns.push({\n\t\t            \"columnDef\": key.toLowerCase().split(\" \").join(\"_\"),\n\t\t            \"sticky\": \"false\",\n\t\t            \"header\": key,\n\t\t            \"cell\": (element) => eval(fn)\n\t\t          })\n\t\t        })\n\t\t        let displayedColumns = columns.map( a => { return a.columnDef } )\n\t\t        displayedColumns.unshift(\"Select\")\n\n\t\t        displayedColumns.sort(function(a, b){  \n\t\t          return res.mafHeader[a] - res.mafHeader[b];\n\t\t        });\n\n\t\t        this.ngRedux.dispatch({ type: 'UPDATE_MAF_DATA', body: {\n\t                'data': { 'file': this.maf.file, 'data': res.mafData.rows, 'columnOrder': {}, 'columns' : columns, 'displayedColumns': displayedColumns  },\n\t                'assay': this.assay\n\t            }})\n\t\t\t\tthis.rowClick(this.selectedCell['row'], null)\n\t\t\t}, err => {\n\t\t});\n\t}\n\n\taddRow(){\n\t\tthis.metabolightsService.addMAFEntry(this.maf.file, { \"mafdata\": [this.getEmptyRow()]}).subscribe( res => {\n\t\t\t\ttoastr.success( \"Rows add successfully to the end of the maf sheet\", \"Success\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\n\n\t\t\t\tlet columns = []\n\t\t        Object.keys(res.mafHeader).forEach( key => {\n\t\t          let fn = \"element['\"+ key +\"']\"\n\t\t          columns.push({\n\t\t            \"columnDef\": key.toLowerCase().split(\" \").join(\"_\"),\n\t\t            \"sticky\": \"false\",\n\t\t            \"header\": key,\n\t\t            \"cell\": (element) => eval(fn)\n\t\t          })\n\t\t        })\n\t\t        let displayedColumns = columns.map( a => { return a.columnDef } )\n\t\t        displayedColumns.unshift(\"Select\")\n\n\t\t        displayedColumns.sort(function(a, b){  \n\t\t          return res.mafHeader[a] - res.mafHeader[b];\n\t\t        });\n\n\t\t        this.ngRedux.dispatch({ type: 'UPDATE_MAF_DATA', body: {\n\t                'data': { 'file': this.maf.file, 'data': res.mafData.rows, 'columnOrder': {}, 'columns' : columns, 'displayedColumns': displayedColumns  },\n\t                'assay': this.assay\n\t            }})\n\t\t\t}, err => {\n\t\t});\n\t}\n\n\tdeleteSelectedRows(){\n\t\tthis.metabolightsService.deleteMAFEntries(this.maf.file, this.getUnique(this.selectedRows).join(\",\")).subscribe( res => {\n\t\t\tthis.isDeleteModalOpen = false\n\t\t\ttoastr.success( \"Rows delete successfully\", \"Success\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t});\n\n\n\t\t\tlet columns = []\n\t        Object.keys(res.mafHeader).forEach( key => {\n\t          let fn = \"element['\"+ key +\"']\"\n\t          columns.push({\n\t            \"columnDef\": key.toLowerCase().split(\" \").join(\"_\"),\n\t            \"sticky\": \"false\",\n\t            \"header\": key,\n\t            \"cell\": (element) => eval(fn)\n\t          })\n\t        })\n\t        let displayedColumns = columns.map( a => { return a.columnDef } )\n\t        displayedColumns.unshift(\"Select\")\n\n\t        displayedColumns.sort(function(a, b){  \n\t          return res.mafHeader[a] - res.mafHeader[b];\n\t        });\n\n\t        this.ngRedux.dispatch({ type: 'UPDATE_MAF_DATA', body: {\n                'data': { 'file': this.maf.file, 'data': res.mafData.rows, 'columnOrder': {}, 'columns' : columns, 'displayedColumns': displayedColumns  },\n                'assay': this.assay\n            }})\n\t\t}, err => {});\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false;\n\t}\n\n\topenDeleteModal(){\n\t\tthis.isDeleteModalOpen = true;\n\t}\n\n\tkeyExists(object, key){\n\t\treturn object[key] != undefined\n\t}\n\n\tvalueExists(array, value){\n\t\treturn array.indexOf(value) >= 0\n\t}\n\n\tisObject (item) {\n\t\treturn (typeof item === \"object\" && !Array.isArray(item) && item !== null);\n\t}\n}\n","module.exports = \"\"","module.exports = \"<span *ngIf=\\\"mafFiles && mafFiles.length > 0\\\">\\n\\t<span *ngFor=\\\"let maf of mafFiles\\\">\\n\\t\\t<mtbls-maf [value]=\\\"maf\\\" [validations]=\\\"validations\\\"></mtbls-maf>\\n\\t</span>\\n</span>\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\n\n@Component({\n\tselector: 'mtbls-metabolites',\n\ttemplateUrl: './metabolites.component.html',\n\tstyleUrls: ['./metabolites.component.css']\n})\nexport class MetabolitesComponent implements OnInit {\n\n\t@Input('validations') studyValidations: any;\n\t@select(state => state.study.metaboliteAnnotationFiles) studyMAFFiles: any;\n\n\tmafFiles: any[] = [];\n\n\tconstructor() { \n\t\tthis.studyMAFFiles.subscribe(value => {\n\t\t\tthis.mafFiles = value\n\t\t})\n\t}\n\n\tngOnInit() {\n\t}\n\n\tngAfterViewChecked() {\n\t}\n\n\tprivate validationsId = 'assays';\n\n\tget validations() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.studyValidations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.studyValidations[this.validationsId];\n\t}\n}\n","module.exports = \"\"","module.exports = \"<span *ngIf=\\\"isInline\\\">\\n\\t<div>\\n\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t<mat-chip-list #chipList>\\n\\t\\t\\t\\t<mat-chip\\n\\t\\t\\t\\t*ngFor=\\\"let value of values\\\"\\n\\t\\t\\t\\t[selectable]=\\\"selectable\\\"\\n\\t\\t\\t\\t[removable]=\\\"removable\\\"\\n\\t\\t\\t\\t(removed)=\\\"remove(value)\\\">\\n\\t\\t\\t\\t{{ value.annotationValue }}\\n\\t\\t\\t\\t<mat-icon matChipRemove *ngIf=\\\"removable\\\">cancel</mat-icon>\\n\\t\\t\\t</mat-chip>\\n\\t\\t\\t<input\\n\\t\\t\\t\\t[placeholder]=\\\"validations.label\\\"\\n\\t\\t\\t\\t#valueInput\\n\\t\\t\\t\\t[formControl]=\\\"valueCtrl\\\"\\n\\t\\t\\t\\t(keyup)=\\\"updateList()\\\"\\n\\t\\t\\t\\t[matAutocomplete]=\\\"auto\\\"\\n\\t\\t\\t\\t[matChipInputFor]=\\\"chipList\\\"\\n\\t\\t\\t\\t[matChipInputSeparatorKeyCodes]=\\\"separatorKeysCodes\\\"\\n\\t\\t\\t\\t[matChipInputAddOnBlur]=\\\"addOnBlur\\\"\\n\\t\\t\\t\\t(matChipInputTokenEnd)=\\\"add($event)\\\">\\n\\t\\t\\t</mat-chip-list>\\n\\t\\t\\t<mat-autocomplete #auto=\\\"matAutocomplete\\\" (optionSelected)=\\\"selected($event)\\\">\\n\\t\\t\\t\\t<mat-option *ngFor=\\\"let value of filteredvalues | async\\\" [value]=\\\"value\\\">\\n\\t\\t\\t\\t\\t{{ value.annotationValue }}\\n\\t\\t\\t\\t</mat-option>\\n\\t\\t\\t</mat-autocomplete>\\n\\t\\t\\t<mat-hint>{{ validations.description }}</mat-hint>\\n\\t\\t</mat-form-field>\\n\\t</div>\\n</span>\\n<span *ngIf=\\\"!isInline\\\">\\n\\t<div class=\\\"field mt-10\\\">\\n\\t\\t<label class=\\\"bulma-label has-text-grey\\\"><small>{{ validations.description }}</small></label>\\n\\t\\t<div class=\\\"control\\\">\\n\\t\\t\\t<a class=\\\"button is-success\\\">\\n\\t\\t\\t\\t<mat-icon>playlist_add</mat-icon> Add\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t</div>\\n</span>\"","import { Component, OnInit, Input, Output, Inject, OnChanges, SimpleChanges, ElementRef, EventEmitter, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ValidateRules } from './ontology.validator';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\nimport { FormControl } from '@angular/forms';\nimport { MatAutocompleteSelectedEvent, MatChipInputEvent } from '@angular/material';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\n\nimport { Ontology } from './../../../models/mtbl/mtbls/common/mtbls-ontology';\nimport {JsonConvert, OperationMode, ValueCheckingMode} from \"json2typescript\"\n\n/**\n * @title Chips Autocomplete\n */\n @Component({\n \tselector: 'mtbls-ontology',\n \ttemplateUrl: './ontology.component.html',\n \tstyleUrls: ['./ontology.component.css']\n })\n export class OntologyComponent {\n\n \t@Input('validations') validations: any;\n \t@Input('values') values: Ontology[] = [];\n \t@Input('inline') isInline: boolean;\n\n \t@Input('id') id: string;\n\n \t@Output() changed = new EventEmitter<any>();\n\n \tisforcedOntology: boolean = false;\n \turl: string = '';\n \tendPoints: any[] = [];\n\n \tform: FormGroup;\n \tisFormBusy: boolean = false;\n\n \tvisible = true;\n \tselectable = true;\n \tremovable = true;\n \taddOnBlur = false;\n \tseparatorKeysCodes: number[] = [ENTER, COMMA];\n \tvalueCtrl = new FormControl();\n \tfilteredvalues: Observable<Ontology[]>;\n \tallvalues: Ontology[] = [];\n\n \t@ViewChild('valueInput') valueInput: ElementRef;\n\n \tconstructor(private metabolightsService: MetabolightsService) {\n \t}\n\n \tngOnInit() {\n \t\tif(this.values == null || this.values[0] == null){\n \t\t\tthis.values = []\n \t\t}\n\n \t\tif(this.validations['data-type'] == 'ontology'){\n \t\t\tif(this.validations['recommended-ontologies']){\n \t\t\t\tthis.isforcedOntology = this.validations['recommended-ontologies']['is-forced-ontology']\n \t\t\t\tthis.url = this.validations['recommended-ontologies']['ontology']['url']\n \t\t\t\tthis.endPoints = this.validations['recommended-ontologies']['ontology']\n\n \t\t\t\tif(this.url != ''){\n \t\t\t\t\tthis.metabolightsService.getOntologyTerms(this.url).subscribe( terms => {\n \t\t\t\t\t\tlet jsonConvert: JsonConvert = new JsonConvert();\n \t\t\t\t\t\tterms.OntologyTerm.forEach( term => {\n \t\t\t\t\t\t\tthis.allvalues.push(jsonConvert.deserialize(term, Ontology))\n \t\t\t\t\t\t})\n \t\t\t\t\t\tthis.filteredvalues = this.valueCtrl.valueChanges.pipe(\n \t\t\t\t\t\t\tstartWith(null),\n \t\t\t\t\t\t\tmap((value: Ontology | null) => value ? this._filter(value) : this.allvalues.slice()));\n      \t\t\t\t})\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\t}\n\n\tadd(event: MatChipInputEvent): void {\n\t\tconst input = event.input;\n\t\tconst value = event.value;\n\n\t\tif(this.indexOfObject(this.allvalues, 'annotationValue', value ) > -1){\n\t\t\tif(this.indexOfObject(this.values, 'annotationValue', value ) == -1){\n\t\t\t\tthis.values.push(this.allvalues[this.indexOfObject(this.allvalues, 'annotationvalue', value)])\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.isforcedOntology){\n\t\t\t\tlet ontology = new Ontology();\n\t\t    \tontology.annotationValue = value;\n\t\t    \tthis.values.push(ontology);\n\t\t\t}\n\t\t}\n\t    if (input) {\n\t    \tinput.value = '';\n\t    }\n\t    this.valueCtrl.setValue(null);\n\t\tthis.triggerChanges();\n\t}\n\n\tindexOfObject(array, key, value): any {\n\t\treturn array.map(function(e) { return e[key] }).indexOf(value);\n\t}\n\n\tremove(value: Ontology): void {\n\t\tconst index = this.indexOfObject(this.values, 'annotationValue', value.annotationValue);\n\t\tif (index >= 0) {\n\t\t\tthis.values.splice(index, 1);\n\t\t}\n\t\tthis.triggerChanges();\n\t}\n\n\tselected(event: MatAutocompleteSelectedEvent): void {\n\t\tif(this.indexOfObject(this.values, 'annotationValue', event.option.value.annotationValue ) == -1){\n\t\t\tthis.values.push(event.option.value)\n\t\t}\n\t\tthis.valueInput.nativeElement.value = '';\n\t\tthis.valueCtrl.setValue(null);\n\t\tthis.triggerChanges();\n\t}\n\n\tupdateList(){\n\t\tlet term = this.valueInput.nativeElement.value;\n\n\t\tthis.metabolightsService.getOntologyTerms(this.url + term).subscribe( terms => {\n\t\t\tthis.allvalues = [];\n\t\t\tlet jsonConvert: JsonConvert = new JsonConvert();\n\t\t\tterms.OntologyTerm.forEach( term => {\n\t\t\t\tthis.allvalues.push(jsonConvert.deserialize(term, Ontology))\n\t\t\t})\n\t\t\tthis.filteredvalues = this.valueCtrl.valueChanges.pipe(\n\t\t\t\tstartWith(null),\n\t\t\t\tmap((value: Ontology | null) => value ? this._filter(value) : this.allvalues.slice()));\n\t\t})\n\t}\n\n\ttriggerChanges(){\n\t\tthis.changed.emit();\n\t}\n\n\tprivate _filter(value: Ontology): Ontology[] {\n\t\tif(value.annotationValue){\n\t\t\tconst filterValue = value.annotationValue.toLowerCase();\n\t\t\treturn this.allvalues.filter(value => value.annotationValue.toLowerCase().indexOf(filterValue) === 0);\t\n\t\t}\n\t}\n}","module.exports = \".pointer{\\n\\tcursor: pointer;\\n}\\n\\n.tag.is-info {\\n    margin-right: 5px !important;\\n    margin-top: 5px !important;\\n}\"","module.exports = \"<span class=\\\"tag is-info\\\" [ngClass]=\\\" (organism.parts.length > 0 || organism.variants.length > 0) ? 'pointer' : ''\\\" (click)=\\\"showModal()\\\">\\n\\t<b>{{ organism.name }}</b>\\n</span>\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-content\\\">\\n\\t\\t<article class=\\\"message is-info\\\">\\n\\t\\t\\t<div class=\\\"message-header\\\">\\n\\t\\t\\t\\t<p>{{ organism.name }}</p>\\n\\t\\t\\t\\t<button (click)='closeModal()' class=\\\"delete is-small\\\" aria-label=\\\"delete\\\"></button>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"message-body\\\">\\n\\t\\t\\t\\t<table *ngIf=\\\"organism.parts.length > 0\\\" class=\\\"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\\\">\\n\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<th>Part(s)</th>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let part of organism.parts\\\">\\n\\t\\t\\t\\t\\t\\t\\t<td>{{ part }}</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t<table *ngIf=\\\"organism.variants.length > 0\\\" class=\\\"table is-bordered is-striped is-narrow is-hoverable is-fullwidth\\\">\\n\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<th>Variant(s)</th>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let variant of organism.variants\\\">\\n\\t\\t\\t\\t\\t\\t\\t<td>{{ variant }}</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t</table>\\n\\t\\t\\t</div>\\n\\t\\t</article>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n\tselector: 'mtbls-organism',\n\ttemplateUrl: './organism.component.html',\n\tstyleUrls: ['./organism.component.css']\n})\nexport class OrganismComponent implements OnInit {\n\n\t@Input('value') organism: any;\n\tisModalOpen: boolean = false;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tthis.organism.variants = this.organism.variants.filter( n => n)\n\t\tthis.organism.parts = this.organism.parts.filter( n => n)\n\t}\n\n\tshowModal(){\n\t\tif(this.organism.parts.length > 0 || this.organism.variants.length > 0){\n\t\t\tthis.isModalOpen = true;\n\t\t}\n\t}\n\n\tcloseModal(){\n\t\tthis.isModalOpen = false;\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"px-20 mtbls-section\\\">\\n\\t<span *ngFor=\\\"let organism of organisms\\\">\\n\\t\\t<mtbls-organism [value]=\\\"organism\\\"></mtbls-organism>\\n\\t</span>\\n</div>\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\n\n@Component({\n\tselector: 'mtbls-organisms',\n\ttemplateUrl: './organisms.component.html',\n\tstyleUrls: ['./organisms.component.css']\n})\nexport class OrganismsComponent implements OnInit {\n\n\t@select(state => state.study.organisms) studyOrganisms;\n\torganisms : any[] = []\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t\tthis.studyOrganisms.subscribe(value => { \n\t\t\tObject.keys(value).forEach(key => {\n\t\t\t\tvalue[key]['name'] = key\n\t\t\t\tthis.organisms.push(value[key]);\n\t\t\t})\n\t\t})\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"hover-highlight px-20\\\">\\n    <div class=\\\"mtbls-section bb\\\">\\n\\t\\t<h6>\\n\\t\\t\\t<mat-icon>people</mat-icon>\\n\\t\\t\\t<span *ngFor=\\\"let person of people; let i = index\\\">\\n\\t\\t\\t\\t<span *ngIf=\\\"i!=0\\\">,&nbsp;</span>\\n\\t\\t\\t\\t<mtbls-person [value]=\\\"person\\\" [validations]=\\\"studyValidations\\\"></mtbls-person>\\n\\t\\t\\t</span>\\n\\t\\t\\t<mtbls-person [value]=\\\"null\\\" [validations]=\\\"studyValidations\\\"></mtbls-person>\\n\\t\\t</h6>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input, Inject, OnChanges, SimpleChanges } from '@angular/core';\nimport { IAppState } from '../../../store';\nimport { NgRedux } from '@angular-redux/store';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport * as toastr from 'toastr';\n\n@Component({\n  selector: 'mtbls-people',\n  templateUrl: './people.component.html',\n  styleUrls: ['./people.component.css']\n})\nexport class PeopleComponent implements OnInit {\n\n\t@Input('value') people: any;\n\t@Input('validations') studyValidations: any;\n\n  \tprivate validationsId = 'people';\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { }\n\n\tngOnInit() { }\n}\n","module.exports = \"\"","module.exports = \"<span *ngIf='person == null || addNewPerson; else showPersonDetails'>\\n  <a class=\\\"button is-light is-pulled-right is-small hover-button\\\" (click)='openModal()'>+ Add person</a>\\n</span>\\n<ng-template #showPersonDetails>\\n  <span class=\\\"clickable\\\" (click)='openModal()'>\\n    {{ person.firstName }}&nbsp;{{ person.midInitials }}&nbsp;{{ person.lastName }}\\n  </span>\\n</ng-template>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <p>Are you sure you want to delete?</p>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n          <button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n            <button (click)='delete()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" *ngIf=\\\"person\\\" [ngClass]=\\\"{'is-active': isTimeLineModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <div class=\\\"timeline\\\">\\n        <header class=\\\"timeline-header\\\">\\n          <span class=\\\"tag is-small is-primary\\\">...</span>\\n        </header>\\n        <div *ngFor=\\\"let comment of person.comments\\\">\\n          <span *ngIf=\\\"comment.name == 'updates'\\\">\\n            <span *ngFor=\\\"let update of getObject(comment.value)\\\">\\n              <div class=\\\"timeline-item\\\">\\n                <div class=\\\"timeline-marker\\\"></div>\\n                <div class=\\\"timeline-content\\\">\\n                  <p>\\n                    {{ update.owner }}&emsp;<span class=\\\"tag is-small is-light\\\">{{ update.ts }}</span>\\n                  </p>\\n                </div>\\n              </div>\\n            </span>\\n          </span>\\n        </div>\\n        <div class=\\\"timeline-header\\\">\\n          <span class=\\\"tag is-small is-primary\\\">...</span>\\n        </div>\\n      </div>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='closeHistory()' class=\\\"button is-info\\\">OK</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n      \\t<table class=\\\"full-width\\\" cellspacing=\\\"0\\\">\\n      \\t\\t<tr>\\n      \\t\\t\\t<td>\\n      \\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n                <input class=\\\"no-scroll\\\" \\n                formControlName=\\\"lastName\\\"\\n                matInput>\\n                <mat-hint>{{ fieldValidation('lastName').description }}</mat-hint>\\n                <mat-error\\n                *ngIf=\\\"form.get('lastName').errors &&\\n                form.get('lastName').dirty &&\\n                form.get('lastName').errors.lastName\\\">\\n                {{ form.get('lastName').errors.lastName.error }}\\n              </mat-error>\\n            </mat-form-field>\\n          </td>\\n          <td>\\n            <mat-form-field class=\\\"full-width\\\">\\n              <input class=\\\"no-scroll\\\" \\n              formControlName=\\\"midInitials\\\"\\n              matInput>\\n              <mat-hint>{{ fieldValidation('midInitials').description }}</mat-hint>\\n              <mat-error\\n              *ngIf=\\\"form.get('midInitials').errors &&\\n              form.get('midInitials').dirty &&\\n              form.get('midInitials').errors.midInitials\\\">\\n              {{ form.get('midInitials').errors.midInitials.error }}\\n            </mat-error>\\n          </mat-form-field>\\n        </td>\\n        <td>\\n          <mat-form-field class=\\\"full-width\\\">\\n            <input class=\\\"no-scroll\\\" \\n            formControlName=\\\"firstName\\\"\\n            matInput>\\n            <mat-hint>{{ fieldValidation('firstName').description }}</mat-hint>\\n            <mat-error\\n            *ngIf=\\\"form.get('firstName').errors &&\\n            form.get('firstName').dirty &&\\n            form.get('firstName').errors.firstName\\\">\\n            {{ form.get('firstName').errors.firstName.error }}\\n          </mat-error>\\n        </mat-form-field>\\n      </td>\\n    </tr>\\n  </table>\\n  <mat-form-field class=\\\"full-width\\\">\\n    <input class=\\\"no-scroll\\\" \\n    formControlName=\\\"email\\\"\\n    matInput>\\n    <mat-hint>{{ fieldValidation('email').description }}</mat-hint>\\n    <mat-error\\n    *ngIf=\\\"form.get('email').errors &&\\n    form.get('email').dirty &&\\n    form.get('email').errors.email\\\">\\n    {{ form.get('email').errors.email.error }}\\n  </mat-error>\\n</mat-form-field>\\n\\n<table class=\\\"full-width\\\" cellspacing=\\\"0\\\">\\n  <tr>\\n   <td>\\n    <mat-form-field class=\\\"full-width\\\">\\n      <input class=\\\"no-scroll\\\" \\n      formControlName=\\\"phone\\\"\\n      matInput>\\n      <mat-hint>{{ fieldValidation('phone').description }}</mat-hint>\\n      <mat-error\\n      *ngIf=\\\"form.get('phone').errors &&\\n      form.get('phone').dirty &&\\n      form.get('phone').errors.phone\\\">\\n      {{ form.get('phone').errors.phone.error }}\\n    </mat-error>\\n  </mat-form-field>\\n</td>\\n<td>\\n  <mat-form-field class=\\\"full-width\\\">\\n    <input class=\\\"no-scroll\\\" \\n    formControlName=\\\"fax\\\"\\n    matInput>\\n    <mat-hint>{{ fieldValidation('fax').description }}</mat-hint>\\n    <mat-error\\n    *ngIf=\\\"form.get('fax').errors &&\\n    form.get('fax').dirty &&\\n    form.get('fax').errors.fax\\\">\\n    {{ form.get('fax').errors.fax.error }}\\n  </mat-error>\\n</mat-form-field>\\n</td>\\n</tr>\\n</table>\\n<mat-form-field class=\\\"full-width\\\">\\n <textarea class=\\\"no-scroll\\\" \\n formControlName=\\\"address\\\"\\n matInput\\n cdkAutosizeMinRows=\\\"1\\\"\\n cdkAutosizeMaxRows=\\\"4\\\"\\n cdkTextareaAutosize>\\n</textarea>\\n<mat-hint>{{ fieldValidation('address').description }}</mat-hint>\\n<mat-error\\n*ngIf=\\\"form.get('address').errors &&\\nform.get('address').dirty &&\\nform.get('address').errors.address\\\">\\n{{ form.get('address').errors.address.error }}\\n</mat-error>\\n</mat-form-field>\\n<mat-form-field class=\\\"full-width\\\">\\n <input class=\\\"no-scroll\\\" \\n formControlName=\\\"affiliation\\\"\\n matInput>\\n <mat-hint>{{ fieldValidation('affiliation').description }}</mat-hint>\\n <mat-error\\n *ngIf=\\\"form.get('affiliation').errors &&\\n form.get('affiliation').dirty &&\\n form.get('affiliation').errors.affiliation\\\">\\n {{ form.get('affiliation').errors.affiliation.error }}\\n</mat-error>\\n</mat-form-field>\\n<mtbls-ontology class=\\\"mt-20\\\" #personRoles [validations]=\\\"fieldValidation('roles')\\\" (changed)=\\\"onChanges($event)\\\" [values]='person.roles' [inline]=\\\"true\\\"></mtbls-ontology>\\n<!-- <span class=\\\"full-width mat-form-field-infix\\\" (click)=\\\"toogleShowAdvanced()\\\">\\n  <small>\\n    <a>\\n      <mat-icon *ngIf=\\\"!showAdvanced; else downIcon\\\">\\n        arrow_right\\n      </mat-icon>\\n      <ng-template #downIcon>\\n        <mat-icon>arrow_drop_down</mat-icon>\\n      </ng-template>\\n      Advanced\\n    </a>\\n  </small>\\n</span>\\n<span *ngIf=\\\"showAdvanced\\\" [@enterAnimation]>\\n  <mat-form-field class=\\\"full-width\\\">\\n    <textarea class=\\\"no-scroll\\\" \\n    formControlName=\\\"comment\\\"\\n    matInput\\n    cdkAutosizeMinRows=\\\"1\\\"\\n    placeholder=\\\"comment\\\" \\n    cdkAutosizeMaxRows=\\\"4\\\"\\n    cdkTextareaAutosize>\\n  </textarea>\\n</mat-form-field>\\n</span> -->\\n</section>\\n<footer class=\\\"modal-card-foot\\\">\\n  <div class=\\\"columns is-gapless full-width\\\">\\n    <div class=\\\"column is-half\\\">\\n      <button *ngIf=\\\"!addNewPerson\\\" class=\\\"button is-danger is-pulled-left\\\" (click)=\\\"confirmDelete()\\\"><mat-icon>delete_outline</mat-icon></button>\\n      <!-- <button class=\\\"button is-light is-pulled-left\\\" (click)='showHistory()' ><mat-icon>history</mat-icon></button> -->\\n    </div>\\n    <div class=\\\"column is-half has-text-right\\\">\\n      <button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n        <mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n        Save\\n      </button>\\n      <button *ngIf=\\\"form.pristine\\\" (click)='closeModal()' class=\\\"button is-info\\\">OK</button>\\n      <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>Cancel</button>\\n    </div>\\n  </div>\\n</footer>\\n</div>\\n</form>\\n</div>\"","import { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { Component, OnInit, Input, Inject, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\nimport { MTBLSComment } from './../../../../models/mtbl/mtbls/common/mtbls-comment';\nimport { Ontology } from './../../../../models/mtbl/mtbls/common/mtbls-ontology';\nimport { MTBLSPerson } from './../../../../models/mtbl/mtbls/mtbls-person';\nimport { trigger, style, animate, transition } from '@angular/animations';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { ValidateRules } from './person.validator';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from '../../../../store';\nimport { tassign } from 'tassign'; \nimport * as toastr from 'toastr';\n\nimport {JsonConvert, OperationMode, ValueCheckingMode} from \"json2typescript\"\n\nimport { OntologyComponent } from './../../ontology/ontology.component';\n\n@Component({\n\tselector: 'mtbls-person',\n\ttemplateUrl: './person.component.html',\n\tstyleUrls: ['./person.component.css'],\n\tanimations: [\n\ttrigger(\n\t\t'enterAnimation', [\n\t\ttransition(':enter', [\n\t\t\tstyle({transform: 'translateX(100%)', opacity: 0}),\n\t\t\tanimate('500ms', style({transform: 'translateX(0)', opacity: 1}))\n\t\t\t]),\n\t\ttransition(':leave', [\n\t\t\tstyle({transform: 'translateX(0)', opacity: 1}),\n\t\t\tanimate('500ms', style({transform: 'translateX(100%)', opacity: 0}))\n\t\t\t])\n\t\t]\n\t\t)\n\t]\n})\nexport class PersonComponent implements OnInit {\n\n\t@Input('value') person: MTBLSPerson;\n\t@Input('validations') studyValidations: any;\n\n\t@ViewChild(OntologyComponent) rolesComponent: OntologyComponent;\n\n\tform: FormGroup;\n\tshowAdvanced: boolean = false;\n\tisFormBusy: boolean = false;\n\tisModalOpen: boolean = false;\n\taddNewPerson: boolean = false;\n\tisTimeLineModalOpen: boolean = false;\n\tinitialEmail: string = '';\n\tisDeleteModalOpen: boolean = false;\n\n\toptions: string[] = ['One', 'Two', 'Three'];\n\n\tprivate validationsId = 'people.person';\n\t\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { }\n\n\tngOnInit() { \n\t\tif (this.person == null){\n\t\t\tthis.addNewPerson = true\n\t\t}\n\t}\n\n\tinitialiseForm() {\n\t\tthis.isFormBusy = false;\n\n\t\tif(this.person == null){\n\t\t\tlet mtblsPerson = new MTBLSPerson();\n\t\t\tthis.person = mtblsPerson\n\t\t}\n\n\t\tthis.form = this.fb.group({\n\t\t\tlastName:  [ this.person.lastName, ValidateRules('lastName', this.fieldValidation('lastName'))],\n\t\t\tfirstName:  [ this.person.firstName, ValidateRules('firstName', this.fieldValidation('firstName'))],\n\t\t\tmidInitials:  [ this.person.midInitials, ValidateRules('midInitials', this.fieldValidation('midInitials'))],\n\t\t\temail:  [ this.person.email, ValidateRules('email', this.fieldValidation('email'))],\n\t\t\tphone:  [ this.person.phone, ValidateRules('phone', this.fieldValidation('phone'))],\n\t\t\tfax:  [ this.person.fax, ValidateRules('fax', this.fieldValidation('fax'))],\n\t\t\taddress:  [ this.person.address, ValidateRules('address', this.fieldValidation('address'))],\n\t\t\taffiliation:  [ this.person.affiliation, ValidateRules('affiliation', this.fieldValidation('affiliation'))],\n\t\t\tcomment:  [ ]\n\t\t});\n\t}\n\n\tshowHistory(){\n\t\tthis.isModalOpen = false\n\t\tthis.isTimeLineModalOpen = true\n\t}\n\n\tcloseHistory(){\n\t\tthis.isTimeLineModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\topenModal() {\n\t\tthis.initialiseForm();\n\t\tthis.isModalOpen = true\n\t}\n\n\ttoogleShowAdvanced() {\n\t\tthis.showAdvanced = !this.showAdvanced;\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n\tconfirmDelete(){\n\t\tthis.isModalOpen = false\n\t\tthis.isDeleteModalOpen = true\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\tdelete() {\n\t\tthis.metabolightsService.deletePerson(this.person.email).subscribe( res => {\n\t\t\tthis.updateContacts(res, 'Person deleted.')\n\t\t\tthis.isDeleteModalOpen = false\n\t\t\tthis.isModalOpen = false\n\t\t}, err => {\n\t\t\tthis.isFormBusy = false\n\t\t});\n\t}\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.studyValidations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.studyValidations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n\tsave() {\n\t\tthis.isFormBusy = true;\n\t\tif(!this.addNewPerson){\n\t\t\tthis.metabolightsService.updatePerson(this.person.email, this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateContacts(res, \"Person updated\")\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}else{\n\t\t\tthis.metabolightsService.savePerson(this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateContacts(res, \"Person saved\")\n\t\t\t\tthis.closeModal();\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}\n\t}\n\n\tupdateContacts(res, message){\n\t\tthis.metabolightsService.getPeople().subscribe( res => {\n\t\t\tthis.ngRedux.dispatch({ type: 'UPDATE_STUDY_PEOPLE', body: {\n\t\t\t\t'people': res.contacts\n\t\t\t}})\n\t\t})\n\n\t\tthis.form.markAsPristine()\n\t\tthis.initialiseForm();\n\t\tthis.isModalOpen = true;\n\n\t\ttoastr.success(message, \"Success\", {\n\t\t\t\"timeOut\": \"2500\",\n\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\"preventDuplicates\": true,\n\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\"tapToDismiss\": false\n\t\t});\n\t}\n\n\tonChanges(){\n\t\tthis.form.markAsDirty();\n\t}\n\n\tgetObject(data){\n\t\treturn JSON.parse(data)\n\t}\n\n\tcompileBody() {\n\t\tlet jsonConvert: JsonConvert = new JsonConvert();\n\t\tlet mtblPerson = new MTBLSPerson();\n\t\tmtblPerson.lastName = this.getFieldValue('lastName');\n\t\tmtblPerson.firstName = this.getFieldValue('firstName');\n\t\tmtblPerson.midInitials = this.getFieldValue('midInitials');\n\t\tmtblPerson.email = this.getFieldValue('email');\n\t\tmtblPerson.phone = this.getFieldValue('phone');\n\t\tmtblPerson.fax = this.getFieldValue('fax');\n\t\tmtblPerson.address = this.getFieldValue('address');\n\t\tmtblPerson.affiliation = this.getFieldValue('affiliation');\n\n\t\t// let hasUpdates = false\n\t\t// var dt = (new Date()).toLocaleString();\n\t\t// let currentUpdate = { \"ts\" : dt, \"owner\" : \"metabolights-user\", \"value\": \"changes\" }\n\n\t\t// let currentValues = []; \n\t\t// let comments = this.person.comments\n\t\t// comments.forEach( comment => {\n\t\t// \tif(comment['name'] == 'updates'){\n\t\t// \t\thasUpdates = true\n\t\t// \t\tcurrentValues = JSON.parse(comment['value'])\n\t\t// \t\tcurrentValues.push(currentUpdate)\n\t\t// \t}\n\t\t// })\n\n\t\t// let newComment = new MTBLSComment()\n\t\t// newComment.name = 'updates'\n\t\t// if(!hasUpdates){\n\t\t// \tcurrentValues.push(currentUpdate)\n\t\t// }\n\t\t// newComment.value = currentValues\n\n\t\t// mtblPerson.comments.push(newComment)\n\n\t\tthis.rolesComponent.values.forEach( role => {\n\t\t\tmtblPerson.roles.push(jsonConvert.deserialize(role, Ontology))\n\t\t})\n\n\t\treturn { \"contact\" : mtblPerson.toJSON()}\n\t}\n\n\tgetFieldValue(name){\n\t\treturn this.form.get(name).value;\n\t}\n\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport function ValidateRules(field:string, validation: any): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n\n    \tlet value = control.value;\n    \tlet invalid = false;\n    \tlet errorMessage = \"\";\n\n    \tvalidation.rules.forEach( rule => {\n\n    \t\tswitch(rule.condition) { \n\t\t\t   case \"min\": { \n\t\t\t      if (value.toString().length < rule.value && JSON.parse(validation['is-required'])){\n\t\t\t      \tinvalid = true\n\t\t\t      \terrorMessage = errorMessage + rule.error\n\t\t\t      }\n\t\t\t      break; \n\t\t\t   };\n               case \"pattern\": { \n                    let re = new RegExp(rule.value, \"i\");\n                    if(!re.test(value)){\n                        invalid = true\n                        errorMessage = errorMessage + rule.error\n                    }\n                    break;\n                };\n\t\t\t} \n    \t\t\n    \t})\n\n        if (invalid) {\n            return { [field]: { 'error': errorMessage} };\n        }\n        return null;\n    };\n}","module.exports = \".card-footer {\\n    padding: 10px 20px;\\n}\"","module.exports = \"<span *ngIf='protocol == null || addNewProtocol; else showProtocolDetails'>\\n  <a class=\\\"button is-primary is-pulled-right is-small\\\" (click)='openModal()'>+ Add New Protocol</a>\\n</span>\\n<br>\\n<ng-template #showProtocolDetails>\\n<div class=\\\"card\\\">\\n  <header class=\\\"card-heading hover-highlight\\\">\\n    <span>\\n      <p class=\\\"is-pulled-left\\\">\\n        {{ protocol.name }}\\n      </p>\\n      <a class=\\\"button is-light is-pulled-right is-small hover-button\\\" (click)='openModal()'><mat-icon>edit</mat-icon> Edit Protocol</a>\\n    </span>\\n  </header>\\n  <div class=\\\"card-content\\\">\\n    <div class=\\\"content\\\">\\n      <mtbls-content [count]=\\\"500\\\" [message]=\\\"'Protocol description not found.'\\\" [value]=\\\"protocol.description\\\"></mtbls-content>\\n    </div>\\n  </div>\\n  <footer *ngIf=\\\"protocol.parameters.length > 0 && protocol.parameters[0].parameterName.annotationValue != ''\\\" class=\\\"card-footer\\\">\\n    <span>\\n      <div id=\\\"meta\\\" class=\\\"field is-grouped is-grouped-multiline\\\">\\n        <div *ngFor=\\\"let parameter of protocol.parameters\\\">\\n          <div *ngIf=\\\"parameter.parameterName.annotationValue != ''\\\" class=\\\"control\\\">\\n            <div class=\\\"tags is-info has-addons\\\">\\n              <span class=\\\"tag\\\">{{ parameter.parameterName.annotationValue }}</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </span>\\n  </footer>\\n</div>\\n<br>\\n</ng-template>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <p>Are you sure you want to delete?</p>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n          <button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='delete()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card vw80\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n          <div class=\\\"field is-horizontal\\\">\\n            <div class=\\\"field-body\\\">\\n              <div class=\\\"field\\\">\\n                <div class=\\\"control\\\">\\n                  <mat-form-field class=\\\"full-width\\\">\\n                        <textarea class=\\\"no-scroll\\\" \\n                        formControlName=\\\"name\\\"\\n                        [placeholder]=\\\"fieldValidation('name').placeholder\\\" \\n                        matInput\\n                        cdkAutosizeMinRows=\\\"1\\\"\\n                        cdkAutosizeMaxRows=\\\"4\\\"\\n                        cdkTextareaAutosize>\\n                      </textarea>\\n                      <mat-hint>{{ fieldValidation('name').description }}</mat-hint>\\n                      <mat-error\\n                      *ngIf=\\\"form.get('name').errors &&\\n                      form.get('name').dirty &&\\n                      form.get('name').errors.name\\\">\\n                      {{ form.get('name').errors.name.error }}\\n                    </mat-error>\\n                  </mat-form-field>\\n                  <div>&nbsp;</div>\\n                  <span *ngIf=\\\"form.get('description')\\\">\\n                  <!-- <mat-form-field class=\\\"full-width\\\"> -->\\n                   <ngx-wig\\n                   formControlName=\\\"description\\\"\\n                   [placeholder]=\\\"fieldValidation('description').placeholder\\\" \\n                   >\\n                   </ngx-wig>\\n                    <!-- <textarea class=\\\"no-scroll\\\" \\n                    formControlName=\\\"description\\\"\\n                    [placeholder]=\\\"fieldValidation('description').placeholder\\\" \\n                    matInput\\n                    cdkAutosizeMinRows=\\\"12\\\"\\n                    cdkAutosizeMaxRows=\\\"12\\\"\\n                    cdkTextareaAutosize>\\n                    </textarea> -->\\n                    <mat-hint>{{ fieldValidation('description').description }}</mat-hint>\\n                    <mat-error\\n                    *ngIf=\\\"form.get('description').errors &&\\n                    form.get('description').dirty &&\\n                    form.get('description').errors.description\\\">\\n                    {{ form.get('description').errors.description.error }}\\n                    </mat-error> \\n                    </span>\\n                   <!-- </mat-form-field> -->\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n      </section>\\n      <footer class=\\\"modal-card-foot buttons is-right\\\">\\n        <div class=\\\"columns is-gapless full-width\\\">\\n          <div class=\\\"column is-half\\\">\\n            <button *ngIf=\\\"!addNewProtocol && !required\\\" class=\\\"button is-danger is-pulled-left\\\" (click)=\\\"confirmDelete()\\\"><mat-icon>delete_outline</mat-icon></button>\\n          </div>\\n          <div class=\\\"column is-half has-text-right\\\">\\n            <button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n              <mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n              Save\\n            </button>\\n            <button *ngIf=\\\"form.pristine\\\" (click)='closeModal()' class=\\\"button is-info\\\">OK</button>\\n            <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>Cancel</button>\\n          </div>\\n        </div>\\n      </footer>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { MTBLSProtocol } from './../../../../models/mtbl/mtbls/mtbls-protocol';\nimport { Ontology } from './../../../../models/mtbl/mtbls/common/mtbls-ontology';\n\nimport { IAppState } from '../../../../store';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { ValidateRules } from './protocol.validator';\nimport * as toastr from 'toastr';\n\n@Component({\n\tselector: 'mtbls-protocol',\n\ttemplateUrl: './protocol.component.html',\n\tstyleUrls: ['./protocol.component.css']\n})\nexport class ProtocolComponent implements OnInit {\n\n\t@Input('value') protocol: any;\n\t@Input('required') required: boolean = false;\n\t@Input('validations') validations: any;\n\n\tisModalOpen: boolean = false;\n\tisDeleteModalOpen: boolean = false;\n\tisFormBusy: boolean = false;\n\n\taddNewProtocol: boolean = false;\n\n\tform: FormGroup;\n\n\tprivate validationsId = 'protocols.protocol';\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n    }\n\n\tngOnInit() {\n\t\tif (this.protocol == null){\n\t\t\tthis.addNewProtocol = true\n\t\t}\n\t}\n\n\tconfirmDelete(){\n\t\tthis.isModalOpen = false\n\t\tthis.isDeleteModalOpen = true\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\topenModal() {\n\t\tthis.initialiseForm()\n\t\tthis.isModalOpen = true\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n\n\tinitialiseForm() {\n      this.isFormBusy = false;\n\n      if(this.protocol == null){\n\t\t\tlet mtblsProtocol = new MTBLSProtocol();\n\t\t\tthis.protocol = mtblsProtocol\n\t  }\n\n      this.form = this.fb.group({\n      \tname:  [ {value: this.protocol.name, disabled: this.required}, ValidateRules('name', this.fieldValidation('name'))],\n      \tdescription:  [ this.protocol.description, ValidateRules('description', this.fieldValidation('description'))]\n      });\n    }\n\t\n\tsave() {\n\t\tthis.isFormBusy = true;\n\t\tif(!this.addNewProtocol){\n\t\t\tthis.metabolightsService.updateProtocol(this.protocol.name, this.compileBody()).subscribe( res => {\n\t\t\t\tthis.form.removeControl('description')\n\t\t\t\tthis.updateProtocols(res, 'Protocol updated.')\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}else{\n\t\t\tthis.metabolightsService.saveProtocol(this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updateProtocols(res, 'Protocol saved.')\n\t\t\t\tthis.form.removeControl('description')\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}\n\t}\n\n\tdelete() {\n\t\tif(!this.required){\n\t\t\tthis.metabolightsService.deleteProtocol(this.protocol.name).subscribe( res => {\n\t\t\t\t\tthis.updateProtocols(res, 'Protocol deleted.')\n\t\t\t\t\tthis.form.removeControl('description')\n\t\t\t\t\tthis.isDeleteModalOpen = false\n\t\t\t\t\tthis.isModalOpen = false\n\t\t\t\t}, err => {\n\t\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}else{\n\t\t\ttoastr.error( \"Cannot delete a default protocol\", \"Error\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t});\n\t\t}\n\t\t\n\t}\n\n\tupdateProtocols(data, message){\n\t\tthis.metabolightsService.getProtocols().subscribe( res => {\n\t\t\tthis.form.reset()\n\t\t\tthis.ngRedux.dispatch({ type: 'UPDATE_STUDY_PROTOCOLS', body: {\n\t\t\t\t'protocols': res.protocols\n\t\t\t}})\n\t\t})\n\n\t\tthis.form.markAsPristine()\n\t\tthis.initialiseForm();\n\t\tthis.isModalOpen = true;\n\n\t\ttoastr.success( message, \"Success\", {\n\t\t\t\"timeOut\": \"2500\",\n\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\"preventDuplicates\": true,\n\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\"tapToDismiss\": false\n\t\t});\n\t}\n\n\tcompileBody() {\n\t\tlet mtblProtocol = new MTBLSProtocol();\n\t\tmtblProtocol.name = this.getFieldValue('name');\n\t\tmtblProtocol.description = this.getFieldValue('description');\n\t\tmtblProtocol.protocolType = new Ontology()\n\t\tmtblProtocol.protocolType.annotationValue = this.getFieldValue('name');\n\t\treturn { \"protocol\" : mtblProtocol.toJSON()}\n\t}\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.validations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.validations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n\tgetFieldValue(name){\n\t\treturn this.form.get(name).value;\n\t}\n\n\tsetFieldValue(name, value){\n\t\treturn this.form.get(name).setValue(value);\n\t}\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport function ValidateRules(field:string, validation: any): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n\n    \tlet value = control.value;\n    \tlet invalid = false;\n    \tlet errorMessage = \"\";\n\n    \tvalidation.rules.forEach( rule => {\n            if(value!= null){\n    \t\t    switch(rule.condition) { \n                    case \"min\": { \n                        if (value.toString().length < rule.value && JSON.parse(validation['is-required'])){\n                            invalid = true\n                            errorMessage = errorMessage + rule.error\n                        }\n                        break;\n                    };\n                    case \"pattern\": { \n                        let re = new RegExp(rule.value, \"i\");\n                        if(!re.test(value)){\n                            invalid = true\n                            errorMessage = errorMessage + rule.error\n                        }\n                        break;\n                    };\n                } \n            }\n\n        })\n\n        if (invalid) {\n            return { [field]: { 'error': errorMessage} };\n        }\n        return null;\n    };\n}","module.exports = \".mb10{\\n\\tmargin-bottom: 10px;\\n}\\n\\n.mt5{\\n\\tmargin-top: 5px;\\n}\"","module.exports = \"<div>\\n\\t<div class=\\\"mtbls-section\\\">\\n\\t\\t<h6 class=\\\"mb10\\\">\\n\\t\\t\\t<mtbls-protocol [value]=\\\"null\\\" [validations]=\\\"validations\\\"></mtbls-protocol>\\n\\t\\t</h6>\\n\\t</div>\\n</div>\\n\\n<div *ngFor=\\\"let protocol of defaultProtocols\\\">\\n\\t<span *ngIf=\\\"getProtocol(protocol) != null\\\">\\n\\t\\t<mtbls-protocol [value]=\\\"getProtocol(protocol)\\\" [required]=\\\"true\\\" [validations]=\\\"validations\\\"></mtbls-protocol>\\n\\t</span>\\n</div>\\n\\n<div *ngFor=\\\"let protocol of customProtocols\\\">\\n\\t<span *ngIf=\\\"getProtocol(protocol) != null\\\">\\n\\t\\t<mtbls-protocol [value]=\\\"getProtocol(protocol)\\\" [validations]=\\\"validations\\\"></mtbls-protocol>\\n\\t</span>\\n</div>\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\n\n@Component({\n\tselector: 'mtbls-protocols',\n\ttemplateUrl: './protocols.component.html',\n\tstyleUrls: ['./protocols.component.css']\n})\nexport class ProtocolsComponent implements OnInit {\n\n\t@select(state => state.study.protocols) studyProtocols;\n\t@Input('validations') validations: any;\n\tprotocols: any[] = [];\n\tcustomProtocols: string[] = []\n\tdefaultProtocols: string[] = []\n\n\tprivate validationsId = 'protocols';\n\n\tconstructor() { }\n\t\n\tngOnInit() {\n\t\tthis.studyProtocols.subscribe(value => { \n\t\t\tthis.customProtocols = []\n\t\t\tthis.defaultProtocols = []\n\t\t\tthis.protocols = value;\n\t\t\tthis.validation.default.sort(function(a, b){\n\t\t\t    return a['sort-order']-b['sort-order']\n\t\t\t})\n\t\t\tthis.defaultProtocols = this.validation.default.map( protocol => protocol.title)\n\t\t\tvalue.forEach( p => {\n\t\t\t\tif (this.defaultProtocols.indexOf(p.name) < 0){\n\t\t\t\t\tthis.customProtocols.push(p.name)\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t}\n\n\tgetProtocol(name){\n\t\tlet selectedProtocol = null;\n\t\tthis.protocols.forEach(p => {\n\t\t\tif (p.name == name){\n\t\t\t\tselectedProtocol = p\n\t\t\t}\n\t\t})\n\t\treturn selectedProtocol;\n\t}\n\n\tget validation() {\n\t\treturn this.validations[this.validationsId];\n\t}\n}\n","module.exports = \".publication-title{\\n\\tmin-height: 3.5em;\\n\\tfont-size: 1em;\\n\\tline-height: 1.55em;\\n}\\n\\n.publication-authors{\\n    min-height: 2.6em;\\n}\\n\\n.custom-button{\\n\\tfloat: right;\\n    right: 0;\\n    height: 30px;\\n    background-color: transparent !important;\\n    border-color: transparent;\\n    margin-right: -8px;\\n}\\n\\n.box {\\n    padding: 1.2rem 1.9rem 1.2rem 1.2rem;\\n}\\n\\n.mat-icon {\\n    height: 1em; \\n}\\n\\na {\\n    color: #000;\\n    cursor: pointer;\\n    text-decoration: none;\\n}\\n\\na:hover {\\n    color: #3273dc;\\n    cursor: pointer;\\n    text-decoration: none;\\n}\"","module.exports = \"<span *ngIf='publication == null || addNewPublication; else showPublicationDetails'>\\n\\t<a class=\\\"button is-light is-pulled-right is-small hover-button\\\" (click)='openModal()'>+ Add Publication</a>\\n</span>\\n<ng-template #showPublicationDetails>\\n\\t<a class=\\\"button is-small custom-button hover-button\\\" (click)='openModal()'>\\n\\t\\t<mat-icon>edit</mat-icon>\\n\\t</a>\\n\\t<div>\\n\\t\\t<article class=\\\"tile is-child box\\\">\\n\\t\\t\\t<div class=\\\"content\\\">\\n\\t\\t\\t\\t<h4 class=\\\"publication-title\\\">\\n\\t\\t\\t\\t\\t<b>\\n\\t\\t\\t\\t\\t\\t<a [href]=\\\"'//dx.doi.org/' + publication.doi\\\" target=\\\"_blank\\\">{{ publication.title | slice : 0 : 90 }}<span *ngIf=\\\"publication.title.length > 90\\\">...</span>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t</b>\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<h6 class=\\\"publication-authors\\\">\\n\\t\\t\\t\\t\\t<small>\\n\\t\\t\\t\\t\\t\\t<mat-icon>people</mat-icon> {{ publication.authorList | slice : 0 : 60 }}<span *ngIf=\\\"publication.authorList.length > 60\\\">...</span>\\n\\t\\t\\t\\t\\t</small>\\n\\t\\t\\t\\t</h6>\\n\\t\\t\\t</div>\\n\\t\\t</article>\\n\\t</div>\\n</ng-template>\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isTimeLineModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<div class=\\\"timeline\\\">\\n\\t\\t\\t\\t<div class=\\\"timeline-item\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"timeline-marker\\\"></div>\\n\\t\\t\\t\\t\\t<div class=\\\"timeline-content\\\">\\n\\t\\t\\t\\t\\t\\t<p class=\\\"heading\\\">January 2016</p>\\n\\t\\t\\t\\t\\t\\t<p>Timeline content - Can include any HTML element</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"timeline-item\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"timeline-marker is-image is-32x32\\\">\\n\\t\\t\\t\\t\\t\\t<img src=\\\"http://bulma.io/images/placeholders/32x32.png\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"timeline-content\\\">\\n\\t\\t\\t\\t\\t\\t<p class=\\\"heading\\\">February 2016</p>\\n\\t\\t\\t\\t\\t\\t<p>Timeline content - Can include any HTML element</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<header class=\\\"timeline-header\\\">\\n\\t\\t\\t\\t\\t<span class=\\\"tag is-primary\\\">2017</span>\\n\\t\\t\\t\\t</header>\\n\\t\\t\\t\\t<div class=\\\"timeline-item\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"timeline-marker is-icon\\\">\\n\\t\\t\\t\\t\\t\\t<i class=\\\"fa fa-flag\\\"></i>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"timeline-content\\\">\\n\\t\\t\\t\\t\\t\\t<p class=\\\"heading\\\">March 2017</p>\\n\\t\\t\\t\\t\\t\\t<p>Timeline content - Can include any HTML element</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeHistory()' class=\\\"button is-info\\\">OK</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<p>Are you sure you want to delete?</p>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='delete()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isUpdateTitleModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<p>Are you sure you want to set publication title to be the study title?</p>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeUpdateTitleModal()' class=\\\"button\\\">Cancel</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='updateStudyTitle()' class=\\\"button is-success\\\">OK</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isUpdateAbstractModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<p>Are you sure you want to set publication abstract to be the study abstract?</p>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot\\\">\\n\\t\\t\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t\\t\\t<div class=\\\"column is-half\\\">\\n\\t\\t\\t\\t\\t<button (click)='closeUpdateTitleModal()' class=\\\"button\\\">Cancel</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"column is-half has-text-right\\\">\\n\\t\\t\\t\\t\\t<button (click)='updateStudyAbstract()' class=\\\"button is-success\\\">OK</button>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n\\t<form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n\\t\\t<div class=\\\"modal-background\\\"></div>\\n\\t\\t<div class=\\\"modal-card vw80\\\">\\n\\t\\t\\t<div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t\\t<div class=\\\"bar\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t\\t\\t<textarea class=\\\"no-scroll\\\" \\n\\t\\t\\t\\t\\tformControlName=\\\"title\\\"\\n\\t\\t\\t\\t\\tmatInput\\n\\t\\t\\t\\t\\t[tabIndex]=\\\"1\\\"\\n\\t\\t\\t\\t\\tcdkAutosizeMinRows=\\\"3\\\"\\n\\t\\t\\t\\t\\tcdkAutosizeMaxRows=\\\"3\\\"\\n\\t\\t\\t\\t\\tcdkTextareaAutosize>\\n\\t\\t\\t\\t</textarea>\\n\\t\\t\\t\\t<mat-hint>{{ fieldValidation('title').description }}</mat-hint>\\n\\t\\t\\t\\t<mat-error\\n\\t\\t\\t\\t*ngIf=\\\"form.get('title').errors &&\\n\\t\\t\\t\\tform.get('title').dirty &&\\n\\t\\t\\t\\tform.get('title').errors.title\\\">\\n\\t\\t\\t\\t{{ form.get('title').errors.title.error }}\\n\\t\\t\\t</mat-error>\\n\\t\\t</mat-form-field>\\n\\t\\t<mat-form-field class=\\\"full-width\\\">\\n\\t\\t\\t<textarea class=\\\"no-scroll\\\" \\n\\t\\t\\tformControlName=\\\"authorList\\\"\\n\\t\\t\\tmatInput\\n\\t\\t\\t[tabIndex]=\\\"2\\\"\\n\\t\\t\\tcdkAutosizeMinRows=\\\"1\\\"\\n\\t\\t\\tcdkAutosizeMaxRows=\\\"4\\\"\\n\\t\\t\\tcdkTextareaAutosize>\\n\\t\\t</textarea>\\n\\t\\t<mat-hint>{{ fieldValidation('authorList').description }}</mat-hint>\\n\\t\\t<mat-error\\n\\t\\t*ngIf=\\\"form.get('authorList').errors &&\\n\\t\\tform.get('authorList').dirty &&\\n\\t\\tform.get('authorList').errors.authorList\\\">\\n\\t\\t{{ form.get('authorList').authorList.title.error }}\\n\\t</mat-error>\\n</mat-form-field>\\n<mat-form-field class=\\\"full-width\\\">\\n\\t<input class=\\\"no-scroll\\\" \\n\\tformControlName=\\\"doi\\\"\\n\\t[tabIndex]=\\\"3\\\"\\n\\t(blur)=\\\"getArticleFromDOI()\\\"\\n\\tmatInput>\\n\\t<mat-hint>{{ fieldValidation('doi').description }}</mat-hint>\\n\\t<mat-error\\n\\t*ngIf=\\\"form.get('doi').errors &&\\n\\tform.get('doi').dirty &&\\n\\tform.get('doi').errors.doi\\\">\\n\\t{{ form.get('doi').errors.doi.error }}\\n</mat-error>\\n</mat-form-field>\\n<mat-form-field class=\\\"full-width\\\">\\n\\t<input class=\\\"no-scroll\\\" \\n\\t[tabIndex]=\\\"4\\\"\\n\\tformControlName=\\\"pubMedID\\\"\\n\\t(blur)=\\\"getArticleFromPubMedID()\\\"\\n\\tmatInput>\\n\\t<mat-hint>{{ fieldValidation('pubMedID').description }}</mat-hint>\\n\\t<mat-error\\n\\t*ngIf=\\\"form.get('pubMedID').errors &&\\n\\tform.get('pubMedID').dirty &&\\n\\tform.get('pubMedID').errors.pubMedID\\\">\\n\\t{{ form.get('pubMedID').errors.pubMedID.error }}\\n</mat-error>\\n</mat-form-field>\\n<mtbls-ontology class=\\\"mt-20\\\" #publicationStatus [validations]=\\\"fieldValidation('status')\\\" (changed)=\\\"onChanges($event)\\\" [values]='[publication.status]' [inline]=\\\"true\\\"></mtbls-ontology>\\n<div class=\\\"control\\\" *ngIf=\\\"publicationAbstract != ''\\\">\\n\\t<br>\\n\\t<label><small><b>Publication abstract</b></small></label><br>\\n\\t<p>\\n\\t<small>{{ publicationAbstract }}</small>\\n\\t</p>\\n</div>\\n</section>\\n<footer class=\\\"modal-card-foot\\\">\\n\\t<div class=\\\"columns is-gapless full-width\\\">\\n\\t\\t<div class=\\\"column is-two-third\\\">\\n\\t\\t\\t<button *ngIf=\\\"!addNewPublication\\\" [tabIndex]=\\\"-1\\\" class=\\\"button is-danger is-pulled-left\\\" (click)=\\\"confirmDelete()\\\"><mat-icon>delete_outline</mat-icon></button>\\n\\t\\t\\t<!-- <button class=\\\"button is-light is-pulled-left\\\" (click)='showHistory()' ><mat-icon>history</mat-icon></button> -->\\n\\t\\t\\t<button *ngIf=\\\"!addNewPublication\\\" [tabIndex]=\\\"-1\\\" class=\\\"button is-light is-pulled-left\\\" (click)='confirmTitleUpdate()'><small>Update title</small></button>\\n\\t\\t\\t<button *ngIf=\\\"!addNewPublication\\\" [tabIndex]=\\\"-1\\\" class=\\\"button is-light is-pulled-left\\\" (click)='confirmAbstractUpdate()'><small>Update abstract</small></button>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"column is-one-third has-text-right\\\">\\n\\t\\t\\t<button *ngIf=\\\"!form.pristine\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n\\t\\t\\t\\t<mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n\\t\\t\\t\\tSave\\n\\t\\t\\t</button>\\n\\t\\t\\t<button *ngIf=\\\"form.pristine\\\" (click)='closeModal()' [tabIndex]=\\\"6\\\" class=\\\"button is-info\\\">OK</button>\\n\\t\\t\\t<button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" [tabIndex]=\\\"7\\\" (click)='closeModal()'>Cancel</button>\\n\\t\\t</div>\\n\\t</div>\\n</footer>\\n</div>\\n</form>\\n</div>\"","import { MetabolightsService } from '../../../../services/metabolights/metabolights.service';\nimport { DOIService } from '../../../../services/publications/doi.service';\nimport { EuropePMCService } from '../../../../services/publications/europePMC.service';\nimport { Component, OnInit, Input, Inject, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\nimport { MTBLSComment } from './../../../../models/mtbl/mtbls/common/mtbls-comment';\nimport { Ontology } from './../../../../models/mtbl/mtbls/common/mtbls-ontology';\nimport { MTBLSPublication } from './../../../../models/mtbl/mtbls/mtbls-publication';\nimport { trigger, style, animate, transition } from '@angular/animations';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { ValidateRules } from './publication.validator';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from '../../../../store';\nimport { OntologyComponent } from './../../ontology/ontology.component';\nimport { JsonConvert, OperationMode, ValueCheckingMode } from \"json2typescript\";\nimport * as toastr from 'toastr';\n\n@Component({\n\tselector: 'mtbls-publication',\n\ttemplateUrl: './publication.component.html',\n\tstyleUrls: ['./publication.component.css']\n})\nexport class PublicationComponent implements OnInit {\n\n\t@Input('value') publication: any;\n\t@Input('validations') studyValidations: any;\n\n\t@ViewChild(OntologyComponent) statusComponent: OntologyComponent;\n\n\tform: FormGroup;\n\tisFormBusy: boolean = false;\n\taddNewPublication: boolean = false;\n\n\tprivate validationsId = 'publications.publication';\n\n\tisModalOpen: boolean = false;\n\tisTimeLineModalOpen: boolean = false;\n\tisDeleteModalOpen: boolean = false;\n\tisUpdateTitleModalOpen: boolean = false;\n\tisUpdateAbstractModalOpen: boolean = false;\n\n\tpublicationAbstract: string = '';\n\n\tconstructor( private fb: FormBuilder, private doiService: DOIService, private europePMCService: EuropePMCService, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n\t}\n\n\tngOnInit() {\n\t\tif (this.publication == null){\n\t\t\tthis.addNewPublication = true\n\t\t}\n\t}\n\n\tonChanges(){\n\t\tthis.form.markAsDirty();\n\t}\n\n\tshowHistory(){\n\t\tthis.isModalOpen = false\n\t\tthis.isTimeLineModalOpen = true\n\t}\n\n\tcloseHistory(){\n\t\tthis.isTimeLineModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\topenModal() {\n\t\tthis.initialiseForm()\n\t\tthis.isModalOpen = true\n\t\tthis.publicationAbstract = '';\n\t\tthis.getAbstract()\n\t}\n\n\tconfirmDelete(){\n\t\tthis.isModalOpen = false\n\t\tthis.isDeleteModalOpen = true\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\tconfirmTitleUpdate(){\n\t\tthis.isModalOpen = false\n\t\tthis.isUpdateTitleModalOpen = true\n\t}\n\n\tconfirmAbstractUpdate(){\n\t\tthis.isModalOpen = false\n\t\tthis.isUpdateAbstractModalOpen = true\n\t}\n\n\tcloseUpdateTitleModal(){\n\t\tthis.isUpdateTitleModalOpen = false\n\t\tthis.isModalOpen = true\n\t}\n\n\tcloseUpdateAbstractModal(){\n\t\tthis.isUpdateAbstractModalOpen = false;\n\t\tthis.isModalOpen = true;\n\t}\n\n\tupdateStudyTitle(){\n\t\tthis.metabolightsService.saveTitle( { 'title': this.publication.title }).subscribe( res => {\n\t\t\tthis.ngRedux.dispatch({ type: 'SET_STUDY_TITLE', body: res})\n\t\t\ttoastr.success('Title updated.', \"Success\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t})\n\t\t\tthis.closeUpdateTitleModal();\n\t\t})\n\t}\n\n\tgetAbstract(){\n\t\tlet doi = this.getFieldValue('doi').replace('http://dx.doi.org/','')\n\t\tif(doi != ''){\n\t\t\tthis.europePMCService.getArticleInfo(doi.replace('http://dx.doi.org/','')).subscribe( article => {\n\t      \t\tif(article.doi == doi){\n\t      \t\t\tthis.publicationAbstract = article.abstract;\n\t      \t\t}\n\t      \t})\n\t\t}else{\n\t\t\tlet pubMedID = this.getFieldValue('pubMedID')\n\t\t\tif(pubMedID != ''){\n\t\t\t\tthis.europePMCService.getArticleInfo(pubMedID).subscribe( article => {\n\t\t\t\t\tthis.publicationAbstract = article.abstract;\n\t      \t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tgetArticleFromDOI() {\n\t\tthis.publicationAbstract = '';\n\t\tlet doi = this.getFieldValue('doi').replace('http://dx.doi.org/','')\n\t\tthis.setFieldValue('doi', doi);\n\t\tlet doiURL = 'http://dx.doi.org/' + doi\n\t\tif(doi != ''){\n\t\t\tthis.doiService.getArticleInfo(doiURL).subscribe( article => {\n\t\t\t\tthis.setFieldValue('title', article.title.trim());\n\t\t\t\tthis.setFieldValue('authorList', article.authorList.trim());\n\t      \t})\n\t      \tthis.europePMCService.getArticleInfo(doi.replace('http://dx.doi.org/','')).subscribe( article => {\n\t      \t\tif(article.doi == doi){\n\t      \t\t\tthis.setFieldValue('pubMedID', article.pubMedID.trim());\n\t      \t\t\tthis.publicationAbstract = article.abstract;\n\t      \t\t}\n\t      \t})\n\t\t}\n\t}\n\n\tgetArticleFromPubMedID() {\n\t\tthis.publicationAbstract = '';\n\t\tlet pubMedID = this.getFieldValue('pubMedID')\n\t\tif(pubMedID != ''){\n\t\t\tthis.europePMCService.getArticleInfo(pubMedID).subscribe( article => {\n\t      \t\tthis.setFieldValue('title', article.title.trim());\n\t\t\t\tthis.setFieldValue('authorList', article.authorList.trim());\n\t\t\t\tthis.setFieldValue('doi', article.doi.trim());\n\t\t\t\tthis.publicationAbstract = article.abstract;\n\t      \t})\n\t\t}\n\t}\n\n\tinitialiseForm() {\n\t\tthis.isFormBusy = false;\n\n\t\tif(this.publication == null){\n\t\t\tlet mtblsPublication = new MTBLSPublication();\n\t\t\tthis.publication = mtblsPublication\n\t\t}\n\n\t\tthis.form = this.fb.group({\n\t\t\tpubMedID:  [ this.publication.pubMedID, ValidateRules('pubMedID', this.fieldValidation('pubMedID'))],\n\t\t\tdoi:  [ this.publication.doi, ValidateRules('doi', this.fieldValidation('doi'))],\n\t\t\tauthorList:  [ this.publication.authorList, ValidateRules('authorList', this.fieldValidation('authorList'))],\n\t\t\ttitle:  [ this.publication.title, ValidateRules('title', this.fieldValidation('title'))]\n\t\t});\n\t}\n\n\tupdateStudyAbstract(){\n\t\tthis.metabolightsService.saveAbstract( { 'description': this.publicationAbstract }).subscribe( res => {\n\t\t\tthis.ngRedux.dispatch({ type: 'SET_STUDY_ABSTRACT', body: res})\n\t\t\ttoastr.success('Study abstract updated.', \"Success\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t})\n\t\t\tthis.closeUpdateAbstractModal();\n\t\t})\n\t}\n\n\tsave() {\n\t\tthis.isFormBusy = true;\n\t\tif(!this.addNewPublication){\n\t\t\tthis.metabolightsService.updatePublication(this.publication.title, this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updatePublications(res, 'Publication updated.')\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}else{\n\t\t\tthis.metabolightsService.savePublication(this.compileBody()).subscribe( res => {\n\t\t\t\tthis.updatePublications(res, 'Publication saved.')\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t\t});\n\t\t}\n\t}\n\n\tdelete() {\n\t\tthis.metabolightsService.deletePublication(this.publication.title).subscribe( res => {\n\t\t\t\tthis.updatePublications(res, 'Publication deleted.')\n\t\t\t\tthis.isDeleteModalOpen = false\n\t\t\t\tthis.isModalOpen = false\n\t\t\t}, err => {\n\t\t\t\tthis.isFormBusy = false\n\t\t});\n\t}\n\n\tupdatePublications(data, message){\n\t\tthis.metabolightsService.getPublications().subscribe( res => {\n\t\t\tthis.ngRedux.dispatch({ type: 'UPDATE_STUDY_PUBLICATIONS', body: {\n\t\t\t\t'publications': res.publications\n\t\t\t}})\n\t\t})\n\n\t\tthis.form.markAsPristine()\n\t\tthis.initialiseForm();\n\t\tthis.isModalOpen = true;\n\n\t\ttoastr.success( message, \"Success\", {\n\t\t\t\"timeOut\": \"2500\",\n\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\"preventDuplicates\": true,\n\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\"tapToDismiss\": false\n\t\t});\n\t}\n\n\tcompileBody() {\n\t\tlet mtblPublication = new MTBLSPublication();\n\t\tmtblPublication.title = this.getFieldValue('title');\n\t\tmtblPublication.authorList = this.getFieldValue('authorList');\n\t\tmtblPublication.doi = this.getFieldValue('doi');\n\t\tmtblPublication.pubMedID = this.getFieldValue('pubMedID');\n\t\tmtblPublication.comments = []\n\t\tlet jsonConvert: JsonConvert = new JsonConvert();\n\t\tmtblPublication.status = jsonConvert.deserialize(this.statusComponent.values[0], Ontology)\n\n\t\treturn { \"publication\" : mtblPublication.toJSON()}\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.studyValidations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.studyValidations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n\tgetFieldValue(name){\n\t\treturn this.form.get(name).value;\n\t}\n\n\tsetFieldValue(name, value){\n\t\treturn this.form.get(name).setValue(value);\n\t}\n\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport function ValidateRules(field:string, validation: any): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n\n    \tlet value = control.value;\n    \tlet invalid = false;\n    \tlet errorMessage = \"\";\n\n    \tvalidation.rules.forEach( rule => {\n\n    \t\tswitch(rule.condition) { \n                case \"min\": { \n                    if (value.toString().length < rule.value && JSON.parse(validation['is-required'])){\n                        invalid = true\n                        errorMessage = errorMessage + rule.error\n                    }\n                    break;\n                };\n                case \"pattern\": { \n                    let re = new RegExp(rule.value, \"i\");\n                    if(!re.test(value)){\n                        invalid = true\n                        errorMessage = errorMessage + rule.error\n                    }\n                    break;\n                };\n            } \n\n        })\n\n        if (invalid) {\n            return { [field]: { 'error': errorMessage} };\n        }\n        return null;\n    };\n}","module.exports = \".mb10{\\n\\tmargin-bottom: 15px;\\n}\\n\\n.mt5{\\n\\tmargin-top: 10px;\\n}\"","module.exports = \"<div class=\\\"hover-highlight px-20\\\">\\n    <div class=\\\"mtbls-section\\\">\\n\\t\\t<h6 class=\\\"mb10\\\">\\n\\t\\t\\t<a><b><small class=\\\"has-text-grey\\\">PUBLICATIONS</small></b></a>\\n\\t\\t\\t<mtbls-publication [value]=\\\"null\\\" [validations]=\\\"studyValidations\\\"></mtbls-publication>\\n\\t\\t</h6>\\n\\t\\t<div *ngIf=\\\"publications && publications.length > 0\\\" class=\\\"tile is-ancestor mt1\\\">\\n\\t\\t\\t<div class=\\\"tile is-parent column is-4\\\" *ngFor=\\\"let publication of publications; let i = index\\\">\\n\\t\\t\\t\\t<mtbls-publication [value]=\\\"publication\\\" [validations]=\\\"studyValidations\\\"></mtbls-publication>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input, Inject, OnChanges, SimpleChanges } from '@angular/core';\nimport { IAppState } from '../../../store';\nimport { NgRedux } from '@angular-redux/store';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport * as toastr from 'toastr';\n\n@Component({\n  selector: 'mtbls-publications',\n  templateUrl: './publications.component.html',\n  styleUrls: ['./publications.component.css']\n})\nexport class PublicationsComponent implements OnInit {\n\n\t@Input('value') publications: any;\n\t@Input('validations') studyValidations: any;\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { }\n\n\tngOnInit() { }\n}\n\n","module.exports = \".mat-calendar{ \\n\\tzoom:\\\"0.5\\\" \\n}\"","module.exports = \"<div class=\\\"control\\\">\\n\\t<div class=\\\"tags has-addons\\\">\\n\\t\\t<span class=\\\"tag\\\">Published</span>\\n\\t\\t<span class=\\\"tag is-success clickable\\\" (click)='openModal()'>\\n\\t\\t{{ releaseDate | date : 'MMMM d, y' }}\\n\\t\\t</span>\\n\\t</div>\\n</div>\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<mat-calendar></mat-calendar>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot buttons is-center\\\">\\n\\t\\t\\t<button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>OK</button>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input, Inject, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n\tselector: 'mtbls-release-date',\n\ttemplateUrl: './release-date.component.html',\n\tstyleUrls: ['./release-date.component.css']\n})\nexport class ReleaseDateComponent implements OnInit {\n\t@Input('value') releaseDate: string;\n\tisModalOpen: boolean = false;\n\tisFormBusy: boolean = false;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t}\n\n\topenModal() {\n\t\tthis.isModalOpen = true\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n}\n","module.exports = \"table {\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -o-user-select: none;\\n  -ms-user-select: none;\\n      user-select: none;\\n}\\n\\ntable {\\n  width: 100%;\\n}\\n\\ntable td, table th {\\n  vertical-align: middle;\\n}\\n\\nth.mat-sort-header-sorted {\\n  color: black;\\n}\\n\\nth div{\\n  display: flex;\\n}\\n\\n.mat-sort-header-arrow{\\n    margin: 0 5px 0 15px !important;\\n}\\n\\n.column-editor-card{\\n  min-width: 80vw !important;\\n  min-height: 80vh;\\n}\\n\\n.columns.is-vcentered {\\n  align-items: center;\\n}\\n\\n.columns.is-hcentered {\\n  justify-content: center;\\n  text-align: center;\\n}\\n\\n.mt20{\\n  margin-top: 20px;\\n}\\n\\n.mb0{\\n  margin-bottom: 0px;\\n}\\n\\n.tab-wrapper{\\n  min-height: 80vh;\\n}\\n\\n.modal-card-title {\\n  color: #979797;\\n  font-size: 1.2rem;\\n}\\n\\n.modal-card-title .highlight {\\n  color: #000;\\n}\\n\\n.options-wrapper{\\n  border-left: 1px solid #f1f1f3;\\n  min-height: 70vh;\\n  padding-top: 10px !important;\\n}\\n\\n.options-title{\\n  border-bottom: 1px solid #f1f1f3;\\n  padding: 15px !important;\\n  font-weight: bold;\\n  font-size: 1.1em;\\n}\\n\\n.options{\\n  padding: 15px;\\n}\\n\\n.wrapper{\\n  width: 100%;\\n  overflow: auto;\\n}\\n\\n.mat-form-field-infix {\\n  border-top: none;\\n}\\n\\ntd.mat-cell, td.mat-footer-cell, th.mat-header-cell {\\n\\tpadding-left: 20px;\\n\\tpadding-right: 12px;\\n  box-shadow: 0 0 1px #dbdbdb;\\n}\\n\\n.mat-table-sticky {\\n  background-color: #fdfdfd;\\n}\\n\\n.dropdown-divider {\\n  background-color: #dbdbdb;\\n  border: none;\\n  display: block;\\n  height: 1px;\\n  margin: 0;\\n}\\n\\n.dropdown-content {\\n padding-bottom: 0rem; \\n padding-top: 0rem; \\n border-radius: 2px;\\n}\\n\\na.dropdown-item {\\n  padding-right: 1rem; \\n}\\n\\n.column{\\n  padding: 0;\\n}\\n\\n.addon-tag{\\n  padding-left: 0;\\n  padding-right: 0;\\n  border-left: 1px dotted #eaeaea;\\n}\\n\\n.columns{\\n  margin-right: 0px;\\n  margin-left: 0px;\\n}\\n\\n.row-selector{\\n\\twidth: 10px;\\n}\\n\\n.table-selector{\\n\\twidth: 10px;\\n}\\n\\n.selected{\\n\\tbackground-color: #333;\\n  color: #fff;\\n}\\n\\n.row-options-wrapper{\\n\\tposition: relative;\\n}\\n\\n.row-options{\\n\\tposition: absolute;\\n  left: -23px;\\n  top: 0px;\\n  height: 48px;\\n}\\n\\n.table-icon {\\n  padding-right: 10px;\\n  padding-top: 12px;\\n}\\n\\n.button{\\n  margin-left: 2px;\\n  margin-right: 2px;\\n}\\n\\n.menu-bar{\\n  margin-top: 10px;\\n  margin-bottom: 0 !important;\\n  align-items: baseline;\\n}\\n\\n.menu-bar:first-child { \\n  margin-left: -5px;\\n}\\n\\n.menu-bar:last-child { \\n  margin-right: -5px;\\n}\\n\\n.button.is-light {\\n  border-radius: 2px;\\n}\\n\"","module.exports = \"<div class=\\\"card\\\" *ngIf=\\\"samplesTable\\\">\\n\\t<header class=\\\"card-header\\\">\\n\\t\\t<p class=\\\"card-header-title\\\">\\n\\t\\t\\tSamples data\\n\\t\\t</p>\\n\\t</header>\\n\\t<div class=\\\"card-content\\\">\\n\\t\\t<div class=\\\"columns mb0 is-vcentered is-hcentered\\\">\\n\\t\\t\\t<div class=\\\"column is-12 is-paddingless\\\">\\n\\t\\t\\t\\t<mat-form-field class=\\\"full-width bback\\\">\\n\\t\\t\\t\\t\\t<input autocomplete=\\\"off\\\" matInput (keyup)=\\\"applyFilter($event.target.value)\\\" (keydown)=\\\"onKeydown($event, $event.target.value)\\\" placeholder=\\\"Filter\\\">\\n\\t\\t\\t\\t</mat-form-field>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<span>\\n\\t\\t\\t<div *ngIf=\\\"filters.length > 0\\\" class=\\\"field is-grouped is-grouped-multiline\\\">\\n\\t\\t\\t\\t<div *ngFor=\\\"let filter of filters\\\" class=\\\"control\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"tags has-addons\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"tag is-link\\\">{{ filter }}</span>\\n\\t\\t\\t\\t\\t\\t<a (click)=\\\"highlightFilteredRows(filter)\\\" class=\\\"tag addon-tag\\\"><mat-icon>control_camera</mat-icon></a>\\n\\t\\t\\t\\t\\t\\t<a (click)=\\\"removeFilter(filter)\\\" class=\\\"tag is-delete\\\"></a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</span>\\n\\t\\t<div class=\\\"menu-bar columns\\\">  \\n\\t\\t\\t<span class=\\\"column fadeIn\\\">\\n\\t\\t\\t\\t<mtbls-upload></mtbls-upload>&nbsp;\\n\\t\\t\\t\\t<mtbls-download [value]=\\\"assayName\\\"></mtbls-download>\\n\\t\\t\\t\\t<span *ngIf=\\\"selectedRows.length > 0\\\">\\n<!-- \\t\\t\\t\\t\\t<div class=\\\"dropdown is-hoverable\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-trigger\\\">\\n\\t\\t\\t\\t\\t\\t\\t<button class=\\\"button is-light is-small\\\" aria-haspopup=\\\"true\\\" aria-controls=\\\"dropdown-menu\\\"><mat-icon>file_copy</mat-icon>Copy</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-menu\\\" id=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"dropdown-item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tPaste inplace\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t<hr class=\\\"dropdown-divider\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" class=\\\"dropdown-item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tPaste at the end\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div> -->\\n\\t\\t\\t\\t\\t<a (click)=\\\"openDeleteModal()\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t\\t<mat-icon>delete</mat-icon> Delete\\n\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</span>\\n\\t\\t\\t<span class=\\\"column fadeIn has-text-right\\\">\\n\\t\\t\\t\\t<div class=\\\"dropdown\\\" [ngClass]=\\\"{'is-active': isFactorDropdownActive}\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"dropdown-trigger\\\">\\n\\t\\t\\t\\t\\t\\t<button (click)=\\\"toggleDropdown()\\\" class=\\\"button is-light is-small\\\"><span><mat-icon>add</mat-icon>Factor</span></button>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"dropdown-menu has-text-left\\\" role=\\\"menu\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"dropdown-content\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span *ngIf=\\\"unSelectedFactors && unSelectedFactors.length > 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span *ngFor=\\\"let factor of unSelectedFactors\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"openAddColumnModal('factor', factor)\\\" class=\\\"dropdown-item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ factor.factorName }} \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<hr class=\\\"dropdown-divider\\\">\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t<mtbls-factor [isDropdown]=\\\"true\\\" [value]=\\\"null\\\" [validations]=\\\"validations\\\"></mtbls-factor>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<a (click)=\\\"openAddColumnModal('characterstic', null)\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t<span><mat-icon>add</mat-icon>Characterstic</span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<a (click)=\\\"openAddSamplesModal()\\\" class=\\\"button is-small is-light\\\">\\n\\t\\t\\t\\t\\t<mat-icon>view_day</mat-icon> Add Samples\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t    <!-- <a class=\\\"button is-small is-light\\\">\\n\\t\\t\\t      <mat-icon>sort</mat-icon> Sort columns\\n\\t\\t\\t  </a> -->\\n\\t\\t\\t</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"menu-bar columns\\\">\\n\\t\\t\\t<span class=\\\"column fadeIn has-text-right nmrl\\\">\\n\\t\\t\\t\\t<mat-paginator [pageSizeOptions]=\\\"[500, 1000, 2000]\\\" showFirstLastButtons></mat-paginator>\\n\\t\\t\\t</span>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"wrapper mat-elevation-z1\\\">\\n\\t\\t\\t<table class=\\\"mat-elevation-z1\\\" [dataSource]=\\\"tableDataSource\\\" matSort mat-table>\\n\\t\\t\\t\\t<ng-container matColumnDef=\\\"Select\\\" sticky>\\n\\t\\t\\t\\t\\t<th (click)=\\\"deSelect()\\\" class=\\\"clickable table-selector\\\" mat-header-cell *matHeaderCellDef></th>\\n\\t\\t\\t\\t\\t<td (click)=\\\"rowClick(row, $event)\\\" class=\\\"clickable row-selector hover-highlight\\\" mat-cell *matCellDef=\\\"let row\\\">\\n\\t\\t\\t\\t\\t\\t<span class=\\\"row-options-wrapper\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"row-options hover-button\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<mat-icon class=\\\"table-icon\\\">aspect_ratio</mat-icon>\\n\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<ng-container *ngFor=\\\"let column of tableData.columns\\\" [sticky]=\\\"column.sticky\\\" [matColumnDef]=\\\"column.columnDef\\\">\\n\\t\\t\\t\\t\\t<th class=\\\"clickable hover-highlight\\\" mat-header-cell *matHeaderCellDef> \\n\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t<span (click)=\\\"headerClick(column, $event)\\\">{{ column.header }}</span>\\n\\t\\t\\t\\t\\t\\t\\t<span mat-sort-header>&nbsp;</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t<td (dblclick)=\\\"editCell(row, column, $event)\\\" (click)=\\\"cellClick(row, column, $event)\\\" class=\\\"clickable\\\" [ngClass]=\\\"{'selected': isSelected(row, column)}\\\" mat-cell *matCellDef=\\\"let row\\\"> \\n\\t\\t\\t\\t\\t\\t{{ row[column.header] }} \\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t<tr mat-header-row *matHeaderRowDef=\\\"tableData.displayedColumns\\\"></tr>\\n\\t\\t\\t\\t<tr mat-row *matRowDef=\\\"let row; columns: tableData.displayedColumns;\\\"></tr>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n\\n\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': addColumnModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div *ngIf=\\\"addColumnType && addColumnType == 'characterstic'\\\" class=\\\"modal-card\\\">\\n    <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n      <div class=\\\"bar\\\"></div>\\n      <div class=\\\"bar\\\"></div>\\n      <div class=\\\"bar\\\"></div>\\n    </div>\\n    <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n      <header class=\\\"modal-card-head\\\">\\n        <p class=\\\"modal-card-title\\\">Add characterstic column</p>\\n      </header>\\n      <section class=\\\"modal-card-body\\\">\\n        <div>\\n          <mtbls-ontology [id]=\\\"'charactersticCategory'\\\" [validations]=\\\"fieldValidation('category')\\\" (changed)=\\\"onChanges($event)\\\" [values]='[]' [inline]=\\\"true\\\"></mtbls-ontology>\\n        </div>\\n        <!-- <br>\\n        <div>\\n          <mtbls-ontology [id]=\\\"'charactersticUnit'\\\" [validations]=\\\"fieldValidation('unit')\\\" [values]='[]' [inline]=\\\"true\\\"></mtbls-ontology>\\n        </div> -->\\n      </section>\\n      <footer class=\\\"modal-card-foot\\\">\\n        <div class=\\\"columns is-gapless full-width\\\">\\n          <div class=\\\"column is-one-third\\\">\\n          </div>\\n          <div class=\\\"column is-two-third has-text-right\\\">\\n            <button (click)='closeAddColumnModal()' class=\\\"button\\\">Cancel</button>\\n            <button (click)=\\\"addColumn('characterstic')\\\" class=\\\"button is-info\\\">Add Characterstic Column</button>\\n          </div>\\n        </div>\\n      </footer>\\n    </form>\\n  </div>\\n  <div *ngIf=\\\"addColumnType && addColumnType == 'factor'\\\" class=\\\"modal-card\\\">\\n    <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n      <div class=\\\"bar\\\"></div>\\n      <div class=\\\"bar\\\"></div>\\n      <div class=\\\"bar\\\"></div>\\n    </div>\\n    <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n      <header class=\\\"modal-card-head\\\">\\n        <h6 class=\\\"modal-card-title\\\">Add factor column - <span class=\\\"highlight\\\">{{ selectedFactor.factorName }}</span></h6>\\n      </header>\\n      <section class=\\\"modal-card-body\\\">\\n        <mtbls-ontology [id]=\\\"'factorUnit'\\\" class=\\\"mt-20\\\" #factorUnit [validations]=\\\"fieldValidation('unit')\\\" (changed)=\\\"onChanges($event)\\\" [values]='[]' [inline]=\\\"true\\\"></mtbls-ontology>\\n      </section>\\n      <footer class=\\\"modal-card-foot\\\">\\n        <div class=\\\"columns is-gapless full-width\\\">\\n          <div class=\\\"column is-half\\\">\\n          </div>\\n          <div class=\\\"column is-half has-text-right\\\">\\n            <button (click)='closeAddColumnModal()' class=\\\"button\\\">Cancel</button>\\n            <button (click)=\\\"addColumn('factor')\\\" class=\\\"button is-info\\\">Add Factor Column</button>\\n          </div>\\n        </div>\\n      </footer>\\n    </form>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isDeleteModalOpen}\\\">\\n  <div class=\\\"modal-background\\\"></div>\\n  <div class=\\\"modal-card\\\">\\n    <section class=\\\"modal-card-body\\\">\\n      <p>Are you sure you want to delete the selected samples?</p>\\n    </section>\\n    <footer class=\\\"modal-card-foot\\\">\\n      <div class=\\\"columns is-gapless full-width\\\">\\n        <div class=\\\"column is-half\\\">\\n          <button (click)='closeDelete()' class=\\\"button is-info\\\">Cancel</button>\\n        </div>\\n        <div class=\\\"column is-half has-text-right\\\">\\n          <button (click)='deleteSamples()' class=\\\"button is-danger\\\">OK! Delete Permanently</button>\\n        </div>\\n      </div>\\n    </footer>\\n  </div>\\n</div>\\n\\n<!-- <div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isEditColumnModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card column-editor-card\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n        <div class=\\\"columns\\\">\\n          <div class=\\\"column is-two-thirds\\\">is-two-thirds</div>\\n          <div class=\\\"column options-wrapper\\\">\\n            <h5 class=\\\"options-title\\\">{{ selectedColumn.header }}</h5>\\n            <div class=\\\"options\\\">\\n              <span *ngFor=\\\"let key of keys(selectedColumnValues)\\\">\\n                <div class=\\\"tags has-addons\\\">\\n                  <span class=\\\"tag is-success\\\">{{ key }}</span>\\n                  <a class=\\\"tag is-delete\\\"></a>\\n                </div>\\n              </span>\\n            </div>\\n          </div>\\n        </div>\\n      </section>\\n      <footer class=\\\"modal-card-foot buttons is-right\\\">\\n        <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeEditColumnModal()'>Cancel</button>\\n      </footer>\\n    </div>\\n  </form>\\n</div> -->\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isAddSamplesModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n        <div class=\\\"field is-horizontal\\\">\\n          <div class=\\\"field-body\\\">\\n            <div class=\\\"field\\\">\\n              <div class=\\\"control\\\">\\n                <mat-form-field class=\\\"full-width\\\">\\n                  <mat-label>{{ validation['samples'].label }}</mat-label>\\n                  <textarea class=\\\"no-scroll\\\" \\n                  formControlName=\\\"samples\\\"\\n                  matInput\\n                  (blur)=\\\"formatSampleNames()\\\"\\n                  [placeholder]=\\\"validation['samples'].placeholder\\\" \\n                  cdkAutosizeMinRows=\\\"20\\\"\\n                  cdkAutosizeMaxRows=\\\"10\\\"\\n                  cdkTextareaAutosize>\\n                </textarea>\\n                <mat-hint>{{ validation.samples.description }}</mat-hint>\\n                <mat-error\\n                *ngIf=\\\"form.get('samples').errors &&\\n                form.get('samples').dirty &&\\n                form.get('samples').errors.samples\\\">\\n                {{ form.get('samples').errors.samples.error }}\\n              </mat-error>\\n            </mat-form-field>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </section>\\n  <footer class=\\\"modal-card-foot buttons is-right\\\">\\n    <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeAddSamplesModal()'>Cancel</button>\\n    <button (click)=\\\"addSamples()\\\" class=\\\"button is-info\\\">Add</button>\\n  </footer>\\n</div>\\n</form>\\n</div>\\n\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isAddSamplesModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n        <div class=\\\"field is-horizontal\\\">\\n          <div class=\\\"field-body\\\">\\n            <div class=\\\"field\\\">\\n              <div class=\\\"control\\\">\\n                <mat-form-field class=\\\"full-width\\\">\\n                  <mat-label>{{ validation['samples'].label }}</mat-label>\\n                  <textarea class=\\\"no-scroll\\\" \\n                  formControlName=\\\"samples\\\"\\n                  matInput\\n                  (blur)=\\\"formatSampleNames()\\\"\\n                  [placeholder]=\\\"validation['samples'].placeholder\\\" \\n                  cdkAutosizeMinRows=\\\"20\\\"\\n                  cdkAutosizeMaxRows=\\\"10\\\"\\n                  cdkTextareaAutosize>\\n                </textarea>\\n                <mat-hint>{{ validation.samples.description }}</mat-hint>\\n                <mat-error\\n                *ngIf=\\\"form.get('samples').errors &&\\n                form.get('samples').dirty &&\\n                form.get('samples').errors.samples\\\">\\n                {{ form.get('samples').errors.samples.error }}\\n              </mat-error>\\n            </mat-form-field>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </section>\\n  <footer class=\\\"modal-card-foot buttons is-right\\\">\\n    <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeAddSamplesModal()'>Cancel</button>\\n    <button (click)=\\\"addSamples()\\\" class=\\\"button is-info\\\">Add</button>\\n  </footer>\\n</div>\\n</form>\\n</div>\"","import { Component, ViewChild, OnInit, Input, Inject, ViewChildren, AfterContentInit, QueryList, OnChanges, SimpleChanges, ChangeDetectorRef } from '@angular/core';\nimport { IAppState } from '../../../store';\nimport { tassign } from 'tassign'; \nimport { MTBLSProcessSequence } from './../../../models/mtbl/mtbls/mtbls-process-sequence';\nimport { MTBLSSample } from './../../../models/mtbl/mtbls/mtbls-sample';\nimport { MTBLSColumn } from './../../../models/mtbl/mtbls/common/mtbls-column';\nimport { MTBLSSource } from './../../../models/mtbl/mtbls/mtbls-source';\nimport { MTBLSFactor } from './../../../models/mtbl/mtbls/mtbls-factor';\nimport { MTBLSFactorValue } from './../../../models/mtbl/mtbls/mtbls-factor-value';\nimport { MTBLSCharacterstic } from './../../../models/mtbl/mtbls/mtbls-characterstic';\nimport { Ontology } from './../../../models/mtbl/mtbls/common/mtbls-ontology';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { OntologyComponent } from './../ontology/ontology.component';\nimport { JsonConvert, OperationMode, ValueCheckingMode } from \"json2typescript\";\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { MatPaginator, MatTableDataSource, MatSort} from '@angular/material';\nimport { MatAutocompleteSelectedEvent, MatChipInputEvent } from '@angular/material';\nimport * as toastr from 'toastr';\n\n@Component({\n\tselector: 'mtbls-samples',\n\ttemplateUrl: './samples.component.html',\n\tstyleUrls: ['./samples.component.css']\n})\nexport class SamplesComponent implements OnInit {\n\t@Input('validations') validations: any;\n\t@select(state => state.study.factors) studyFactors;\n\t@select(state => state.study.samplesTable) samplesTable;\n\n    @ViewChildren(OntologyComponent) private ontologyComponents: QueryList<OntologyComponent>;\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n    @ViewChild(MatSort) sort: MatSort;\n\n\tfactors: any[] = [];\n\ttableDataSource : any;\n\ttableData: any = {};\n\tselectedRows: any[] = []\n\tselectedColumns: any[] = []\n\tselectedCells: any[] = []\n\n\n\tfilter: string = '';\n\tfilters: string[] = [];\n\tlastRowSelection = null;\n\tlastColSelection = null;\n\n\tselectedColumn = null;\n\tselectedColumnValues = null;\n\n\tselectedCell = {};\n\tfileColumns = [];\n\n\tfiles : any = []\n\n\tisDeleteModalOpen = false;\n\tisEditModalOpen = false;\n\tisCellTypeFile = false;\n\n    addColumnModalOpen = false\n    addColumnType = null\n\n\tform: FormGroup;\n\n    selectedFactor:MTBLSFactor = null;\n\n    isFactorDropdownActive: boolean = false;\n    isAddSamplesModalOpen: boolean = false;\n\n\tprivate validationsId = 'samples';\n\n\tconstructor(private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n\t}\n\n\tngOnInit() {\n\t\tthis.samplesTable.subscribe(value => { \n\t\t\tif(value['sampleData']){\n\t\t\t\tthis.tableDataSource = new MatTableDataSource<any>(value['sampleData'].rows)\n\t\t\t\tthis.tableDataSource.sort = this.sort;\n\t\t\t\tthis.tableData = value;\n\t\t\t\tthis.tableDataSource.filterPredicate = ((data, filter) => {\n\t\t\t\t  \treturn this.getDataString(data).indexOf(filter.toLowerCase()) > -1;\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t\tthis.studyFactors.subscribe(value => { \n\t\t\tthis.factors = value;\n\t\t});\n\n\t\tthis.validations.samples.default_order.forEach( col => {\n\t\t\tif (col.dataType == 'file'){\n\t\t\t\tthis.fileColumns.push(col.header)\n\t\t\t}\n\t\t})\n\t}\n\n\tget unSelectedFactors() {\n\t\tlet uniqueSelectedFactors = []\n\t\tlet unselectedFactors: any[] = [];\n\t\tif(this.tableData['sampleHeader']){\n\t\t\tthis.keys(this.tableData['sampleHeader']).forEach( header => {\n\t\t\t\tif(header.indexOf('Factor Value') > -1){\n\t\t\t\t\tlet factorName = header.replace(\"Factor Value\", \"\").replace(\"[\",\"\").replace(\"]\",\"\").replace(/^[ ]+|[ ]+$/g,'')\n\t\t\t\t\tif(uniqueSelectedFactors.indexOf(factorName) < 0){\n\t\t\t\t\t\tuniqueSelectedFactors.push(factorName)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tthis.factors.forEach(f=>{\n\t\t\tif(uniqueSelectedFactors.indexOf(f.factorName) < 0){\n\t\t\t\tunselectedFactors.push(f)\n\t\t\t}\n\t\t})\n        return unselectedFactors;\n    }\n\n\topenAddSamplesModal(){\n        this.isAddSamplesModalOpen = true;\n        this.form = this.fb.group({\n            samples:  []\n        });\n    }\n\n    formatSampleNames(){\n        if(this.form.get('samples').value == null) this.form.get('samples').setValue('')\n            this.form.get('samples').setValue(this.form.get('samples').value.replace(/,/g, \"\\n\").split(\"\\n\").filter(function(n){ return (n != undefined && n != '') }).map(v => v.replace(/^[ ]+|[ ]+$/g,'')).join(\"\\n\"))\n    }\n\n    closeAddSamplesModal(){\n        this.isAddSamplesModalOpen = false;   \n    }\n\n    openAddColumnModal(type, selection){\n        if(type == 'factor'){\n            this.selectedFactor = selection \n        }\n\n        if(type == 'characterstic'){\n        }\n\n        this.addColumnModalOpen = true\n        this.addColumnType = type\n\n        this.form = this.fb.group({\n            title: [''],\n            samples: []\n        });\n    }\n\n\tonKeydown(event, filterValue:string) {\n\t\tlet data = []\n\t\tif (event.key === \"Enter\") {\n\t\t\tif (this.filters.indexOf(filterValue) < 0){\n\t\t\t\tthis.filters.push(filterValue)\n\t\t\t\tevent.target.value = ''\n\t\t\t}\n\t\t\tthis.tableDataSource.filter = '';\n\t\t\tthis.filters.forEach(f => {\n\t\t\t\tdata = data.concat(this.tableDataSource.data.filter( d => this.getDataString(d).indexOf(f.toLowerCase()) > -1))\n\t\t\t})\n\t\t\tthis.tableDataSource.data = data;\n\t\t}\n\t}\n\n\tapplyFilter(filterValue: string) {\n\t    if(filterValue != ''){\n\t    \tthis.tableDataSource.data = this.tableData['sampleData'].rows\n\t    \tthis.tableDataSource.filter = filterValue.trim().toLowerCase();\n\t    }\n\t}\n\n\tisSelected(row, column){\n\t\tif((row && column) && this.selectedCells.length > 0){\n\t\t\treturn this.selectedCells.filter( cell => (cell[0] == column.columnDef && cell[1] == row.index) ).length > 0\n\t\t}else if(this.selectedColumns.length == 0){\n\t\t\tif(this.selectedRows.indexOf(row.index) > -1){\n\t\t\t\treturn true\n\t\t\t}\n\t\t}else if(this.selectedRows.length == 0){\n\t\t\tif(this.selectedColumns.indexOf(column.columnDef) > -1){\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\tcloseAddColumnModal(){\n        this.addColumnModalOpen = false\n    }\n\n\trowClick(row: any, event){\n\t\tthis.selectedCells = []\n\t\tthis.selectedColumns = []\n\t\tlet entryIndex = row.index\n\t\tlet rowIndex = this.selectedRows.indexOf(entryIndex)\n\t\tif(event && event.altKey){\n\t\t\tif( rowIndex > -1){\n\t\t\t\tthis.selectedRows.splice(rowIndex, 1)\n\t\t\t}else{\n\t\t\t\tthis.selectedRows.push(entryIndex)\n\t\t\t}\n\t\t}else if(event && event.shiftKey){\n\t\t\tlet lastSelectionIndex = null;\n\t\t\tlet lastRowIndex = -1;\n\t\t\tlet rowNamesArray: any[] = this.samplesTable.samplesData.rows.map( e => { return e.index })\n\t\t\tif(this.lastRowSelection){\n\t\t\t\tlastSelectionIndex = this.lastRowSelection.index\n\t\t\t\tlastRowIndex = rowNamesArray.indexOf(lastSelectionIndex)\n\t\t\t}else{\n\t\t\t\tlastRowIndex = 0\n\t\t\t}\n\t\t\tlet currentRowIndex = rowNamesArray.indexOf(entryIndex)\n\t\t\tlet currentSelection = []\n\n\t\t\tif(lastRowIndex > currentRowIndex){\n\t\t\t\tcurrentSelection = rowNamesArray.slice(currentRowIndex, lastRowIndex + 1)\n\t\t\t}else{\n\t\t\t\tcurrentSelection = rowNamesArray.slice(lastRowIndex, currentRowIndex + 1)\n\t\t\t}\n\t\t\tthis.selectedRows = this.selectedRows.concat(currentSelection)\n\t\t}else{\n\t\t\tif( rowIndex < 0){\n\t\t\t\tthis.selectedRows = [entryIndex]\n\t\t\t}else{\n\t\t\t\tthis.selectedRows = []\n\t\t\t}\n\t\t}\n\t\tthis.lastRowSelection = row\n\t}\n\n    onChanges(){}\n\n\taddColumn(type){\n        if(type == 'factor'){\n\n            let mtblsFactorValue = new MTBLSFactorValue();\n            mtblsFactorValue.category = this.selectedFactor;\n            let columns = []\n            let newFactorIndex = this.keys(this.tableData.sampleHeader).length\n            let factorValueColumn = new MTBLSColumn(\"Factor Value[\"+ mtblsFactorValue.category.factorName +\"]\", '', newFactorIndex);\n            let factorUnitValue = this.getOntologyComponentValue('factorUnit').values[0];\n\n            let factorUnitColumn;\n            let factorSourceColumn;\n            let factorAccessionColumn;\n\n            if( factorUnitValue && factorUnitValue != null && factorUnitValue.annotationValue != ''){\n                factorUnitColumn = new MTBLSColumn(\"Unit\", '', newFactorIndex+1);\n                factorSourceColumn = new MTBLSColumn(\"Term Source REF\", '', newFactorIndex+2);\n                factorAccessionColumn = new MTBLSColumn(\"Term Accession Number\", '', newFactorIndex+3);\n            }else{\n                factorSourceColumn = new MTBLSColumn(\"Term Source REF\", '', newFactorIndex+1);\n                factorAccessionColumn = new MTBLSColumn(\"Term Accession Number\", '', newFactorIndex+2);\n            }\n            columns.push(factorValueColumn.toJSON())\n            if(factorUnitColumn != null){\n                columns.push(factorUnitColumn.toJSON())\n            }\n            columns.push(factorSourceColumn.toJSON())\n            columns.push(factorAccessionColumn.toJSON())\n\n            this.metabolightsService.addColumns(this.tableData.file, { \"data\" : columns }).subscribe(res => {\n                toastr.success( \"Characterstic added successfully\", \"Success\", {\n                    \"timeOut\": \"2500\",\n                    \"positionClass\": \"toast-top-center\",\n                    \"preventDuplicates\": true,\n                    \"extendedTimeOut\": 0,\n                    \"tapToDismiss\": false\n                });\n                }, err => {\n                    console.log(err)\n                }\n            );\n            this.toggleDropdown();\n        }else{\n            let mtblsCharacterstic = new MTBLSCharacterstic();\n            mtblsCharacterstic.category = this.getOntologyComponentValue('charactersticCategory').values[0];\n            mtblsCharacterstic.value = new Ontology();            \n            let charactersticsCount = 0;\n            this.keys(this.tableData.sampleHeader).forEach( key => {\n                if(key.indexOf(\"Characterstics\") > -1){\n                    charactersticsCount = charactersticsCount+1\n                }\n            })\n            let protocolRefIndex = this.tableData.sampleHeader['Protocol REF']\n            let columns = []\n            let charactersticsColumn = new MTBLSColumn(\"Characteristics[\"+ mtblsCharacterstic.category.annotationValue +\"]\", '', protocolRefIndex);\n            let charactersticsSourceColumn = new MTBLSColumn(\"Term Source REF\", '', protocolRefIndex+1);\n            let charactersticsAccessionColumn = new MTBLSColumn(\"Term Accession Number\", '', protocolRefIndex+2);\n            columns.push(charactersticsColumn.toJSON())\n            columns.push(charactersticsSourceColumn.toJSON())\n            columns.push(charactersticsAccessionColumn.toJSON())\n            this.metabolightsService.addColumns(this.tableData.file, { \"data\" : columns }).subscribe(res => {\n                toastr.success( \"Characterstic added successfully\", \"Success\", {\n                    \"timeOut\": \"2500\",\n                    \"positionClass\": \"toast-top-center\",\n                    \"preventDuplicates\": true,\n                    \"extendedTimeOut\": 0,\n                    \"tapToDismiss\": false\n                });\n                }, err => {\n                    console.log(err)\n                }\n            );\n        }\n        this.closeAddColumnModal();\n    }\n\n\n    getOntologyComponentValue(id){\n        return this.ontologyComponents.filter( component => {\n            return component.id === id\n        })[0]\n    }\n\n\ttoggleDropdown(){\n        this.isFactorDropdownActive = !this.isFactorDropdownActive\n    }\n\n\tcellClick(row: any, column: any, event){\n\t\tif(event.altKey){\n\t\t\tthis.selectedCells.push( [column.columnDef,row.index] )\n\t\t}else{\n\t\t\tthis.selectedCells = [[column.columnDef,row.index]]\n\t\t}\n\t}\n\n\ttoTitleCase(str) {\n\t    return str.replace(/\\w\\S*/g, function(txt){\n\t        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n\t    });\n\t}\n\n\tformatCellTitle(term){\n\t\treturn term.replace(\"_\", \" \")\n\t}\n\n\teditCell(row: any, column: any, event){\n\t\tthis.isCellTypeFile = false;\n\t\tthis.isEditModalOpen = true;\n\t\tthis.selectedCell['row'] = row\n\t\tthis.selectedCell['column'] = column\n\n\t\tif(this.fileColumns.indexOf(column.header) > -1){\n\t\t\tthis.isCellTypeFile = true;\n\t\t}\n\n\t\tthis.form = this.fb.group({\n\t\t\tcell:  [ row[column.columnDef] ],\n\t\t});\n\t}\n\n\tcloseEditModal(){\n\t\tthis.isEditModalOpen = false;\n\t}\n\n\tdeSelect(){\n\t\tthis.selectedRows = []\n\t\tthis.selectedColumns = []\n\t\tthis.selectedCells = []\n\t}\n\n\theaderClick(column: any, event){\n\t\tthis.selectedCells = []\n\t\tthis.selectedRows = []\n\t\tlet entryIndex = column.columnDef\n\t\tlet colIndex = this.selectedColumns.indexOf(entryIndex)\n\n\t\tif(event.altKey){\n\t\t\tif( colIndex > -1){\n\t\t\t\tthis.selectedRows.splice(colIndex, 1)\n\t\t\t}else{\n\t\t\t\tthis.selectedRows.push(entryIndex)\n\t\t\t}\n\t\t}else if(event.shiftKey){\n\t\t\tlet lastSelectionIndex = null;\n\t\t\tlet lastRowIndex = -1;\n\t\t\tlet colNamesArray: any[] = this.samplesTable.displayedColumns.map( e => { return e.columnDef })\n\t\t\tif(this.lastColSelection){\n\t\t\t\tlastSelectionIndex = this.lastColSelection.index\n\t\t\t\tlastRowIndex = colNamesArray.indexOf(lastSelectionIndex)\n\t\t\t}else{\n\t\t\t\tlastRowIndex = 0\n\t\t\t}\n\t\t\tlet currentRowIndex = colNamesArray.indexOf(entryIndex)\n\t\t\tlet currentSelection = []\n\n\t\t\tif(lastRowIndex > currentRowIndex){\n\t\t\t\tcurrentSelection = colNamesArray.slice(currentRowIndex, lastRowIndex + 1)\n\t\t\t}else{\n\t\t\t\tcurrentSelection = colNamesArray.slice(lastRowIndex, currentRowIndex + 1)\n\t\t\t}\n\t\t\tthis.selectedColumns = this.selectedColumns.concat(currentSelection)\n\t\t}else{\n\t\t\tif( colIndex < 0){\n\t\t\t\tthis.selectedColumns = [entryIndex]\n\t\t\t}else{\n\t\t\t\tthis.selectedColumns = []\n\t\t\t}\n\t\t}\n\t\tthis.lastColSelection = column\n\t}\n\n\tselected(event: MatAutocompleteSelectedEvent): void {\n\t\tthis.form.get('cell').setValue(event.option.value.file);\n\t}\n\n\tkeys(object){\n\t\treturn Object.keys(object);\n\t}\n\n\tremoveFilter(filter){\n\t\tthis.filters = this.filters.filter(e => e !== filter);\n\t\tthis.tableDataSource.filter = '';\n\t\tif(this.filters.length > 0){\n\t\t\tlet data = []\n\t\t\tthis.filters.forEach(f => {\n\t\t\t\tdata = data.concat(this.tableDataSource.data.filter( d => this.getDataString(d).indexOf(f.toLowerCase()) > -1))\n\t\t\t})\n\t\t\tthis.tableDataSource.data = data;\n\t\t}else{\n\t\t\tthis.tableDataSource.data = this.tableData['sampleData'].rows\n\t\t}\n\t}\n\n\thighlightFilteredRows(term){\n       \tthis.selectedRows = this.selectedRows.concat(this.tableDataSource.data.filter(f => this.getDataString(f).indexOf(term.toLowerCase()) != -1 ).map( p => p.index ));\n    }\n\n    getDataString(row){\n        let rowString = \"\"\n        Object.keys(row).forEach( prop => rowString = rowString + row[prop])\n        return rowString\n    }\n\n\tgetUnique(arr){\n\t\treturn arr.filter (function (value, index, array) { \n    \t\treturn array.indexOf (value) == index;\n\t\t});\n\t}\n\n\tgetEmptyRow(){\n\t\tlet obj = tassign({}, this.tableData.sampleData.rows[0]);\n\t\tObject.keys(obj).forEach(function (prop) {\n  \t\t\tobj[prop] = \"\";\n\t\t});\n\t\treturn obj;\n\t}\n\n\t// save(){\n\t// \tthis.selectedCell['row'][this.selectedCell['column']['columnDef']] = this.form.get('cell').value\n\t// \tthis.metabolightsService.updatesamplesRow(this.samplesName, { \"samplesData\": [ this.selectedCell['row'] ]}).subscribe( res => {\n\t// \t\t\ttoastr.success( \"MAF entry updated successfully\", \"Success\", {\n\t// \t\t\t\t\"timeOut\": \"2500\",\n\t// \t\t\t\t\"positionClass\": \"toast-top-center\",\n\t// \t\t\t\t\"preventDuplicates\": true,\n\t// \t\t\t\t\"extendedTimeOut\": 0,\n\t// \t\t\t\t\"tapToDismiss\": false\n\t// \t\t\t});\n\n\t// \t\t\tthis.persistData(res, this.samplesName)\n\t// \t\t\tthis.rowClick(this.selectedCell['row'], null)\n\t// \t\t\tthis.closeEditModal();\n\t// \t\t}, err => {\n\t// \t});\n\t// }\n\n\taddSamples(){\n\t\tthis.metabolightsService.addSamples(this.tableData.file, { \"data\": [this.getEmptyRow()]}).subscribe( res => {\n\t\t\t\ttoastr.success( \"Rows add successfully to the end of the maf sheet\", \"Success\", {\n\t\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\t\"tapToDismiss\": false\n\t\t\t\t});\n\t\t\t}, err => {\n\t\t});\n\t}\n\n\tpersistData(data, filename){\n\t\tlet columns = []\n        Object.keys(data.samplesHeader).forEach( key => {\n          let fn = \"element['\"+ key +\"']\"\n          columns.push({\n            \"columnDef\": key,\n            \"sticky\": \"false\",\n            \"header\": key,\n            \"cell\": (element) => eval(fn)\n          })\n        })\n        let displayedColumns = columns.map( a => { return a.columnDef } )\n        displayedColumns.unshift(\"Select\")\n        \n        displayedColumns.sort(function(a, b){  \n          return data.samplesHeader[a] - data.samplesHeader[b];\n        });\n        data['columns'] = columns;\n        data['displayedColumns'] = displayedColumns;\n        this.ngRedux.dispatch({ type: 'ADD_STUDY_samples_TABLE', body: {\n          'samplesTable': data,\n          'samples': filename\n        }})\n\t}\n\n\tdeleteSamples(){\n\t\tthis.metabolightsService.deleteSamples(this.tableData.file, this.getUnique(this.selectedRows).join(\",\")).subscribe( res => {\n\t\t\tthis.isDeleteModalOpen = false\n\t\t\ttoastr.success( \"Rows delete successfully\", \"Success\", {\n\t\t\t\t\"timeOut\": \"2500\",\n\t\t\t\t\"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\t\"tapToDismiss\": false\n\t\t\t});\n\t\t}, err => {});\n\t}\n\n\tcloseDelete(){\n\t\tthis.isDeleteModalOpen = false;\n\t}\n\n\topenDeleteModal(){\n\t\tthis.isDeleteModalOpen = true;\n\t}\n\n\tkeyExists(object, key){\n\t\treturn object[key] != undefined\n\t}\n\n\tvalueExists(array, value){\n\t\treturn array.indexOf(value) >= 0\n\t}\n\n\tisObject (item) {\n\t\treturn (typeof item === \"object\" && !Array.isArray(item) && item !== null);\n\t}\n\n\tget validation() {\n\t\tif(this.validationsId.includes(\".\")){\n\t\t\tvar arr = this.validationsId.split(\".\");\n\t\t\tlet tempValidations = JSON.parse(JSON.stringify(this.validations));;\n\t\t\twhile (arr.length && (tempValidations = tempValidations[arr.shift()]));\n\t\t\treturn tempValidations;\n\t\t}\n\t\treturn this.validations[this.validationsId];\n\t}\n\n\tfieldValidation(fieldId) {\n\t\treturn this.validation[fieldId]\n\t}\n\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"control\\\">\\n\\t<div class=\\\"tags has-addons\\\">\\n\\t\\t<span class=\\\"tag\\\">Status</span>\\n\\t\\t<span class=\\\"tag is-link clickable\\\" (click)='openModal()'>{{ status }}</span>\\n\\t</div>\\n</div>\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n\\t<div class=\\\"modal-background\\\"></div>\\n\\t<div class=\\\"modal-card\\\">\\n\\t\\t<section class=\\\"modal-card-body\\\">\\n\\t\\t\\t<span *ngIf=\\\"status == 'public'\\\">\\n\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t<mat-icon>public</mat-icon>\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t<b>ACCESSIBILITY</b><br>\\n\\t\\t\\t\\t\\tAnyone can view or download your study. Please ensure you have provided your literature publication reference (DOI or PubMed ID) if applicable to improve your visibility.\\n\\t\\t\\t\\t\\t<br><br>\\n\\t\\t\\t\\t\\t<b>Whats next?</b><br>\\n\\t\\t\\t\\t\\tYour study is searchable and will be exported to other search engines, such as <a target=\\\"_blank\\\" href=\\\"http://metabolomexchange.org/\\\">Metabolomexchange</a> and <a href=\\\"https://www.omicsdi.org/\\\" target=\\\"_blank\\\">OmicsDI</a>\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</span>\\n\\t\\t\\t<span *ngIf=\\\"status == 'inreview'\\\">\\n\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t<mat-icon>visibility</mat-icon>\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t<b>ACCESSIBILITY</b><br>\\n\\t\\t\\t\\t\\tCuration of your study is complete. You can find a private link on your study page to share your study directly with collaborators, journals or reviewers.\\n\\t\\t\\t\\t\\t<br><br>\\n\\t\\t\\t\\t\\t<b>Whats next?</b><br>\\n\\t\\t\\t\\t\\tUpon reaching the release date your study will automatically be published to allow open access. Please ensure to provide your literature publication reference (DOI or PubMed ID) if applicable to improve your visibility.\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</span>\\n\\t\\t\\t<span *ngIf=\\\"status == 'curation'\\\">\\n\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t<mat-icon>visibility_off</mat-icon>\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t<b>ACCESSIBILITY</b><br>\\n\\t\\t\\t\\t\\tYour study is currently in curation and therefore you cannot make any changes. Please be advised that we may contact you if further information is required to complete this process. If you would like to update you study at this stage please contact <a href=\\\"mailto:metabolights-curation@ebi.ac.uk\\\">metabolights-curation@ebi.ac.uk</a>\\n\\t\\t\\t\\t\\t<br><br>\\n\\t\\t\\t\\t\\t<b>Whats next?</b><br>\\n\\t\\t\\t\\t\\t Once curation of your study has been completed you will receive an update from the MetaboLights team. \\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</span>\\n\\t\\t\\t<span *ngIf=\\\"status == 'submitted'\\\">\\n\\t\\t\\t\\t<h4>\\n\\t\\t\\t\\t\\t<mat-icon>visibility_off</mat-icon>\\n\\t\\t\\t\\t</h4>\\n\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t<b>ACCESSIBILITY</b><br>\\n\\t\\t\\t\\t\\tYour study is private. Only the study submitters are able to view and make changes to the study.\\n\\t\\t\\t\\t\\t<br><br>\\n\\t\\t\\t\\t\\t<b>Whats next?</b><br>\\n\\t\\t\\t\\t\\tCheck your study passes the validation checks (see the validation tab in your study). Once you have completed your study and it has met the validation criteria, please change the study status to Curation / Submission complete\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</span>\\n\\t\\t</section>\\n\\t\\t<footer class=\\\"modal-card-foot buttons is-center\\\">\\n\\t\\t\\t<button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>OK</button>\\n\\t\\t</footer>\\n\\t</div>\\n</div>\"","import { Component, OnInit, Input, Inject, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n\tselector: 'mtbls-status',\n\ttemplateUrl: './status.component.html',\n\tstyleUrls: ['./status.component.css']\n})\nexport class StatusComponent implements OnInit {\n\n\t@Input('value') status: string;\n\tisModalOpen: boolean = false;\n\tisFormBusy: boolean = false;\n\n\tconstructor() { }\n\n\tngOnInit() {\n\t}\n\n\topenModal() {\n\t\tthis.isModalOpen = true\n\t}\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n}\n","import { tassign } from 'tassign'; \nimport { MTBLSStudy } from '../../models/mtbl/mtbls/mtbls-study';\nimport { MTBLSProtocol } from '../../models/mtbl/mtbls/mtbls-protocol';\nimport { MTBLSFactor } from '../../models/mtbl/mtbls/mtbls-factor';\nimport { MTBLSComment } from '../../models/mtbl/mtbls/common/mtbls-comment';\nimport { MTBLSSample } from '../../models/mtbl/mtbls/mtbls-sample';\nimport { MTBLSAssay } from '../../models/mtbl/mtbls/mtbls-assay';\nimport { Ontology } from '../../models/mtbl/mtbls/common/mtbls-ontology';\nimport { MTBLSProcessSequence } from '../../models/mtbl/mtbls/mtbls-process-sequence';\nimport { JsonConvert, OperationMode, ValueCheckingMode } from \"json2typescript\";\nimport {  SET_STUDY_IDENTIFIER, \n          SET_STUDY_TITLE, \n          SET_STUDY_ABSTRACT, \n          SET_STUDY_DESIGN_DESCRIPTORS,\n          UPDATE_STUDY_DESIGN_DESCRIPTORS,\n          SET_STUDY_SUBMISSION_DATE, \n          SET_STUDY_RELEASE_DATE, \n          SET_STUDY_PUBLICATIONS, \n          SET_STUDY_PEOPLE,\n          SET_STUDY_FACTORS,\n          SET_STUDY_ORGANISMS,\n          SET_STUDY_PROTOCOLS,\n          SET_STUDY_SAMPLES_TABLE,\n          ADD_STUDY_ASSAY,\n          SET_STUDY_PROCESS_SEQUENCE,\n          UPDATE_STUDY_PEOPLE,\n          UPDATE_STUDY_PUBLICATIONS,\n          UPDATE_STUDY_PROTOCOLS,\n          UPDATE_STUDY_FACTORS,\n          ADD_STUDY_PROCESS_SEQUENCE,\n          ADD_MAF,\n          UPDATE_MAF_DATA,\n          ADD_STUDY_ASSAY_TABLE,\n          LOAD_VALIDATION_RULES } from './actions'; \n\nexport const STUDY_INITIAL_STATE: MTBLSStudy =  new MTBLSStudy();\n\nfunction setStudyIdentifier(state, action) {\n  return tassign(state, { identifier: action.body.study.isaInvestigation.studies[0].identifier });\n}\n\nfunction setStudyTitle(state, action) {\n  return tassign(state, { title: action.body.title });\n}\n\nfunction setStudyAbstract(state, action) {\n  return tassign(state, { abstract: action.body.description });\n}\n\nfunction setStudySubmissionDate(state, action) {\n  return tassign(state, { submissionDate: action.body.study.isaInvestigation.studies[0].submissionDate });\n}\n\nfunction setStudyReleaseDate(state, action) {\n  return tassign(state, { releaseDate: action.body.study.isaInvestigation.studies[0].publicReleaseDate });\n}\n\nfunction setStudyPublications(state, action){\n\treturn tassign(state, { publications: action.body.study.isaInvestigation.studies[0].publications });\n}\n\nfunction updateStudyPublications(state, action){\n  return tassign(state, { publications: action.body.publications });\n}\n\nfunction setStudyPeople(state, action){\n  return tassign(state, { people: action.body.study.isaInvestigation.studies[0].people });\n}\n\nfunction setStudyDesignDescriptors(state, action){\n  let designDescriptors = []\n  let jsonConvert: JsonConvert = new JsonConvert();\n  action.body.studyDesignDescriptors.forEach(descriptor => {\n    designDescriptors.push(jsonConvert.deserialize(descriptor, Ontology));\n  })\n  return tassign(state, { studyDesignDescriptors: designDescriptors });\n}\n\nfunction updateStudyPeople(state, action){\n  return tassign(state, { people: action.body.people });\n}\n\nfunction loadValidationRules(state, action){\n  return tassign(state, { validations: action.body.validations.study });\n}\n\nfunction setStudyFactors(state, action){\n  let studyFactors = []\n  let jsonConvert: JsonConvert = new JsonConvert();\n  action.body.factors.forEach(protocol => {\n    studyFactors.push(jsonConvert.deserialize(protocol, MTBLSFactor));\n  })\n  return tassign(state, { factors: studyFactors });\n}\n\nfunction setStudyProtocols(state, action){\n  let studyProtocols = []\n  let jsonConvert: JsonConvert = new JsonConvert();\n  action.body.protocols.forEach(protocol => {\n    studyProtocols.push(jsonConvert.deserialize(protocol, MTBLSProtocol));\n  })\n  return tassign(state, { protocols: studyProtocols });\n}\n\nfunction setStudySamplesTable(state, action){\n  return tassign(state, { samplesTable: action.body.samplesTable });\n}\n\nfunction setStudyProcessSequence(state, action){\n  let studyProcessSequences = []\n  let jsonConvert: JsonConvert = new JsonConvert();\n  action.body.processSequence.forEach(process => {\n    studyProcessSequences.push(jsonConvert.deserialize(process, MTBLSProcessSequence));\n  })\n  return tassign(state, { processSequence: studyProcessSequences });\n}\n\nfunction addStudyAssay(state, action){\n  let jsonConvert: JsonConvert = new JsonConvert();\n  return tassign(state, { assays: state.assays.concat(action.body.assay) });\n}\n\nfunction addStudyAssayTable(state, action){\n  let tempAssayTables = Object.assign({}, state.assayTables);\n  tempAssayTables[action.body.assay] = action.body.assayTable;\n  return tassign(state, { assayTables: tempAssayTables });\n}\n\nfunction addMAF(state, action){\n  return tassign(state, { metaboliteAnnotationFiles: action.body.maf });\n}\n\nfunction updateMAF(state, action) {\n  let index = null;\n  if(state.metaboliteAnnotationFiles[action.body.assay]){\n    let i = 0\n    state.metaboliteAnnotationFiles[action.body.assay].forEach( f => {\n      if(f.file == action.body.data.file){\n        index = i\n      }\n      i = i + 1\n    })\n  }\n  if(index != null){\n    state.metaboliteAnnotationFiles[action.body.assay][index] = action.body.data\n  }\n  return tassign(state, { metaboliteAnnotationFiles: state.metaboliteAnnotationFiles }); \n}\n\nfunction addStudyProcessSequence(state, action){\n  return tassign(state, { processSequence:  state.processSequence.concat(action.body.processSequence) });\n}\n\nfunction setStudyOrganisms(state, action){\n  return tassign(state, { organisms: action.body.organisms})\n}\n\nexport function studyReducer(state: MTBLSStudy = STUDY_INITIAL_STATE, action): MTBLSStudy {\n  switch (action.type) {\n    case SET_STUDY_IDENTIFIER: return setStudyIdentifier(state, action);\n    case SET_STUDY_TITLE: return setStudyTitle(state, action);\n    case SET_STUDY_ABSTRACT: return setStudyAbstract(state, action);\n\n    case SET_STUDY_SUBMISSION_DATE: return setStudySubmissionDate(state, action);\n    case SET_STUDY_RELEASE_DATE: return setStudyReleaseDate(state, action);\n\n    case SET_STUDY_PUBLICATIONS: return setStudyPublications(state, action);\n    case UPDATE_STUDY_PUBLICATIONS: return updateStudyPublications(state, action);\n\n    case SET_STUDY_PEOPLE: return setStudyPeople(state, action);\n    case UPDATE_STUDY_PEOPLE: return updateStudyPeople(state, action);\n\n    case LOAD_VALIDATION_RULES: return loadValidationRules(state, action);\n\n    case SET_STUDY_DESIGN_DESCRIPTORS: return setStudyDesignDescriptors(state, action);\n    case UPDATE_STUDY_DESIGN_DESCRIPTORS: return setStudyDesignDescriptors(state, action);\n\n    case SET_STUDY_FACTORS: return setStudyFactors(state, action);\n    case SET_STUDY_ORGANISMS: return setStudyOrganisms(state, action);\n\n    case SET_STUDY_PROTOCOLS: return setStudyProtocols(state, action);\n    case UPDATE_STUDY_PROTOCOLS: return setStudyProtocols(state, action);\n\n    case UPDATE_STUDY_FACTORS: return setStudyFactors(state, action);\n    case SET_STUDY_SAMPLES_TABLE: return setStudySamplesTable(state, action);\n    case SET_STUDY_PROCESS_SEQUENCE: return setStudyProcessSequence(state, action);\n    case ADD_STUDY_PROCESS_SEQUENCE: return addStudyProcessSequence(state, action);\n\n    case ADD_STUDY_ASSAY: return addStudyAssay(state, action);\n    case ADD_MAF: return addMAF(state, action);\n    case UPDATE_MAF_DATA: return updateMAF(state, action);\n    case ADD_STUDY_ASSAY_TABLE: return addStudyAssayTable(state, action);\n  }\n\n  return state; \n}","module.exports = \".tab-content{\\n\\tmin-height: 50vh;\\n}\\n\\n.tabs li.is-active a {\\n    background-color: #3273dc;\\n    color: #fff;\\n}\\n\\n.npt{\\n\\tpadding-top: 0;\\n}\\n\\n.logout-link{\\n\\tfont-size: 0.8em;\\n\\tfloat: right;\\n\\tpadding: 3px 10px;\\n\\tbackground-color: #3676D9;\\n\\tmargin: 1px;\\n\\tcolor: #fff;\\n\\tmargin-top: -2em;\\n}\\n\\n.logout-link:hover{\\n\\tbackground-color: #1f58ad;\\n}\"","module.exports = \"<nav-bar></nav-bar>\\n<div class=\\\"container\\\">\\n  <!-- <a class=\\\"logout-link\\\" (click)=\\\"logOut()\\\">Logout</a>\\n  <a class=\\\"logout-link\\\" [routerLink]=\\\"['/console']\\\">Console</a> -->\\n  <div class=\\\"main-wrapper\\\">\\n    <span *ngIf=\\\"(studyIdentifier | async) != undefined\\\">\\n      <div id=\\\"meta\\\" class=\\\"field is-grouped is-grouped-multiline px-20 mb-10\\\">\\n        <mtbls-status [value]=\\\"'public'\\\"></mtbls-status>&nbsp;&nbsp;\\n        <mtbls-release-date [value]=\\\"releaseDate | async\\\"></mtbls-release-date>\\n      </div>\\n      <mtbls-title [value]=\\\"studyTitle | async\\\" [validations]=\\\"validations | async\\\"></mtbls-title>\\n    </span>\\n    <mtbls-people [value]=\\\"people | async\\\" [validations]=\\\"validations | async\\\"></mtbls-people> \\n    <mtbls-description [value]=\\\"studyAbstract | async\\\" [validations]=\\\"validations | async\\\"></mtbls-description>\\n    <mtbls-organisms></mtbls-organisms>\\n    <mtbls-publications [value]=\\\"publications | async\\\" [validations]=\\\"validations | async\\\"></mtbls-publications> \\n    <div class=\\\"px-20 mt-20\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"columns\\\">\\n          <div class=\\\"column is-full tabs npt\\\">\\n           <ul>\\n            <li (click)=\\\"selectCurrentTab(0, 'descriptors')\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 0 }\\\"><a>Descriptors</a></li>\\n            <li (click)=\\\"selectCurrentTab(1, 'protocols')\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 1 }\\\"><a>Protocols</a></li>\\n            <li (click)=\\\"selectCurrentTab(2, 'samples')\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 2 }\\\"><a>Samples</a></li>\\n            <li (click)=\\\"selectCurrentTab(3, 'assays')\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 3 }\\\"><a>Assays</a></li>\\n            <li (click)=\\\"selectCurrentTab(4, 'metabolites')\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 4 }\\\"><a>Metabolites</a></li>\\n            <li (click)=\\\"selectCurrentTab(5, 'files')\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 5 }\\\"><a>Files</a></li>\\n            <!-- <li (click)=\\\"selectCurrentTab(6)\\\" [ngClass]=\\\"{'is-active': (currentIndex | async) == 6 }\\\"><a>Pathway Analysis</a></li> -->\\n          </ul>\\n        </div>\\n      </div>\\n      <div class=\\\"card-content npt\\\">\\n        <div class=\\\"columns\\\">\\n          <div class=\\\"column is-full\\\">\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 0\\\">\\n              <mtbls-design-descriptors [value]=\\\"studyDesignDescriptors | async\\\" [validations]=\\\"validations | async\\\"></mtbls-design-descriptors>\\n              <br>  \\n              <mtbls-factors [value]=\\\"factors | async\\\" [validations]=\\\"validations | async\\\"></mtbls-factors>  \\n            </div>\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 1\\\">\\n              <mtbls-protocols [validations]=\\\"validations | async\\\"></mtbls-protocols>\\n            </div>\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 2\\\">\\n              <mtbls-samples [validations]=\\\"validations | async\\\"></mtbls-samples>\\n            </div>\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 3\\\">\\n              <mtbls-assays [validations]=\\\"validations | async\\\"></mtbls-assays>\\n            </div>\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 4\\\">\\n              <mtbls-metabolites [validations]=\\\"validations | async\\\"></mtbls-metabolites>\\n            </div>\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 5\\\">\\n              <mtbls-files></mtbls-files>\\n            </div>\\n            <div class=\\\"tab-content fadeIn animated\\\" *ngIf=\\\"(currentIndex | async) == 6\\\">\\n              <div>Pathway Analysis</div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>        \\n    </div>\\n  </div>\\n</div>\\n</div>\"","import { Component, OnInit, Input } from '@angular/core';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { IAppState } from './../../store';\nimport { MetabolightsService } from '../../services/metabolights/metabolights.service';\nimport { AuthService } from '../../services/metabolights/auth.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { contentHeaders } from './../../services/headers';\n@Component({\n    selector: 'mtbls-study',\n    templateUrl: './study.component.html',\n    styleUrls: ['./study.component.css']\n})\nexport class StudyComponent implements OnInit {\n    private requestedStudy: string;\n    private requestedTab: number = 0;\n    tab: string = \"descriptors\";\n\n    @select(state => state.status.user) user: any\n    @select(state => state.study.identifier) studyIdentifier: string\n    @select(state => state.study.title) studyTitle: string\n    @select(state => state.study.abstract) studyAbstract: string\n    @select(state => state.status.currentTabIndex) currentIndex: number\n    @select(state => state.study.submissionDate) submissionDate: Date\n    @select(state => state.study.releaseDate) releaseDate: Date\n    @select(state => state.study.publications) publications: any\n    @select(state => state.study.people) people: any\n    @select(state => state.study.studyDesignDescriptors) studyDesignDescriptors: any[]\n    @select(state => state.study.factors) factors: any[]\n    @select(state => state.study.validations) validations: any\n    @select(state => state.study.protocols) protocols: any[]\n    @select(state => state.study.processSequence) processSequence: any[]\n    @select(state => state.study.assays) assays: any[]\n    @select(state => state.status.configuration) configuration: any\n\n    constructor(private metabolightsService: MetabolightsService, private authService: AuthService, private ngRedux: NgRedux<IAppState>, private route: ActivatedRoute) {\n        this.route.params.subscribe( params => {\n            this.requestedStudy = params['id'];\n            if(params['tab'] == 'files'){\n                this.requestedTab = 5\n                this.tab = \"files\";\n            }else if(params['tab'] == 'metabolites'){\n                this.requestedTab = 4\n                this.tab = \"metabolites\";\n            }else if(params['tab'] == 'assays'){\n                this.requestedTab = 3\n                this.tab = \"assays\";\n            }else if(params['tab'] == 'samples'){\n                this.requestedTab = 2\n                this.tab = \"samples\";\n            }else if(params['tab'] == 'protocols'){\n                this.requestedTab = 1\n                this.tab = \"protocols\";\n            }else{\n                this.requestedTab = 0\n                this.tab = \"descriptors\";\n            }\n        });\n    }\n\n    ngOnInit() {\n        if(this.ngRedux.getState().status['user'] != null){\n            this.ngRedux.dispatch({ type: 'ENABLE_LOADING' })\n            this.ngRedux.dispatch({ type: 'SET_LOADING_INFO', body: {\n                'info': 'Loading study validations' \n            }})\n            // Synchronous\n            this.metabolightsService.getValidations()\n            .subscribe( validations => {\n                this.ngRedux.dispatch({ type: 'SET_LOADING_INFO', body: {\n                    'info': 'Loading study details' \n                }})\n                this.metabolightsService.getStudy(this.requestedStudy)\n                .subscribe(\n                    study => {\n                        this.ngRedux.dispatch({ type: 'SET_CONFIGURATION', body: {\n                            'configuration': study.isaInvestigation.comments\n                        }})\n                        this.ngRedux.dispatch({ type: 'LOAD_VALIDATION_RULES', body: {\n                            'study': study,\n                            'validations': validations\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_IDENTIFIER', body: {\n                            'study': study\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_TITLE', body: {\n                            'title': study.isaInvestigation.studies[0].title\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_ABSTRACT', body: {\n                            'description': study.isaInvestigation.studies[0].description\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_SUBMISSION_DATE', body: {\n                            'study': study\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_RELEASE_DATE', body: {\n                            'study': study\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_PUBLICATIONS', body: {\n                            'study': study\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_PEOPLE', body: {\n                            'study': study\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_DESIGN_DESCRIPTORS', body: {\n                            'studyDesignDescriptors': study.isaInvestigation.studies[0].studyDesignDescriptors\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_FACTORS', body: {\n                            'factors': study.isaInvestigation.studies[0].factors\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_PROTOCOLS', body: {\n                            'protocols': study.isaInvestigation.studies[0].protocols\n                        }})\n                        this.ngRedux.dispatch({ type: 'SET_STUDY_PROCESS_SEQUENCE', body: {\n                            'processSequence': study.isaInvestigation.studies[0].processSequence\n                        }})\n\n                        let organisms = []\n                        this.metabolightsService.getStudyFiles().subscribe( data => {\n                          data.studyFiles.forEach( file => {\n                            if(file.type.indexOf('metadata') > -1){\n                              if(file.file.indexOf('s_') == 0 && file.status == 'active'){\n                                this.metabolightsService.getSamplesTable(file.file).subscribe(data => { \n                                    let columns = []\n                                    Object.keys(data.sampleHeader).forEach( key => {\n                                        if(key.indexOf(\"Term Accession Number\") < 0 && key.indexOf(\"Term Source REF\") < 0){\n                                            let fn = \"element['\"+ key +\"']\"\n                                            columns.push({\n                                                \"columnDef\": key,\n                                                \"sticky\": \"false\",\n                                                \"header\": key,\n                                                \"cell\": (element) => eval(fn)\n                                            })\n                                        }\n                                    })\n                                    let displayedColumns = columns.map( a => { return a.columnDef } )\n                                    displayedColumns.unshift(\"Select\")\n                                    displayedColumns.sort(function(a, b){  \n                                        return parseInt(data.sampleHeader[a]) - parseInt(data.sampleHeader[b]);\n                                    });\n                                    data['columns'] = columns;\n                                    data['displayedColumns'] = displayedColumns;\n                                    data['file'] = file.file;\n\n                                    let organisms = {}\n                                    data.sampleData.rows.forEach (row =>{\n                                        let organismName = row['Characteristics[Organism]'].replace(/^[ ]+|[ ]+$/g,'')\n                                        let organismPart = row['Characteristics[Organism part]']\n                                        let organismVariant = row['Characteristics[Variant]']\n                                        if(organismName != '' && organismName.replace(\" \", '') != ''){\n                                            if(organisms[organismName] == null){\n                                                organisms[organismName] = {\n                                                    \"parts\" : [],\n                                                    \"variants\" : []\n                                                }\n                                            }else{\n                                                if(organisms[organismName]['parts'].indexOf(organismPart) < 0){organisms[organismName]['parts'].push(organismPart)}\n                                                if(organisms[organismName]['variants'].indexOf(organismVariant) < 0){organisms[organismName]['variants'].push(organismVariant)}\n                                            }\n                                        }\n                                    })\n                                    this.ngRedux.dispatch({ type: 'SET_STUDY_ORGANISMS', body: {\n                                        'organisms': organisms\n                                    }})\n                                    this.ngRedux.dispatch({ type: 'SET_STUDY_SAMPLES_TABLE', body: {\n                                        'samplesTable': data\n                                    }})\n                                })\n                              }\n                            }\n                            if(file.file.indexOf('a_') == 0 && file.status == 'active'){\n                                this.metabolightsService.getAssayTable(file.file).subscribe(data => {\n                                    let columns = []\n                                    Object.keys(data.assayHeader).forEach( key => {\n                                        let fn = \"element['\"+ key +\"']\"\n                                        columns.push({\n                                            \"columnDef\": key,\n                                            \"sticky\": \"false\",\n                                            \"header\": key,\n                                            \"cell\": (element) => eval(fn)\n                                        })\n                                    })\n                                    let displayedColumns = columns.map( a => { return a.columnDef } )\n                                    displayedColumns.unshift(\"Select\")\n\n                                    displayedColumns.sort(function(a, b){  \n                                        return parseInt(data.assayHeader[a]) - parseInt(data.assayHeader[b]);\n                                    });\n                                    data['columns'] = columns;\n                                    data['displayedColumns'] = displayedColumns;\n                                    this.ngRedux.dispatch({ type: 'ADD_STUDY_ASSAY_TABLE', body: {\n                                        'assayTable': data,\n                                        'assay': file.file\n                                    }})\n\n                                    this.ngRedux.dispatch({ type: 'ADD_MAF', body: {\n                                        'maf': this.getMAFData(data,  file.file)\n                                    }})\n                                })\n                            }\n                          })\n                        })\n\n                        this.ngRedux.dispatch({ type: 'TOGGLE_LOADING' })\n                        this.selectCurrentTab(this.requestedTab, this.tab)\n                    })\n            })\n        }\n    }\n\n    selectCurrentTab(index, tab){\n        this.ngRedux.dispatch({ type: 'SET_TAB_INDEX', body: {\n            'currentTabIndex': index\n        }})\n        let urlSplit = window.location.pathname.replace(/\\/$/, \"\").split(\"/\").filter(n => n);\n        if(urlSplit.length >= 3){\n            if(urlSplit[urlSplit.length - 1].indexOf(\"MTBLS\") < 0){\n                urlSplit.pop();\n            }\n        }\n        window.history.pushState(\"\", \"\", window.location.origin + \"/\" + urlSplit.join(\"/\") + \"/\" + tab);\n    }\n\n    getMAFData(assay, assayFileName){\n        let mafFiles = []\n        assay.assayData.rows.forEach( row => {\n            if(mafFiles.indexOf(row['Metabolite Assignment File']) < 0){\n                mafFiles.push(row['Metabolite Assignment File']);\n            }\n        })    \n        let mafData = []\n        mafFiles.forEach( f => {\n            this.metabolightsService.getMAF(f).subscribe(data => {\n                let columns = []\n                Object.keys(data.mafHeader).forEach( key => {\n                    let fn = \"element['\"+ key +\"']\"\n                    columns.push({\n                        \"columnDef\": key.toLowerCase().split(\" \").join(\"_\"),\n                        \"sticky\": \"false\",\n                        \"header\": key,\n                        \"cell\": (element) => eval(fn)\n                    })\n                })\n                let displayedColumns = columns.map( a => { return a.columnDef } )\n                displayedColumns.unshift(\"Select\")\n                displayedColumns.sort(function(a, b){  \n                    return parseInt(data.mafHeader[a]) - parseInt(data.mafHeader[b]);\n                });\n                mafData.push({ 'assay' : assayFileName, 'file': f, 'data': data.mafData.rows, 'columnOrder': {}, 'columns' : columns, 'displayedColumns': displayedColumns  });\n            })\n        })\n        return mafData;\n    }\n}\n","module.exports = \"\"","module.exports = \"<div class=\\\"hover-highlight px-20 mtbls-section\\\">\\n  <b><small class=\\\"has-text-grey\\\">TITLE</small></b>\\n  <h2 class=\\\"title is-3\\\">\\n    <b>\\n      <!-- <span class=\\\"identifier\\\">\\n        {{ studyIdentifier | async }}:\\n      </span>  -->\\n      <span [innerHTML]='value' class=\\\"clickable\\\" (click)='openModal()'></span>\\n   </b>\\n </h2>\\n</div>\\n<div class=\\\"modal\\\" [ngClass]=\\\"{'is-active': isModalOpen}\\\">\\n  <form *ngIf=\\\"form\\\" [formGroup]=\\\"form\\\">\\n    <div class=\\\"modal-background\\\"></div>\\n    <div class=\\\"modal-card vw80\\\">\\n      <div *ngIf=\\\"isFormBusy\\\" class=\\\"load-bar\\\">\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n        <div class=\\\"bar\\\"></div>\\n      </div>\\n      <section class=\\\"modal-card-body\\\">\\n        <div class=\\\"field is-horizontal\\\">\\n          <div class=\\\"field-body\\\">\\n            <div class=\\\"field\\\">\\n              <div class=\\\"control\\\">\\n                <mat-form-field class=\\\"full-width\\\">\\n                  <mat-label>Study title</mat-label>\\n                  <textarea class=\\\"no-scroll\\\" \\n                  formControlName=\\\"title\\\"\\n                  matInput\\n                  [placeholder]=\\\"validation.placeholder\\\" \\n                  cdkAutosizeMinRows=\\\"20\\\"\\n                  cdkAutosizeMaxRows=\\\"30\\\"\\n                  cdkTextareaAutosize>\\n                </textarea>\\n                <mat-hint>{{ validation.description }}</mat-hint>\\n                <mat-error\\n                *ngIf=\\\"form.get('title').errors &&\\n                form.get('title').dirty &&\\n                form.get('title').errors.title\\\">\\n                {{ form.get('title').errors.title.error }}\\n              </mat-error>\\n            </mat-form-field>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </section>\\n  <footer class=\\\"modal-card-foot buttons is-right\\\">\\n    <button *ngIf=\\\"form.get('title').dirty\\\" [disabled]=\\\"!form.valid || isFormBusy\\\" (click)='save()' class=\\\"button is-info\\\">\\n      <mat-spinner [diameter]=\\\"20\\\" [strokeWidth]=\\\"3\\\" *ngIf=\\\"isFormBusy\\\"></mat-spinner>\\n      Save\\n    </button>\\n    <button *ngIf=\\\"!form.get('title').dirty\\\" (click)='closeModal()' class=\\\"button is-info\\\">OK</button>\\n    <button class=\\\"button\\\" [disabled]=\\\"isFormBusy\\\" (click)='closeModal()'>Cancel</button>\\n  </footer>\\n</div>\\n</form>\\n</div>\"","import { Component, OnInit, Input, Inject, OnChanges, SimpleChanges } from '@angular/core';\nimport { IAppState } from '../../../store';\nimport { NgRedux } from '@angular-redux/store';\nimport { MetabolightsService } from '../../../services/metabolights/metabolights.service';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { ValidateStudyTitle } from './title.validator';\nimport * as toastr from 'toastr';\n\n@Component({\n  selector: 'mtbls-title',\n  templateUrl: './title.component.html',\n  styleUrls: ['./title.component.css']\n})\nexport class TitleComponent implements OnChanges, OnInit {\n\n\t@Input('value') value: string;\n\t@Input('validations') studyValidations: any;\n\n  form: FormGroup;\n  isFormBusy: boolean = false;\n\n  private validationsId = 'title';\n\n\tisModalOpen: boolean = false;\n\n\tconstructor( private fb: FormBuilder, private metabolightsService: MetabolightsService, private ngRedux: NgRedux<IAppState>) { \n  }\n\n\tngOnInit() {\n\t}\n\n\topenModal() {\n    this.initialiseForm()\n\t\tthis.isModalOpen = true\n\t}\n\n  initialiseForm() {\n    this.isFormBusy = false;\n    this.form = this.fb.group({\n      title:  [ this.value, ValidateStudyTitle(this.validation)]\n    });\n  }\n\n\tcloseModal() {\n\t\tthis.isModalOpen = false\n\t}\n\n  save() {\n    this.isFormBusy = true;\n    this.metabolightsService.saveTitle(this.compileBody(this.form.get('title').value)).subscribe( res => {\n      this.ngRedux.dispatch({ type: 'SET_STUDY_TITLE', body: res})\n      this.form.get('title').setValue(res.title)\n      this.form.markAsPristine()\n      this.isFormBusy = false;\n\n      toastr.success('Title updated.', \"Success\", {\n          \"timeOut\": \"2500\",\n          \"positionClass\": \"toast-top-center\",\n          \"preventDuplicates\": true,\n          \"extendedTimeOut\": 0,\n          \"tapToDismiss\": false\n      })\n\n    }, err => {\n      this.isFormBusy = false\n    });\n  }\n\n  compileBody(title) {\n    return {\n      'title': title,\n    }\n  }\n\n  get validation() {\n    return this.studyValidations[this.validationsId];\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.value != undefined){\n      this.value = changes.value.currentValue\n    }\n    if (changes.studyValidations != undefined)\n      this.studyValidations = changes.studyValidations.currentValue\n  }\n}\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\n\nexport function ValidateStudyTitle(validation: any): ValidatorFn {\n    return (control: AbstractControl): { [key: string]: any } | null => {\n\n    \tlet value = control.value;\n    \tlet invalid = false;\n    \tlet errorMessage = \"\";\n\n    \tvalidation.rules.forEach( rule => {\n\n    \t\tswitch(rule.condition) { \n\t\t\t   case \"min\": { \n\t\t\t      if (value.toString().length < rule.value){\n\t\t\t      \tinvalid = true\n\t\t\t      \terrorMessage = errorMessage + rule.error\n\t\t\t      }\n\t\t\t      break; \n\t\t\t   } \n\t\t\t} \n    \t\t\n    \t})\n\n        if (invalid) {\n            return { 'title': { 'error': errorMessage} };\n        }\n        return null;\n    };\n}","import { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSColumn {\n\t@JsonProperty(\"name\", String)\n\tname: string = ''\n\n\t@JsonProperty(\"value\")\n\tvalue: any = ''\n\n\t@JsonProperty(\"index\", Number)\n\tindex: number = null\n\n\tconstructor(name, value, index){\n\t\tthis.name = name;\n\t\tthis.value = value;\n\t\tthis.index = index;\n\t}\t\n\n\ttoJSON () {\n\t\treturn {\n\t\t\t\"name\": this.name,\n\t\t\t\"value\": this.value,\n\t\t\t\"index\": this.index\n\t\t}\n\t}\n}\n","import { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSComment {\n\t@JsonProperty(\"name\", String)\n\tname: string = ''\n\n\t@JsonProperty(\"value\")\n\tvalue: any = ''\n\n\ttoJSON () {\n\t\tif (this.name != '' || this.name != null){\n\t\t\treturn {\n\t\t\t\t\"name\": this.name,\n\t\t\t\t\"value\": JSON.stringify(this.value)\n\t\t\t}\n\t\t}\n\t}\n}\n","import { MTBLSComment } from './mtbls-comment';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class OntologySourceReference{\n    @JsonProperty(\"description\", String)\n\tdescription: string = ''\n\n    @JsonProperty(\"file\", String)\n\tfile: string = ''\n\n    @JsonProperty(\"name\", String)\n\tname: string = ''\n\n    @JsonProperty(\"version\", String)\n\tversion: string = ''\n\n    @JsonProperty(\"comments\", [MTBLSComment])\n\tcomments: MTBLSComment[] = []\n\n\ttoJSON() {\n        if (this.name == '' || this.name == null){\n              return null\n        }else{\n            return {\n                \"comments\": this.comments.map(a => a.toJSON()),\n                \"description\": this.description,\n                \"file\": this.file,\n                \"name\": this.name,\n                \"version\": this.version\n            }\n        }\n    }\n}\n","import { MTBLSComment } from './mtbls-comment';\nimport { OntologySourceReference } from './mtbls-ontology-reference';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class Ontology{\n    @JsonProperty(\"comments\", [MTBLSComment])\n\tcomments: MTBLSComment[] = []\n    \n    @JsonProperty(\"termAccession\", String)\n    termAccession: string = ''\n\n    @JsonProperty(\"annotationValue\", String)\n    annotationValue: string = '';\n\n    @JsonProperty(\"termSource\", OntologySourceReference)\n    termSource: OntologySourceReference = undefined;\n\n\ttoJSON() {\n    \treturn {\n            \"comments\": this.comments.map(a => a.toJSON()),\n            \"termAccession\": this.termAccession,\n            \"annotationValue\": this.annotationValue,\n            \"termSource\": this.termSource ? this.termSource.toJSON() : null\n        }\n    }\n}\n","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSCharacterstic{\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"unit\")\n\tunit : any = null;\n\t\n\t@JsonProperty(\"category\", Ontology)\n\tcategory: Ontology = null;\n\n\t@JsonProperty(\"value\")\n\tvalue: any = null;\n\t\n\ttoJSON() {\n    \treturn {\n    \t\t\"comments\": this.comments.map(a => a.toJSON()),\n\t\t\t\"unit\": this.unit,\n\t\t\t\"category\": this.category ? this.category.toJSON() : null,\n\t\t\t\"value\": this.value ? this.value : \"\",\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { MTBLSFactor } from './mtbls-factor';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSFactorValue{\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"unit\", Ontology)\n\tunit : Ontology = null;\n\t\n\t@JsonProperty(\"category\", MTBLSFactor)\n\tcategory: MTBLSFactor = null;\n\n\t@JsonProperty(\"value\")\n\tvalue: any = null;\n\t\n\ttoJSON() {\n    \treturn {\n    \t\t\"comments\": this.comments.map(a => a.toJSON()),\n\t\t\t\"unit\": this.unit ? this.unit : null,\n\t\t\t\"category\": this.category ? this.category.toJSON() : null,\n\t\t\t\"value\": this.value ? this.value : null,\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSFactor{\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"factorName\", String)\n\tfactorName : string = '';\n\t\n\t@JsonProperty(\"factorType\", Ontology)\n\tfactorType: Ontology = null;\n\n\ttoJSON() {\n    \treturn {\n            \"comments\": this.comments.map(a => a.toJSON()),\n            \"factorName\": this.factorName,\n            \"factorType\": this.factorType ? this.factorType.toJSON() : \"\"\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSPerson{\n\n    @JsonProperty(\"comments\", [MTBLSComment])\n\tcomments: MTBLSComment[] = []\n\n    @JsonProperty(\"firstName\", String)\n    firstName: string = ''\n\n    @JsonProperty(\"lastName\", String)\n    lastName:string = ''\n    \n    @JsonProperty(\"email\", String)\n    email: string = ''\n\n    @JsonProperty(\"affiliation\", String)\n    affiliation: string = ''\n\n    @JsonProperty(\"address\", String)\n    address: string = ''\n\n    @JsonProperty(\"fax\", String)\n    fax: string = ''\n\n    @JsonProperty(\"midInitials\", String)\n    midInitials: string = ''\n\n    @JsonProperty(\"phone\", String)\n    phone: string = ''\n\n    @JsonProperty(\"roles\", String)\n    roles: Ontology[] = []\n\n    toJSON() {\n    \treturn {\n            \"comments\": this.comments.map(a => a.toJSON()),\n            \"firstName\": this.firstName,\n            \"lastName\": this.lastName,\n            \"email\": this.email,\n            \"affiliation\": this.affiliation,\n            \"address\": this.address,\n            \"fax\": this.fax,\n            \"midInitials\": this.midInitials,\n            \"phone\": this.phone,\n            \"roles\": this.roles.map(a => a.toJSON())\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { MTBLSProtocol } from './mtbls-protocol';\nimport { MTBLSSource } from './mtbls-source';\nimport { MTBLSSample } from './mtbls-sample';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSProcessSequence{\n\n    @JsonProperty(\"comments\", [MTBLSComment])\n\tcomments: MTBLSComment[] = []\n\n    @JsonProperty(\"name\", String)\n    name: string = ''\n\n    @JsonProperty(\"inputs\", [MTBLSSource])\n    inputs: MTBLSSource[] = []\n\n    @JsonProperty(\"outputs\", [MTBLSSample])\n    outputs: MTBLSSample[] = []\n\n    @JsonProperty(\"executesProtocol\", MTBLSProtocol)\n    executesProtocol: MTBLSProtocol = null\n\n    @JsonProperty(\"parameterValues\")\n    parameterValues: any[] = []\n\n    @JsonProperty(\"performer\")\n    performer: any = null\n\n    @JsonProperty(\"previousProcess\", MTBLSProcessSequence)\n    previousProcess: MTBLSProcessSequence = null\n\n    @JsonProperty(\"nextProcess\", MTBLSProcessSequence)\n    nextProcess: MTBLSProcessSequence = null\n\n    toJSON() {\n    \treturn {\n            \"comments\": this.comments.map(a => a.toJSON()),\n            \"name\": this.name,\n            \"inputs\": this.inputs.map(a => a.toJSON()),\n            \"outputs\": this.outputs.map(a => a.toJSON()),\n            \"executesProtocol\": this.executesProtocol ? this.executesProtocol.toJSON() : null,\n            \"parameterValues\": this.parameterValues.map(a => a.toJSON()),\n            \"performer\": this.performer ? this.performer.toJSON() : null,\n            \"previousProcess\": this.previousProcess ? this.previousProcess.toJSON() : null,\n            \"nextProcess\": this.nextProcess ? this.nextProcess.toJSON() : null,\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class ProtocolParameter{\n\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"parameterName\", Ontology)\n\tparameterName: Ontology = null;\n\t\n\ttoJSON() {\n    \treturn {\n            \"comments\": this.comments.map(a => a.toJSON()),\n            \"parameterName\": this.parameterName ? this.parameterName.toJSON() : null\n        }\n    }\n}\n\n@JsonObject\nexport class MTBLSProtocol{\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"name\", String)\n\tname : string = '';\n\t\n\t@JsonProperty(\"description\", String)\n\tdescription : string = '';\n\t\n\t@JsonProperty(\"uri\", String)\n\turi : string = '';\n\n\t@JsonProperty(\"version\", String)\n\tversion: string = '';\n\n\t@JsonProperty(\"protocolType\", Ontology)\n\tprotocolType: Ontology = null;\n\n\t@JsonProperty(\"parameters\", [ProtocolParameter])\n\tparameters: ProtocolParameter[] = [];\n\n\t@JsonProperty(\"components\", [Ontology])\n\tcomponents: Ontology[] = [];\n\n\ttoJSON() {\n    \treturn {\n            \"comments\": this.comments.map(a => a.toJSON()),\n            \"name\": this.name,\n            \"description\": this.description,\n            \"uri\": this.uri,\n            \"version\": this.version,\n            \"protocolType\": this.protocolType ? this.protocolType.toJSON() : null,\n            \"parameters\": this.parameters.map(a => a.toJSON()),\n            \"components\": this.components.map(a => a.toJSON()),\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSPublication{\n\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[];\n\t\n\t@JsonProperty(\"title\", String)\n\ttitle : string = '';\n\n\t@JsonProperty(\"authorList\", String)\n\tauthorList : string = '';\n\n\t@JsonProperty(\"doi\", String)\n\tdoi : string = '';\n\n\t@JsonProperty(\"pubMedID\", String)\n\tpubMedID: string = '';\n\n\t@JsonProperty(\"status\", Ontology)\n\tstatus: Ontology = null;\n\n\ttoJSON() {\n\t\treturn {\n\t\t\t\"comments\": this.comments.map(a => a.toJSON()),\n\t\t\t\"title\": this.title,\n\t\t\t\"authorList\": this.authorList,\n\t\t\t\"doi\": this.doi,\n\t\t\t\"pubMedID\": this.pubMedID,\n\t\t\t\"status\": this.status ? this.status.toJSON() : null\n\t\t}\n\t}\n}\n","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\nimport { MTBLSSource } from './mtbls-source';\nimport { MTBLSFactorValue } from './mtbls-factor-value';\nimport { MTBLSCharacterstic } from './mtbls-characterstic';\n\n\n@JsonObject\nexport class MTBLSSample{\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"name\", String)\n\tname : string = '';\n\t\n\t@JsonProperty(\"characteristics\", [MTBLSCharacterstic])\n\tcharacteristics : MTBLSCharacterstic[] = [];\n\t\n\t@JsonProperty(\"derivesFrom\", [MTBLSSource])\n\tderivesFrom : MTBLSSource[] = [];\n\n\t@JsonProperty(\"factorValues\", [MTBLSFactorValue])\n\tfactorValues: MTBLSFactorValue[] = [];\n\n\ttoJSON() {\n    \treturn {\n    \t\t\"comments\": this.comments.map(a => a.toJSON()),\n\t\t\t\"name\": this.name,\n\t\t\t\"characteristics\": this.characteristics.map(a => a.toJSON()),\n\t\t\t\"derivesFrom\": this.derivesFrom.map(a => a.toJSON()),\n\t\t\t\"factorValues\": this.factorValues.map(a => a.toJSON())\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { Ontology } from './common/mtbls-ontology';\nimport { MTBLSCharacterstic } from './mtbls-characterstic';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSSource{\n\t@JsonProperty(\"comments\", [MTBLSComment])\n\tcomments : MTBLSComment[] = [];\n\n\t@JsonProperty(\"name\", String)\n\tname : string = '';\n\t\n\t@JsonProperty(\"characteristics\", [MTBLSCharacterstic])\n\tcharacteristics : MTBLSCharacterstic[] = [];\n\t\n\ttoJSON() {\n    \treturn {\n    \t\t\"comments\": this.comments.map(a => a.toJSON()),\n            \"name\": this.name,\n            \"characteristics\": this.characteristics.map(a => a.toJSON())\n        }\n    }\n}","import { MTBLSComment } from './common/mtbls-comment';\nimport { MTBLSPublication } from './mtbls-publication';\nimport { MTBLSPerson } from './mtbls-person';\nimport { MTBLSSample } from './mtbls-sample';\nimport { MTBLSAssay } from './mtbls-assay';\nimport { MTBLSProtocol } from './mtbls-protocol';\nimport { MTBLSFactor } from './mtbls-factor';\nimport { MTBLSProcessSequence } from './mtbls-process-sequence';\nimport { Ontology } from './common/mtbls-ontology';\nimport { JsonObject, JsonProperty } from \"json2typescript\";\n\n@JsonObject\nexport class MTBLSStudy{\n  comments : MTBLSComment[];\n  configuration: string;\n  organisms: any = {};\n  identifier : string;\n  title : string;\n  description : string;\n  submissionDate : Date;\n  releaseDate : Date;\n  units : any[];\n  publications: MTBLSPublication[];\n  people: MTBLSPerson[];\n  processSequence: MTBLSProcessSequence[];\n  validations: any;\n  studyDesignDescriptors: Ontology[] = [];\n  factors: MTBLSFactor[];\n  protocols: MTBLSProtocol[];\n  samples: MTBLSSample[];\n  assays: MTBLSAssay[] = [];\n  assayTables: any = {};\n  samplesTable: any = {};\n  metaboliteAnnotationFiles: any[] = [];\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'reverse'\n})\nexport class ReversePipe implements PipeTransform{\n  transform(value) {\n    return value.slice().reverse();\n  }\n}","import { BadInput } from './error/bad-input';\nimport { NotFoundError } from './error/not-found-error';\nimport { ForbiddenError } from './error/forbidden-error';\nimport { InternalServerError } from './error/internal-server-error';\nimport { AppError } from './error/app-error';\nimport { Http } from '@angular/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { IAppState } from './../store';\nimport { NgRedux } from '@angular-redux/store';\nimport { Router } from '@angular/router';\n\nexport class DataService {\n  constructor(public url: any, public http: Http) { }\n\n  // getAll() {\n  //   return this.http.get(this.url).pipe(\n  //       map(res => res.json()),\n  //       catchError(this.handleError)\n  //     );\n  // }\n\n  // create(resource) {\n  //   return this.http.post(this.url, JSON.stringify(resource)).pipe(\n  //       map(res => res.json()),\n  //       catchError(this.handleError)\n  //     );\n  // }\n\n  // update(resource) {\n  //   return this.http.patch(this.url + '/' + resource.id, JSON.stringify(resource)).pipe(\n  //       map(res => res.json()),\n  //       catchError(this.handleError)\n  //     );\n  // }\n\n  // delete(id) {\n  //   return this.http.delete(this.url + '/' + id).pipe(\n  //       map(res => res.json()),\n  //       catchError(this.handleError)\n  //     );\n  // }\n\n  public handleError(error: Response) {\n    if (error.status === 400)\n      return throwError(new BadInput(error));\n  \n    if (error.status === 403)\n      return throwError(new ForbiddenError(error));\n\n    if (error.status === 404)\n      return throwError(new NotFoundError(error));\n\n    if (error.status === 500){\n      return throwError(new InternalServerError(error));\n    }\n    \n    return throwError(new AppError(error));\n  }\n}\n","import * as toastr from 'toastr';\nexport class AppError {\n\tconstructor(error: any){\n\t\tconsole.log(error)\n\t\tlet errorMessage = error.json().message ? error.json().message : 'Could not connect to MetaboLights. We will keep trying to connect but there may be a problem with your connection.'\n    \tlet errorStatus = error.statusText ? error.statusText : ''\n\t\ttoastr.warning( errorMessage, errorStatus, {\n\t      \"timeOut\": \"0\",\n\t      \"positionClass\": \"toast-top-center\",\n\t\t\t\t\"preventDuplicates\": true,\n\t\t\t\t\"extendedTimeOut\": 0\n\t    })\n\t}\t\n}","import * as toastr from 'toastr';\n\nexport class BadInput {\n\tconstructor(error: any){\n\t\tlet errorMessage = error.json().message ? error.json().message : 'Bad request input error'\n\t    let errorStatus = error.statusText ? error.statusText : ''\n\t\ttoastr.warning( errorMessage, errorStatus, {\n\t    \t\"timeOut\": \"0\",\n\t      \t\"positionClass\": \"toast-top-center\",\n\t\t\t\"preventDuplicates\": true,\n\t\t\t\"extendedTimeOut\": 0,\n\t\t\t\"tapToDismiss\": true\n\t    })\n\t}\t\n}","import * as toastr from 'toastr';\nexport class ForbiddenError {\n\tconstructor(error: any){\n\t\ttoastr.warning(error.json().message, '', {\n            \"timeOut\": \"0\",\n            \"positionClass\": \"toast-top-center\",\n  \t\t\t\"preventDuplicates\": true,\n  \t\t\t\"extendedTimeOut\": 0,\n  \t\t\t\"tapToDismiss\": true\n        })\n\t}\t\n}","import * as toastr from 'toastr';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IAppState } from './../../store';\nimport { NgRedux } from '@angular-redux/store';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InternalServerError {\n\tconstructor(error: any){\n\t\ttoastr.warning(error.json().message + ' <a href=\"mailto:metabolights-help@ebi.ac.uk\">Contact us</a> if the problem persist.', \"\", {\n            \"timeOut\": \"0\",\n            \"positionClass\": \"toast-bottom-right\",\n  \t\t\t\"preventDuplicates\": true,\n  \t\t\t\"extendedTimeOut\": 0\n        })\n\t}\t\n}","import * as toastr from 'toastr';\n\nexport class NotFoundError {\n\tconstructor(error: any){\n\t\ttoastr.warning(error.json().message + ' <a href=\"mailto:metabolights-help@ebi.ac.uk\">Contact us</a> if the problem persist.', \"\", {\n            \"timeOut\": \"0\",\n            \"positionClass\": \"toast-top-center\",\n  \t\t\t\"preventDuplicates\": true,\n  \t\t\t\"extendedTimeOut\": 0,\n  \t\t\t\"tapToDismiss\": false\n        })\n\t}\t\t\n}","import { isDevMode } from '@angular/core';\n\nvar metaboLightsDomain = \"\";\n\nif (!isDevMode()){\n\tmetaboLightsDomain = \"https://wwwdev.ebi.ac.uk/\";\n}else{\n\t// metaboLightsDomain = \"http://172.23.49.32:5005/\";\n\t metaboLightsDomain = \"https://wwwdev.ebi.ac.uk/\";\n}\n\nexport const MetaboLightsWSURL \t\t\t= {};\nMetaboLightsWSURL['domain']\t\t\t\t\t= metaboLightsDomain + \"metabolights/\"\nMetaboLightsWSURL['baseURL']\t\t\t= metaboLightsDomain + \"metabolights/swagger/ws\"\nMetaboLightsWSURL['studiesList'] \t\t= MetaboLightsWSURL['baseURL'] + '/studies';\nMetaboLightsWSURL['study'] \t\t\t\t= MetaboLightsWSURL['baseURL'] + '/studies';\nMetaboLightsWSURL['validations'] \t\t= \"assets/configs/config20180618/validations.json\";\n\n\nexport const DOIWSURL \t\t\t\t\t= {};\nDOIWSURL['article']\t\t\t\t\t\t= \"https://api.crossref.org/works/\"\n\n\nexport const EuropePMCURL \t\t\t\t= {};\nEuropePMCURL['article']\t\t\t\t\t= \"https://www.ebi.ac.uk/europepmc/webservices/rest/search?query=<term>&format=json&resultType=core\"\n\n\nexport const AuthenticationURL \t\t\t= {};\nAuthenticationURL['login']\t\t\t\t= \"//wwwdev.ebi.ac.uk/metabolights/webservice/labs/authenticate\"\nAuthenticationURL['initialise']\t\t\t= \"//wwwdev.ebi.ac.uk/metabolights/webservice/labs-workspace/initialise\";\nAuthenticationURL['studiesList']\t\t\t= \"//wwwdev.ebi.ac.uk/metabolights/webservice/study/myStudies\";\n","import { Headers } from '@angular/http';\n\nexport const contentHeaders = new Headers();\ncontentHeaders.append('Accept', 'application/json');\n// contentHeaders.append('Content-Type', 'application/json');\ncontentHeaders.append('user_token', '');","import { Injectable } from '@angular/core';\nimport { contentHeaders } from './../headers';\nimport { AuthenticationURL } from './../globals';\nimport { Router } from '@angular/router';\nimport { Http, Response, Headers } from '@angular/http';\nimport { NgRedux } from '@angular-redux/store';\nimport { IAppState } from './../../store';\nimport { catchError, map, tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService{\n\n\tconstructor(public router: Router, public http: Http, private ngRedux: NgRedux<IAppState>) {\n\t}\n\n\tisLoggedIn: boolean = false;\n\tredirectUrl: string = '/console';\n\terrorMessage: string;\n\n\tlogin(body): void {\n\t\tthis.http.post(AuthenticationURL['login'], body, { headers: contentHeaders })\n\t\t\t.subscribe((response) => {\n\t\t\t\tlet body = {\n\t\t\t\t\t\"jwt\" : response.headers.get(\"jwt\"),\n\t\t\t\t\t\"user\" : response.headers.get(\"user\")\n\t\t\t\t}\n\t\t\t\tthis.http.post(AuthenticationURL['initialise'], body, { headers: contentHeaders })\n\t\t\t\t\t.subscribe((response) => {\n\t\t\t\t\t\tlet body = JSON.parse(response.json().content);\n\t\t\t\t\t\tlet user = body.owner\n\t\t\t\t\t\tthis.ngRedux.dispatch({ type: 'SET_USER', body: {\n\t\t\t\t            'user': user\n\t\t\t\t        }})\n\t\t\t\t        localStorage.setItem('user', JSON.stringify(user));\n\t\t\t\t        contentHeaders.set('user_token', user.apiToken);\n\t\t\t\t        this.router.navigate([this.redirectUrl]);\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tconsole.log(error.text());\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tconsole.log(error.text());\n\t\t\t}\n\t\t);\n\t}\n\n\tlogout(): void {\n\t\tlocalStorage.removeItem('user');\n\t\tthis.router.navigate(['login']);\n\t}\n\n\t// Studies list\n    getUserStudies() {\n    \tif(contentHeaders['api_token'] != ''){\n\t        return this.http.get(AuthenticationURL['studiesList'], { headers: contentHeaders }).pipe(\n\t\t        map(res => res.json())\n\t    \t);\n    \t}\n    }\n}","import { environment } from './../../../environments/environment';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { MetaboLightsWSURL } from './../globals';\nimport { contentHeaders } from './../headers';\nimport { DataService } from './../data.service';\nimport { NgRedux, select } from '@angular-redux/store';\nimport { IAppState } from './../../store';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MetabolightsService extends DataService{\n  @select(state => state.study.identifier) studyIdentifier;\n  id: string;\n\n\tconstructor(http: Http, ngRedux: NgRedux<IAppState>, router: Router) {\n  \tsuper(MetaboLightsWSURL, http);\n    this.studyIdentifier.subscribe(value => this.id = value)\n  }\n\n  info() {\n    return this.http.get(this.url.baseURL, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n    // Studies list\n   getAllStudies() {\n    return this.http.get(this.url.studiesList, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study ISA object\n  getStudy(id) {\n    return this.http.get(this.url.studiesList + \"/\" + id, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study files\n  getStudyFiles() {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/isa-tab/study_files\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  downloadFile(name) {\n    return this.http.get(this.url.studiesList+\"/download/\"+name, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n\n  uploadFile(files) {\n    return this.http.get(this.url.studiesList+\"/upload\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study validation details\n  getValidations() {\n    return this.http.get( this.url.validations ).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study title\n  saveTitle(body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/title\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study abstract\n  saveAbstract(body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/description\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study people\n  getPeople() {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/contacts\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  savePerson(body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/contacts\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updatePerson(email, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/contacts?email=\" + email, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deletePerson(email) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/contacts?email=\" + email, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study Ontology\n  getOntologyTerms(url){\n    return this.http.get(url, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study Publications\n  getPublications() {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/publications\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  savePublication(body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/publications\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updatePublication(title, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/publications?title=\" + title, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deletePublication(title) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/publications?title=\" + title, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study Protocols\n  getProtocols() {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/protocols\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  saveProtocol(body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/protocols\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updateProtocol(title, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/protocols?name=\" + title, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deleteProtocol(title) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/protocols?name=\" + title, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study design descriptors\n  getDesignDescriptors() {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/descriptors\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  saveDesignDescriptor(body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/descriptors\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updateDesignDescriptor(annotationValue, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/descriptors?term=\" + annotationValue, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deleteDesignDescriptor(annotationValue) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/descriptors?term=\" + annotationValue, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study factors\n  getFactors() {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/factors\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  saveFactor(body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/factors\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updateFactor(factorName, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/factors?name=\" + factorName, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deleteFactor(factorName) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/factors?name=\" + factorName, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study process sequences / Samples\n  getProcessSequences(){\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/processSequence?list_only=false\", { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  getSamplesTable(samples_file_name) {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/samples/\" + samples_file_name, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  saveSample(body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/samples\", body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  addSamples(file, body){\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/samples/\" + file, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deleteSamples(file, rows){\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/samples/\" + file + \"?row_num=\" + rows, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study assays\n  getAssayTable(assay_file_name) {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/assay/\" + assay_file_name, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  addAssayRow(assay_file_name, body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/assay/\" + assay_file_name, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updateAssayRow(assay_file_name, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/assay/\" + assay_file_name, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deleteAssayRow(assay_file_name, rowIds) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/assay/\" + assay_file_name + \"?row_num=\" + rowIds, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study MAF\n  getMAF(annotation_file_name) {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/maf/\" + annotation_file_name, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  getValidatedMAF(annotation_file_name, assay_file_name, technology) {\n    return this.http.get(this.url.studiesList + \"/\" + this.id + \"/maf/validated/\" + annotation_file_name + \"?assay_file_name=\" + assay_file_name + \"&technology=\" + technology, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  updateMAFEntry(annotation_file_name, body) {\n    return this.http.put(this.url.studiesList + \"/\" + this.id + \"/maf/\" + annotation_file_name, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  addMAFEntry(annotation_file_name, body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/maf/\" + annotation_file_name, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  deleteMAFEntries(annotation_file_name, rowIds) {\n    return this.http.delete(this.url.studiesList + \"/\" + this.id + \"/maf/\" + annotation_file_name + \"?row_num=\" + rowIds, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  search(term, type) {\n    return this.http.get(this.url.studiesList.replace(\"/studies\", \"\") + \"/maf/search/\" + type + \"?search_value=\" + term , { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n\n  // Study MAF\n  addColumns(filename, body) {\n    return this.http.post(this.url.studiesList + \"/\" + this.id + \"/addColumns/\" + filename, body, { headers: contentHeaders }).pipe(\n        map(res => res.json()),\n        catchError(this.handleError)\n    );\n  }\n}\n","import { environment } from './../../../environments/environment';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { DOIWSURL } from './../globals';\nimport { contentHeaders } from './../headers';\nimport { DataService } from './../data.service';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DOIService extends DataService{\n\tconstructor(http: Http) {\n  \tsuper(DOIWSURL, http);\n \t}\n\n  getArticleInfo(doi) {\n    return this.http.get(this.url.article + doi).pipe(\n        map(res => this.extractArticleDetails(res.json())),\n        catchError(this.handleError)\n    );\n  }\n\n\n  extractArticleDetails(data){\n  \treturn {\n  \t\t'title': data.message.title[0],\n  \t\t'authorList': data.message.author.map( author => author.family + ' ' + author.given ).join(', ')\n  \t}\n  }\n\n}\n","import { environment } from './../../../environments/environment';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { EuropePMCURL } from './../globals';\nimport { contentHeaders } from './../headers';\nimport { DataService } from './../data.service';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class EuropePMCService extends DataService{\n\tconstructor(http: Http) {\n\t\tsuper(EuropePMCURL, http);\n\t}\n\n\tgetArticleInfo(doi) {\n\t\treturn this.http.get(this.url.article.replace('<term>', doi)).pipe(\n\t\t\tmap(res => this.extractArticleDetails(res.json(), doi)),\n\t\t\tcatchError(this.handleError)\n\t\t\t);\n\t}\n\n\n\textractArticleDetails(data, doi){\n\t\tlet article = data.resultList.result[0];\n\t\treturn {\n\t\t\t'title': article.title,\n\t\t\t'authorList': article.authorString,\n\t\t\t'pubMedID': article.pmid,\n\t\t\t'doi': article.doi,\n\t\t\t'abstract': article.abstractText\n\t\t}\n\t}\n\n}\n","import { combineReducers } from 'redux'; \nimport { routerReducer } from '@angular-redux/router';\nimport { MTBLSStudy } from './models/mtbl/mtbls/mtbls-study';\nimport { STUDY_INITIAL_STATE, studyReducer } from './components/study/store';\nimport { SHARED_INITIAL_STATE, sharedReducer } from './components/shared/store';\n\nexport interface IAppState {\n  study: MTBLSStudy;\n  status: Object;\n}\n\nexport const INITIAL_STATE: IAppState = { \n  study: STUDY_INITIAL_STATE,\n  status: SHARED_INITIAL_STATE\n}\n\nexport const rootReducer = combineReducers({\n  study: studyReducer,\n  status: sharedReducer,\n  router: routerReducer\n});","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}